<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">



<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"zywifeliuying.top","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="C课设拯救计划  前言：为什么要专门耗费时间来写这么一个东西呢？如果你有幸考入了华中柯基大学，又在填志愿的时候阴差阳错的选择了人工智能或者自动化专业，那么你就马上会听闻只存在于传说中的C课设。">
<meta property="og:type" content="article">
<meta property="og:title" content="C课设拯救计划">
<meta property="og:url" content="https://zywifeliuying.top/2024/03/14/00/index.html">
<meta property="og:site_name" content="轻流扇萤">
<meta property="og:description" content="C课设拯救计划  前言：为什么要专门耗费时间来写这么一个东西呢？如果你有幸考入了华中柯基大学，又在填志愿的时候阴差阳错的选择了人工智能或者自动化专业，那么你就马上会听闻只存在于传说中的C课设。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/1.png">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/2.png">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/3.jpeg">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/4.png">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/5.png">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/6.png">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/7.jpg">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/8.jpg">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/9.jpg">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/10.jpg">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/11.jpg">
<meta property="og:image" content="https://zywifeliuying.top/2024/03/14/00/11.jpg">
<meta property="article:published_time" content="2024-03-14T12:11:24.000Z">
<meta property="article:modified_time" content="2024-10-26T13:38:08.831Z">
<meta property="article:author" content="孑瓜子">
<meta property="article:tag" content="C课设">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zywifeliuying.top/2024/03/14/00/1.png">

<link rel="canonical" href="https://zywifeliuying.top/2024/03/14/00/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <!-- require APlayer -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
  <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
  <!-- require MetingJS -->
  <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
  <meting-js
    server="netease"
    type="playlist"
    fixed="true"
    id="9467901797"
    auto=""
    mini="true"
    autoplay="true"
    theme=""
    loop="all"
    order="random"
    preload="auto"
    volume="0.4"
    mutex="true"
    list-folded="true"
    list-max-height="340px"
    storage-name="metingjs" >
  </meting-js>

  <title>C课设拯救计划 | 轻流扇萤</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>



</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">轻流扇萤</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">~溢</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-download fa-fw"></i>资源</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zywifeliuying.top/2024/03/14/00/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="孑瓜子">
      <meta itemprop="description" content="冷眼旁观，热心如火">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="轻流扇萤">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C课设拯救计划
        </h1>

        <div class="post-meta">



  <i class="fa fa-thumb-tack"></i>
  <font color=7D26CD>置顶</font>
  <span class="post-meta-divider">|</span>

            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-03-14 20:11:24" itemprop="dateCreated datePublished" datetime="2024-03-14T20:11:24+08:00">2024-03-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-10-26 21:38:08" itemprop="dateModified" datetime="2024-10-26T21:38:08+08:00">2024-10-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C%E8%AF%BE%E8%AE%BE%E6%8B%AF%E6%95%91/" itemprop="url" rel="index"><span itemprop="name">C课设拯救</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="C课设拯救计划"><a href="#C课设拯救计划" class="headerlink" title="C课设拯救计划"></a>C课设拯救计划</h1><p>  <strong>前言：为什么要专门耗费时间来写这么一个东西呢？如果你有幸考入了华中柯基大学，又在填志愿的时候阴差阳错的选择了人工智能或者自动化专业，那么你就马上会听闻只存在于传说中的C课设。<span id="more"></span>不仅仅是用了一种已经消失数十年的编译器: 爆烂的C（Borland C3.1，又简称为BC）。不仅其自身使用起来十分的麻烦，令人恼火，而且你几乎找不到任何什么学习BC编程的途径。虽然有学长学姐代代相传的帮忙，但这种事是学院默许的，亦可以说是学院支持的。故，从中也难以学到什么。所以对于大部分而言，结果往往是到deadline的时候，抄写，篡改前人留下来的代码，或者求助选同样题目的同学……</strong></p>
<p>  <strong>所以，特此写一份较为详细的拯救计划。</strong></p>
<h2 id="BC下载链接"><a href="#BC下载链接" class="headerlink" title="BC下载链接"></a>BC下载链接</h2><p><a href="/download/BC.zip">点击下载爆烂的C</a></p>
<h2 id="BC最基本的用法"><a href="#BC最基本的用法" class="headerlink" title="BC最基本的用法"></a>BC最基本的用法</h2><p>  <strong>首先，不会真的有人会用BC这种东西来编写C课设吧？就其作用而言，不建议给自己找痛苦。</strong></p>
<p> <strong>先上BC的图片（建议在电脑上食用，手机可能排版会出问题）</strong></p>
<p><strong><img src="/2024/03/14/00/1.png" class="" title="这是一张图片"></strong></p>
<hr>
<p><strong><img src="/2024/03/14/00/2.png" class="" title="这是一张图片"></strong></p>
<hr>
<ul>
<li><p><strong>建立工程：意思就是把你写的代码变成一个.exe文件。如何建立？点击Project 有个open，直接输入新建的pgi(？)的名字（就是把那个*.pgi改成 1.pgi等等），这样就可以add 你自己编写的.c文件了。全部添加进去后，点Run，success就行，最终编写完成，就点Compile （?）。</strong></p>
</li>
<li><p><strong>其他：其他的东西自己慢慢摸索，差不多就能搞懂了。BC我目前用过的东西有: Edit中的 复制粘贴，主要是修改错误时会用BC直接修改（一些简单的问题）。注意在BC中修改后一定要点File中的save（BC没编译成功不会自动保存）。还有一个就是Window中的Output，可以查看文本窗口的输出，但基本没用（基本都是图形化窗口，用不到）</strong></p>
</li>
<li><p><strong>关于环境配置，其实没什么，所谓环境配置，就是一个简单的设置Options中的Output，和什么什么的。这些东西自己看看就会慢慢理解的。而且，群里都有配置好了的BC，直接用就行。也可以找我要。至于什么纯净的BC，就是没有学长学姐的工程。但大部分你只要把他们写的东西删掉就行了（除非有人自己改BC）。</strong></p>
</li>
<li><p><strong>你用别的编译器写的汉字，在BC中是无法显示的，原因是汉字编码方式的不同，具体可参考<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1BT421a7N6/?spm_id_from=333.999.0.0%E3%80%82">https://www.bilibili.com/video/BV1BT421a7N6/?spm_id_from=333.999.0.0。</a></strong></p>
</li>
<li><p><strong>自此，我相信你已经学会了使用BC建立工程。虽然你可能还不会编写。</strong></p>
<hr>
</li>
</ul>
<p><strong><img src="/2024/03/14/00/3.jpeg" class="" title="这是一张图片"></strong></p>
<hr>
<p>  <strong>如果还是不会使用BC，可以去看看别人怎么用的。</strong></p>
<h2 id="头文件的编写"><a href="#头文件的编写" class="headerlink" title="头文件的编写"></a>头文件的编写</h2><p><strong>(三月16日更新)</strong></p>
<p>  <strong>头文件编写还是有固定的套路的，一般你自己直接复制粘贴就行。</strong></p>
<p>  <strong>这里介绍通用的模板：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _COMMON_H_  // 这里的意思是if not define </span><br><span class="line">#define _COMMON_H_  //则define; common.h,是你自己命名的头文件名字，注意文件后缀</span><br><span class="line">//这里就是函数声明，和一些struct的引用，或者define a 1;什么什么的</span><br><span class="line">void hanshu();</span><br><span class="line"></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<p>  <strong>那么这个的原理就是条件编译，其目的在于<del>水代码</del> 防止头文件重复包含（？。有兴趣自己检索就行。</strong></p>
<p>  <strong>当然一般而言我们还会编写一个总头文件，一般命名为common.h; 你可以发现它就是如同这样</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _COMMON_H_</span><br><span class="line">#define _COMMON_H_</span><br><span class="line">/*</span><br><span class="line">----------------------------</span><br><span class="line">包含所有的头文件，</span><br><span class="line">以后引用头文件只需要 include &quot;common.h&quot;；</span><br><span class="line">更加方便，代码简洁</span><br><span class="line">----------------------------</span><br><span class="line">*/</span><br><span class="line">#include&lt;graphics.h&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">#include&lt;bios.h&gt;</span><br><span class="line">#include&lt;string.h&gt;</span><br><span class="line">#include&lt;dos.h&gt;</span><br><span class="line">#include&lt;math.h&gt;</span><br><span class="line">#include&lt;time.h&gt;</span><br><span class="line">#include &lt;conio.h&gt;</span><br><span class="line">//上面是BC自带的头文件，下面为自己编写的</span><br><span class="line"></span><br><span class="line">//----必备</span><br><span class="line">#include&quot;mouse.h&quot;//鼠标库</span><br><span class="line">#include&quot;hz.h&quot;//汉字库</span><br><span class="line"></span><br><span class="line">//--界面</span><br><span class="line">#include &quot;welcome.h&quot;//开屏动画</span><br><span class="line">#include &quot;mainpage.h&quot;//主界面</span><br><span class="line">#include &quot;mainfunc.h&quot;//农田界面</span><br><span class="line">#include &quot;history.h&quot;//历史记录界面</span><br><span class="line">#include &quot;usehelp.h&quot;//系统说明界面</span><br><span class="line"></span><br><span class="line">//---func:功能文件</span><br><span class="line">#include &quot;move.h&quot;//配合鼠标使用的鼠标move函数</span><br><span class="line">#include &quot;showtime.h&quot;//显示时间函数</span><br><span class="line">#include &quot;shuju.h&quot;//数据库</span><br><span class="line"></span><br><span class="line">#endif</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>  <strong>当然，这是我编写的尚未完成品。注意自己编写的 头文件最好用”” ，爆烂的C自带的用&lt;&gt;，具体原因有兴趣自己查找。</strong></p>
<p>  <strong>那么关于头文件的全部暂且就到这里了。当然你建立工程的时候如果把头文件不需要手动添加。</strong></p>
<p><strong>拜拜了~</strong></p>
<hr>
<p><strong><img src="/2024/03/14/00/4.png" class="" title="这是一张图片"></strong></p>
<hr>
<h2 id="贴图的工厂化实现（已完善）"><a href="#贴图的工厂化实现（已完善）" class="headerlink" title="贴图的工厂化实现（已完善）"></a>贴图的工厂化实现（已完善）</h2><p> <strong>怎么贴图？很简单。爆烂的C可以用祖传的代码，批量化贴图。你根本不需要理解，你只需要CTRL C, CTRL V。n张图片便已经贴上去了。</strong></p>
<p>  <strong>废话不多说，直接上代码。这是一个使用例子。(?</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bmp_convert(&quot;1.bmp&quot;, &quot;1.dbm&quot;);</span><br><span class="line">open_display();</span><br><span class="line">show_dbm(100,100, &quot;1.dbm&quot;, 0);</span><br></pre></td></tr></table></figure>

<p><strong>其中，你只需要操作的部分如下：</strong></p>
<ul>
<li><p><strong>将1.bmp改成你要贴的图片的名字。不要告诉我你不知道文件后缀是什么。</strong></p>
</li>
<li><p><strong>当然还有所有的1.</strong></p>
</li>
<li><p><strong>其中show_dbm(100，100，…..)，前两个是贴图的位置，左上角坐标。</strong></p>
</li>
<li><p><strong>注意，这种只能贴bmp，而且还要用到ps修改。具体有祖传文件教学。这里我就不提供下载方式了。因为我日后会以图文形式补充，想必大家都能在救助群里找到。</strong></p>
<p><strong>就是这么多了。<del>当然，要#include .h文件。笑</del></strong></p>
<p><strong>注意，你的贴图文件放在source文件夹内，即和你的.c文件放一起。</strong></p>
<p><strong>为防止还<del>没</del>有人不会，上代码（？？？）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">？</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;graphic.h&gt;</span><br><span class="line">#include &lt;image.h&gt;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">int gd=VGA;//graphdriver</span><br><span class="line">int gm=VGAHI;//graphmode</span><br><span class="line">initgraph(&amp;gd,&amp;gm,&quot;C: \\BORLANDC\\BGI&quot;);//这里后面的C:什么的看放的BGI文件路径</span><br><span class="line"></span><br><span class="line">        bmp_convert(&quot;1.bmp&quot;, &quot;1.dbm&quot;);</span><br><span class="line">      open_display();</span><br><span class="line">       show_dbm(100,100, &quot;1.dbm&quot;, 0);</span><br><span class="line"></span><br><span class="line">       bmp_convert(&quot;2.bmp&quot;, &quot;2.dbm&quot;);</span><br><span class="line">       open_display();</span><br><span class="line">       show_dbm(300, 200, &quot;2.dbm&quot;, 0);</span><br><span class="line"></span><br><span class="line">getch();//鼠标按键后退出</span><br><span class="line">closegraph();</span><br><span class="line">delay(100)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>虽然不知道有没有问题，<del>但还是暂且认为该代码有问题吧（doge）</del></strong></p>
</li>
</ul>
<p><strong>附件：贴图祖传代码下载（已经修改，完美适配VGA模式 即640X480下的贴图）</strong></p>
<p><a href="/download/tietu.7z">点击下载</a> </p>
<hr>
<img src="/2024/03/14/00/5.png" class="" title="这是一张图片">



<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if(ImageW==0||ImageH==0||ImageW&gt;641||ImageH&gt;481)/////注意注意！！根据实际修改/</span><br><span class="line">&#123;</span><br><span class="line">	printf(&quot;The image is too large!Please input image below 640*480.&quot;);</span><br><span class="line">	fclose(fbmp);</span><br><span class="line">	return 1;</span><br><span class="line">&#125;</span><br><span class="line">if((fdbm=fopen(dbm,&quot;wb&quot;))==NULL)</span><br><span class="line">&#123;</span><br><span class="line">	printf(&quot;Creat \&quot;%s\&quot; error!&quot;,dbm);</span><br><span class="line">	return 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <strong>上述的头文件和.c文件经过了修改，至于.c文件，我们无需看懂原理。上面是.c文件大约40-50行部分代码。这里的Imagew 和ImangHI 要根据实际值修改。否则就会出现 The image is too… 然后贴图失败。。</strong></p>
<p>  *<em>这里的贴图的重要一点就是对 图片的处理， 首先要下个<del>VS</del> PS， 然后根据文件中的食用方法来便可。 当然其中有些东西不必在意。如：调用 show_dbm(int x,int y,char <em>dbm,int nowpage)即可在在(x,y)输出图片(x 需为 8 的倍数)，char * dbm 处填入的 dbm 文件地址。 这里的X并不需要为8的倍数。当然，也许只是我们没有理解其原因。但是只要能贴上图就行。</em></em></p>
<p>  <strong>贴图的工厂化实现就是这样了。请低调使用，勿宣传（.jpg）   —4.21.2024</strong></p>
<hr>
<img src="/2024/03/14/00/6.png" class="" title="这是一张图片">



<hr>
<h2 id="报告的借鉴以及验收过程"><a href="#报告的借鉴以及验收过程" class="headerlink" title="报告的借鉴以及验收过程"></a>报告的借鉴以及验收过程</h2><p>  <strong>在4月的27日，也是极其幸运的过了C课设。原因主要是抽到了好的验收老师。喜提A-。也是上演了一出抽卡现场。验收其实报告几乎不看（所以用的全局变量也是根本没看，当然据说这个看老师，有老师似乎喜欢看？？），所以没必要过于精细。代码分配部分，要把.c谁写的都写明。</strong></p>
<p>  <strong>报告直接借鉴即可食用。</strong></p>
<p><strong>验收过程实际上也很简单。就是要把你的CODE文件夹，复制到机房电脑的C盘（不是桌面）上，然后找到C盘中的Borlandc&#x2F;bin&#x2F;bc.exe。打开那个BC，然后自己改下路径即可。实际上手后十分简单。路径就是文件路径。所以我们在编写的过程中，最好用相对路径。比如文件的打开啥的。</strong></p>
<p>  <strong>老师是听我们讲了我们的程序功能。因为设计了梯田，被认为是相对一个创新的点，所以老师就简单的要我们加个功能。就是让无人机高度在农药喷洒时也显示，也就是一个调用函数的问题。当然，还要调调参数，总之十分简单。但也有老师很考验心态和能力。只能说，验收就是看抽卡。文件操作必须要掌握。验收时许多老师都重视，甚至要你改登录注册的代码。（而许多人是直接照搬的…）</strong></p>
<p><strong>就说这么多吧，愿世上再无C课设 –5.5</strong></p>
<p><a href="/download/C%E8%AF%BE%E8%AE%BE%E6%8A%A5%E5%91%8A%E6%9C%80%E7%BB%88.docx">报告下载</a> </p>
<hr>
<img src="/2024/03/14/00/7.jpg" class="" title="这是一张图片">



<hr>
<h2 id="英文输入法"><a href="#英文输入法" class="headerlink" title="英文输入法"></a>英文输入法</h2><p>  <strong>输入法是登陆注册界面必不可少的。那么这里直接提供代码，来源不明。具体如何使用请看编写的原作者（未知）的注释。</strong></p>
<p>  <strong>这里的输入法明显要和文件操作结合起来比较方便。或者数组之类。但还是用文件操作更好。</strong></p>
<p><strong>这里面呢，就两个函数，对应两种输入法。可视与不可视。调用即可。建议登录注册不必太过高级。基本功能实现即可，因为要么老师根本不看，要么老师要你加这里的功能。比如忘记密码、让输入的密码可视什么的。（而这些都容易实现（所以就有人故意不把程序搞完美，预判老师会要求加的功能…</strong></p>
<p><strong><a href="/download/input.7z">源文件下载</a></strong> </p>
<p><strong>那么就说这么多吧。虽然更新速度慢，但不是还早着吗？-5.19</strong></p>
<hr>
<img src="/2024/03/14/00/8.jpg" class="" title="这是一张图片">

<hr>
<h1 id="编程的开始"><a href="#编程的开始" class="headerlink" title="编程的开始"></a>编程的开始</h1><p>​     <strong>水了这么久，终于来到了激动人心的编程环节。<del>其实主要是因为不知道该水什么了</del>）那么为了节省一些时间，所以编程开始的讲解主要就是按照 我们那一组编写的代码的顺序来，毕竟，与其自己盲目的学这学那，不如完整的看一遍往届的代码。当然我自己尝试过，不过由于看不懂，所以收获不多。但还是收获良多。（比如时间显示就是看往届代码，贴图实现一开始也是看着<del>抄</del>写的）当然由于种种原因，不开放源代码，毕竟是个人劳动成果，白嫖有害身心健康，可通过邮件询问获取）</strong></p>
<p><strong>——5.23</strong></p>
<h2 id="思路历程"><a href="#思路历程" class="headerlink" title="思路历程"></a>思路历程</h2><p>&emsp;<strong>为什么C课设选题时选到了这道题目？  答：C课设选题，其实就是开一个大会，许多班的人坐在一个大教室。然后出题老师会分别讲题目的要求（当然，我是一点没听，大多数人也是），然后呢，不知道什么时候，班长就突然说来选题，其实就是在一张打印好的纸上，有题目的序号，填写你和你的队友的名字，学号。而且因为我们班是30个人，有15道题目，所以题目不能重复，就靠抢？（除非你们班班长很公平，想到了用抽签的方式决定选题的先后顺序。）</strong></p>
<p>  <strong>所以这里建议选题的时候，坐的离班长近一点。最好坐旁边。</strong></p>
<p>   <strong>我当时连队友都没找，听到说选题开始，才问谁还没组队。结果发现，所有人都早早组好了队伍（当然除了队友（他也是比较内向吧，与班里的人没交流。于是乎，一坨人为了选题乱挤。所以到我选题的时候，已经是最后了。幸而找到一道22级的题目，也就是这道题。于是乎，便莫名其妙的选好了题目。</strong></p>
<p><strong>&emsp;总结：</strong></p>
<ol>
<li><p><strong>开那个选题大会时，坐班长旁边比较好。</strong></p>
</li>
<li><p><strong>选题靠抢的话一定不要顾及什么面子啥的，直接乱挤，先到先得。不要有所谓的高尚，因为别人可不会管你，当你选到了一个痛苦的题目而无从下手时。。。。</strong></p>
</li>
<li><p><strong>队友尽量提前找好，而且尽量找负责的吧，行动力强。拖到deadline赶C课设，或者只有你一个人急，抑或是你一个人做了一堆事。。没必要，本来就是团队合作。</strong></p>
</li>
<li><p><strong>这个选题序号代表了验收的顺序，所以如果选的靠前（1-5的样子）那么就是第一天晚上验收。太靠后（10-15）就是最后一天了。所以选中间比较好。我选的是8。。因为第一天必有zcj，开局必有下马威吗，所以挂的可能性蛮大的，到后面也能有经验，你能问老师的验收风格，比如是加啥啥功能。最后验收就有点痛苦了。毕竟早死早超生。</strong></p>
</li>
<li><p><strong>还有聪明的人直接随便搞，挂科。如果不想保研确实可以如此。C课设重修只要程序能运行就过，所以可以借鉴代码。当还是别吧，当作<del>锻炼</del>自己的机会。</strong></p>
</li>
<li><p><strong>多问问往届学长，如果是往届的题目。不是的话自求多福。</strong></p>
</li>
<li><p><strong>程序没必要太过注重细节。比如什么精美啥的。老师看重的思路（我的就是因为那个梯田贴图让老师赞赏了），拿我的作为例子，两种农田，小农田的地形，农作物种类。。。（都是学长建议的。连夜加的。但梯田，高度显示是自己想到的。但是预验收时，学长也说到了许多没考虑到的点，比如多架无人机，无人机电量，无人机扫描农田（就是说，不是哪里有病就喷农药到哪里），无人机喷农药到一半就返航……</strong></p>
<p><strong>这些确实我基本没考虑，但万幸最后过了。现在看来还是验收老师好。</strong></p>
<p><strong>思路目前就这么多了，再见&#x2F;    ——6.14.2024</strong></p>
</li>
</ol>
<h2 id="后补"><a href="#后补" class="headerlink" title="后补"></a>后补</h2><p><strong>经过我的询问，也是终于找到了课设选题的文件：</strong></p>
<p><strong>2023级C语言课程设计</strong></p>
<p><strong>课程设计共同要求：</strong></p>
<p><strong>1．   用C语言编程实现，编译环境采用BC3.1，掌握C语言编写较复杂程序的一些基本技巧；</strong></p>
<p><strong>2．   要求在图形化界面下操作，界面要友好，不提倡使用贴图，贴图软件实现的功能必须控制在总代码量的5%以内；</strong></p>
<p><strong>3．   注意程序的结构，必须采用工程化的思想来组织程序；</strong></p>
<p><strong>4．   要求画流程图（没有流程图的不给评分）；</strong></p>
<p><strong>5．   两人一组，每班最多只出现一个三人组，小组个人代码和实现功能分工合理，每人程序不得少于1000行（登录、注册、开机欢迎动画界面、程序结束动画代码不计入）；</strong></p>
<p><strong>6．   每组提供一份报告，报告内容应包含数据结构设计、程序流程图、程序功能介绍、源代码等，并注明每人的工作量；</strong></p>
<p><strong>7．   原则上，不得使用全局变量；</strong></p>
<p><strong>8．   注意程序的可读性和可维护性；</strong></p>
<p> <strong>评分标准</strong></p>
<ol>
<li><strong>软件系统需求分析、系统分析与设计报告    15%</strong></li>
<li><strong>编程工作量                       10%</strong></li>
<li><strong>人机界面及接口                     10%</strong></li>
<li><strong>软件功能、软件结构、编码规范            30%</strong></li>
<li><strong>排错与调试技巧                     25%</strong></li>
<li><strong>团队协作                 10%</strong></li>
<li><strong>技术难度附加分                 （0-10分）</strong></li>
</ol>
<p><strong>特别提醒：出现下列情况，不予通过。</strong></p>
<p><strong>（1）个人有效代码量不足1000行；</strong></p>
<p><strong>（2）被2个老师认定代码抄袭的；</strong></p>
<p><strong>（3）不按指定时间进行验收的</strong></p>
<p><strong>（4）所选题目核心功能不能稳定运行的；</strong></p>
<p><strong>l 参考文献</strong></p>
<ol>
<li><strong>王士元. C高级实用程序设计. 北京: 清华大学出版社. 1996</strong></li>
<li><strong>周纯杰，刘正林等. 标准C语言程序及应用. 武汉: 华中科技大学出版社. 2005</strong></li>
<li><strong>周纯杰，何顶新等. 程序设计教程—用C&#x2F;C++语言编程. 北京: 机械工业出版社, 2016</strong></li>
<li><strong>姚远. 高级C语言程序设计技巧与实例. 北京: 机械工业出版社, 1995</strong></li>
<li><strong>陈清华, 朱红. C语言课程设计. 南京: 东南大学出版社, 2003</strong></li>
<li><strong>潭浩强. C语言程序设计. 北京: 清华大学出版社, 2000</strong></li>
</ol>
<p><strong>等等……</strong></p>
<p><strong>指导教师：周纯杰，何顶新，左峥嵘，高常鑫，汪国有，彭刚，周凯波，陈忠</strong></p>
<p><strong>C语言课程设计可选题目</strong></p>
<ol>
<li><strong>简历辅助设计系统</strong></li>
</ol>
<p><strong>主要功能说明：实现一个简历辅助设计系统。支持模板制作与模板选择；支持内容选择（比如，学习经历、实践经历等）；支持导入文本后自动排版；支持文本修改和简历修改。</strong></p>
<ol start="2">
<li><strong>武汉欢乐谷旅游模拟系统</strong></li>
</ol>
<p><strong>主要功能说明：为武汉欢乐谷设计并实现一个旅游模拟系统。支持地图查看和列表查看两种方式查看项目；支持在线门票相关业务、特殊项目在线预约、预约提醒、路线推荐等。</strong> </p>
<p>   <strong>3.小区物业管理app模拟</strong></p>
<p><strong>主要功能说明：完成一款典型小区物业管理app的各项功能仿真模拟。比如，华润物业的朝昔app。</strong></p>
<ol start="4">
<li><strong>夺岛军演游戏</strong></li>
</ol>
<p><strong>主要功能说明：模拟攻占岛屿军演作战系统，场景自主设定，兵力申请与调派，后勤物资补给等功能。</strong></p>
<p>​    <strong>5.智能家居app模拟</strong></p>
<p><strong>主要功能说明：完成包括空调、空气净化器、扫地机器人、冰箱、监控设备等至少5种联网设备的管理功能，具备家用设备的接入、设备启动、状态检测与显示，设备记录数据的分析等功能。</strong></p>
<ol start="6">
<li><strong>火星家园建设规划系统</strong></li>
</ol>
<p><strong>主要功能说明：模拟火星宜居家园部署规划、进行就地取材，建设人类家园生活设施，并提供演练展示。</strong></p>
<ol start="7">
<li><strong>林果自动采摘系统模拟</strong></li>
</ol>
<p><strong>主要功能说明：根据果园面积进行采摘路径规划、模拟智能农机进行采摘作业、对采摘林果进行统计、并运输林果到集中站进行储存、盘点等功能。</strong></p>
<ol start="8">
<li><strong>农田无人机喷洒农药模拟系统</strong></li>
</ol>
<p><strong>主要功能说明：利用无人机进行农作物生长监测，针对不同病害进行农药配制，对农药喷洒路径进行规划，模拟无人机喷洒过程等功能。</strong></p>
<ol start="9">
<li><strong>家庭看护机器人模拟仿真系统</strong></li>
</ol>
<p><strong>主要功能说明：根据家庭成员的需求，陪伴机器人进行家庭服务，包括人机交互、端茶倒水、炒菜做饭、开窗关窗、浇花扫地、健康监测、突发状况报警。</strong></p>
<p><strong>10.酒店服务机器人模拟仿真系统</strong></p>
<p><strong>主要功能说明：某酒店多服务机器人的服务全过程模拟，包括根据酒店的订单分配以及机器人送餐、送水、送快递等服务的全过程。</strong></p>
<ol start="11">
<li><strong>人工智能学院大楼智慧建造系统</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>实现场地平整、地基建设、楼房建设、外墙装饰的施工过程管理功能，包括图形化模拟显示、施工建材调度、施工进度管控等模块。</strong></p>
<ol start="12">
<li><strong>家用婴童陪伴神器</strong></li>
</ol>
<p><strong>主要功能说明：能识别婴童的状态（翻身、睡着、睡醒、口鼻被捂、呼吸频率、跟踪爬行过程）、电子围栏越过预警、典型过程抓拍形成成长相册。</strong></p>
<ol start="13">
<li><strong>学院５０年院庆组织过程模拟</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>模拟学院５０周年的庆典的全过程，包括院友的接待、组织、院庆当天活动的全过程。</strong></p>
<ol start="14">
<li><strong>学生选课模拟系统</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>参考HUB系统功能，以菜单方式模拟选课，包括后台课程管理和前端选课全过程，具有课程信息浏览、选课信息查询等功能。</strong></p>
<ol start="15">
<li><strong>东湖水质无人艇检测系统</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>模拟无人艇进行东湖水质检测的全过程，包括采集标本的无人艇航迹规划、水质态势分析及预测、治理措施及建议。</strong></p>
<ol start="16">
<li><strong>仿windows资源管理器系统</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>实现windows资源管理器的主要功能。</strong></p>
<ol start="17">
<li><strong>模拟BC的汉化文本编辑器</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>模拟BC的编辑器，界面需要汉字显示，至少包括BC编辑器的文件和编辑的相关功能。</strong></p>
<ol start="18">
<li><strong>无人驾驶汽车中控仪表系统模拟</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>具有无人驾驶汽车中控仪表系统主要功能的模拟。</strong></p>
<p><strong>19． 图书馆信息管理系统模拟</strong></p>
<p> <strong>主要功能：参考学校图书馆，模拟图书馆的主要核心功能。</strong></p>
<ol start="20">
<li><strong>FIFA世界杯2022淘汰赛模拟系统</strong></li>
</ol>
<p><strong>主要功能说明：</strong></p>
<p><strong>模拟FIFA世界杯2022淘汰赛全过程。包括各场比赛的集锦及技术统计、颁奖仪式、十佳进球模拟等功能。</strong></p>
<h1 id="源代码逐文件分析"><a href="#源代码逐文件分析" class="headerlink" title="源代码逐文件分析"></a>源代码逐文件分析</h1><p><strong>当然，我和我队友的代码基本完全独立，这样做十分有必要，尤其是你和队友不熟或者不能总是在同一个地方编写代码时。分工明确非常重要，否则到了ddl，你会十分的痛苦。而且，验收老师也基本有这个要求。一个人编写一个文件，最好互不干涉。</strong></p>
<h2 id="我编写的部分"><a href="#我编写的部分" class="headerlink" title="我编写的部分"></a>我编写的部分</h2><p><strong>其实主要的框架都是由我一人编写，因为队友实在难以沟通，但这样的好处是我自己对于整个程序的流程十分清楚，免去了必须看懂队友代码的麻烦。所以变成了队友必须看我的代码才能编写。下面列举出文件分析。</strong></p>
<h3 id="commom-h"><a href="#commom-h" class="headerlink" title="commom.h"></a><code>commom.h</code></h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#ifndef _COMMON_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _COMMON_H_</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">----------------------------</span></span><br><span class="line"><span class="comment">包含所有的头文件，</span></span><br><span class="line"><span class="comment">以后引用头文件只需要 include &quot;common.h&quot;；</span></span><br><span class="line"><span class="comment">更加方便，代码简洁</span></span><br><span class="line"><span class="comment">----------------------------</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#include&lt;graphics.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;stdlib.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;bios.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;string.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;dos.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;math.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;time.h&gt;</span></span><br><span class="line"><span class="meta">#include &lt;conio.h&gt;</span></span><br><span class="line"><span class="comment">//上面是BC自带的头文件，下面为自己编写的</span></span><br><span class="line"><span class="comment">//这里的头文件直接复制粘贴即可，不需要管太多。</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//----必备，这里主要是往届祖传文件</span></span><br><span class="line"><span class="meta">#include&quot;mouse.h&quot;//鼠标库</span></span><br><span class="line"><span class="meta">#include&quot;hz.h&quot;//汉字库</span></span><br><span class="line"><span class="meta">#include &quot;IMAGE.h&quot;//贴图</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//--界面</span></span><br><span class="line"><span class="meta">#include &quot;welcome.h&quot;//开屏动画</span></span><br><span class="line"><span class="meta">#include &quot;mainpage.h&quot;//主界面</span></span><br><span class="line"><span class="meta">#include &quot;mainfunc.h&quot;//农田界面</span></span><br><span class="line"><span class="meta">#include &quot;elsetian.h&quot;//另一个农田界面</span></span><br><span class="line"><span class="meta">#include &quot;usehelp.h&quot;//系统说明界面</span></span><br><span class="line"><span class="meta">#include &quot;growlook.h&quot;//生长检测动画</span></span><br><span class="line"><span class="meta">#include &quot;outcome.h&quot;//大农田的结果查看界面</span></span><br><span class="line"><span class="comment">//---func:功能文件</span></span><br><span class="line"><span class="meta">#include &quot;move.h&quot;//配合鼠标使用的鼠标move函数</span></span><br><span class="line"><span class="meta">#include &quot;showtime.h&quot;//显示时间函数</span></span><br><span class="line"><span class="meta">#include &quot;shuju.h&quot;//数据库</span></span><br><span class="line"><span class="meta">#include &quot;drzhiwu.h&quot;</span></span><br><span class="line"><span class="meta">#include &quot;abdrone.h&quot;</span></span><br><span class="line"><span class="meta">#include&quot;illness.h&quot;</span></span><br><span class="line"><span class="meta">#include &quot;recover.h&quot;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//这下面的都是队友编写的。</span></span><br><span class="line"><span class="meta">#include &quot;pensa.h&quot;</span></span><br><span class="line"><span class="meta">#include &quot;pensadh.h&quot;</span></span><br><span class="line"><span class="meta">#include &quot;pssj.h&quot;</span></span><br><span class="line"><span class="meta">#include &quot;zpjm.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p><strong>为了方便，我的所有的解释会全放到代码里面。</strong></p>
<p><strong>设置<code>common.h</code>其实是我看了几个往届代码从而发现的一个共性。作用经过检验发现是：把所有编写的.h文件放到这个.h文件中，以后编写.c文件只要<code>#include &quot;common.h&quot;</code>就可以了。免去了各种麻烦。当然，如果你想水代码可以不这样做，但是实在毫无必要。</strong></p>
<p><strong>这里其实含金量不大。头文件编写上面已经说过，因此就不再赘述了。可以发现，我们的编写其实并不规范，只是按照个人习惯罢了。比如头文件的命名，都是为了自己理解方便。当然我又不是码农，而且英语也不太好，所以基本用中文，英文，啥的。</strong></p>
<p><strong>还有一个建议：写代码的时候多写写注释，方便自己和队友看懂。</strong></p>
<h3 id="welcome"><a href="#welcome" class="headerlink" title="welcome"></a><code>welcome</code></h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#ifndef _WELCOM_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _WELCOM_H_</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">welc</span>(<span class="params"><span class="built_in">int</span> *a</span>)</span>;<span class="comment">//函数声明</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span>  </span></span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">----------------------------------------</span></span><br><span class="line"><span class="comment">欢迎界面</span></span><br><span class="line"><span class="comment">----------------------------------------</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#include &quot;common.h&quot;</span></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">welc</span>(<span class="params"><span class="built_in">int</span> *a</span>)<span class="comment">//欢迎页 </span></span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (*a == <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		setbkcolor(WHITE);<span class="comment">//background color</span></span><br><span class="line">		setcolor(GREEN);<span class="comment">//边界color</span></span><br><span class="line">		setfillstyle(<span class="number">1</span>, GREEN);<span class="comment">//</span></span><br><span class="line">		puthz(<span class="number">40</span>, <span class="number">150</span>, <span class="string">&quot;农田无人机喷洒农药系统&quot;</span>, <span class="number">32</span>, <span class="number">50</span>, GREEN);</span><br><span class="line">		puthz(<span class="number">100</span>, <span class="number">250</span>, <span class="string">&quot;你最好的选择！&quot;</span>, <span class="number">32</span>, <span class="number">50</span>, GREEN);</span><br><span class="line">		*a = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment"><span class="doctag">///</span>/-------------加载动画</span></span><br><span class="line">	setfillstyle(<span class="number">1</span>, RED);</span><br><span class="line">	bar(<span class="number">110</span>, <span class="number">300</span>, <span class="number">530</span>, <span class="number">380</span>);</span><br><span class="line">	puthz(<span class="number">125</span>, <span class="number">322</span>, <span class="string">&quot;加载中&quot;</span>, <span class="number">32</span>, <span class="number">50</span>, YELLOW);</span><br><span class="line">	setfillstyle(<span class="number">1</span>, YELLOW);</span><br><span class="line">	bar(<span class="number">265</span>, <span class="number">320</span>, <span class="number">305</span>, <span class="number">360</span>);</span><br><span class="line">	delay(<span class="number">400</span>);</span><br><span class="line">	bar(<span class="number">315</span>, <span class="number">320</span>, <span class="number">355</span>, <span class="number">360</span>);</span><br><span class="line">	delay(<span class="number">400</span>);</span><br><span class="line">	bar(<span class="number">365</span>, <span class="number">320</span>, <span class="number">405</span>, <span class="number">360</span>);</span><br><span class="line">	delay(<span class="number">400</span>);</span><br><span class="line">	bar(<span class="number">415</span>, <span class="number">320</span>, <span class="number">455</span>, <span class="number">360</span>);</span><br><span class="line">	delay(<span class="number">400</span>);</span><br><span class="line">	bar(<span class="number">465</span>, <span class="number">320</span>, <span class="number">505</span>, <span class="number">360</span>);</span><br><span class="line">	delay(<span class="number">400</span>);<span class="comment">//这里就是实现了一个动画的过程，原理十分简单。。。。。。</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这里为了方便，直接把.c和.h文件放到一个标题中了。毕竟在算代码量的时候也会剔除头文件，而且似乎那个课程报告里也不用？但我加了。可以看到，头文件编写就只要Ctrl c + Ctrl v 就可以了。</strong></p>
<p><strong>我应该先讲讲main.c文件的，但晚了。</strong></p>
<p>*<em>这里的<code>*a</code>有什么用呢？其实就是我在调用函数的时候是 welc(&amp;a)，而a在main.c那里赋值了初始值1。这样welc函数就运行了一次，之后在函数内部 <em>a&#x3D;0，所以这样之后就不再调用。实现了调用一次的作用。这个还是要先看main.c了解总体框架。</em></em></p>
<h3 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">//程序控制台：负责页面跳转。</span><br><span class="line">//实现各个函数的跳转，调用</span><br><span class="line">void main(void)</span><br><span class="line">&#123;</span><br><span class="line">	int a1 = 1;</span><br><span class="line">	int a2 = 1;</span><br><span class="line">	int a3 = 1;</span><br><span class="line">	int a4 = 1;</span><br><span class="line">	int a5 = 1;</span><br><span class="line">	int a6 = 1;</span><br><span class="line">	int a7 = 1;</span><br><span class="line">	int a8 = 1;</span><br><span class="line">	int a9 = 1;</span><br><span class="line">	int a10 = 1;</span><br><span class="line">	int i, j;</span><br><span class="line">	int page;//页面值</span><br><span class="line">	//初始化VGA模式</span><br><span class="line">	int gd=VGA;//graphdriver</span><br><span class="line">	int gm=VGAHI;//graphmode</span><br><span class="line">	initgraph(&amp;gd,&amp;gm,&quot;C:\\BORLANDC\\BGI&quot;);//这里后面的C:什么的看放的BGI文件路径</span><br><span class="line">	page=0;//初始化为0；</span><br><span class="line">	mouseinit();//这里是祖传代码里面的，初始化鼠标，就是生成一个鼠标。</span><br><span class="line">	</span><br><span class="line">	while (1) </span><br><span class="line">	&#123;</span><br><span class="line">		switch (page)</span><br><span class="line">		&#123;</span><br><span class="line">			case 0:</span><br><span class="line">				page = moveint(welc, &amp;a1);//欢迎界面，return：welc中的1//可参考 move.c。</span><br><span class="line">				break;</span><br><span class="line">                </span><br><span class="line">			case 1:</span><br><span class="line">				page = moveint(hello, &amp;a2);//主界面，return各种数字。</span><br><span class="line">				for (i = 0; i &lt; 5; i++)</span><br><span class="line">				&#123;</span><br><span class="line">					nongyao[i] = 0;</span><br><span class="line">				&#125;//这里是队友后面加的，修bug。不用管</span><br><span class="line">				break;</span><br><span class="line">				</span><br><span class="line">			case 2:</span><br><span class="line">				page = moveint1(mainfunc, &amp;a3,diannian_bitmap,dianbai_bitmap,dianmian_bitmap);//大农田界面。简单农田。</span><br><span class="line">				nongyao[5] = 0;</span><br><span class="line">				//这里本质就是调用了mainfunc这个函数，后面这一坨是当时没想好，懒得改了。</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line">				</span><br><span class="line">			case 3:</span><br><span class="line">				page = moveint( elsetian, &amp;a4);//另一个奇怪的农田。进阶农田，</span><br><span class="line">				nongyao[5] = 1;//队友加的，修bug，农药配置那的，这里是直接用了全局变量</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line"></span><br><span class="line">			case 4:</span><br><span class="line">				page = moveint(usepage, &amp;a5);//系统说明界面，主要介绍了本系统的使用方法</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line"></span><br><span class="line">			case 5:</span><br><span class="line">				page = moveint(elseoutcome, &amp;a6);//小农田的结果查看界面。。</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			case 6:</span><br><span class="line">				page = moveint(outcome, &amp;a7);//查看大农田，说明农作物具体的生长状况，，</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			case 7:</span><br><span class="line">				page = moveint2(zhuzhan, &amp;a8, nongyao);</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			case 8:</span><br><span class="line">				page = moveint2(zpjiemian, &amp;a9, nongyao);//装配农药</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			case 9:</span><br><span class="line">				page = moveint3(psdonghua, &amp;a10, nongyao, diannian_bitmap, dianbai_bitmap, dianmian_bitmap, rount, &amp;amtjudge);//喷洒动画</span><br><span class="line"></span><br><span class="line">				break;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			case -1://-1是点了 退出 框框；直接关闭BC</span><br><span class="line">				break;</span><br><span class="line">			default :break;	</span><br><span class="line">		&#125;</span><br><span class="line">		if (page==-1) </span><br><span class="line">			break;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	delay(1000);//程序结束运行</span><br><span class="line">	closegraph();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这里总体就是用了switch page模式。调用的函数代表不同的界面，函数通过改变返回值来实现界面的跳转。这里的moveint什么的是一个我编写的中转的函数，功能就是防止鼠标留痕啥的。具体后面会说到。</strong></p>
<p><strong>这里只需要学到这个界面跳转的基本框架即可。</strong></p>
<hr>
<p><strong><img src="/2024/03/14/00/9.jpg" class="" title="这是一张图片"></strong></p>
<hr>
<p><strong>这次更新就到这里吧。bye~</strong></p>
<p><strong>——6.28</strong></p>
<h3 id="函数介绍（1）"><a href="#函数介绍（1）" class="headerlink" title="函数介绍（1）"></a>函数介绍（1）</h3><h4 id="setbkcolor"><a href="#setbkcolor" class="headerlink" title="setbkcolor"></a>setbkcolor</h4><p><strong>即：set background color,设置背景颜色十分通俗易懂。用法：就是setbkcolor(    );  括号里面加颜色的英文大写。但是颜色也是有种类的，并不是可以随心所欲的调色。颜色具体有如下：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#define	BLACK//黑色			0</span><br><span class="line">#define	BLUE//蓝色			0xAA0000</span><br><span class="line">#define	GREEN	//绿色		0x00AA00</span><br><span class="line">#define	CYAN	//青绿		0xAAAA00</span><br><span class="line">#define	RED		//红色		0x0000AA</span><br><span class="line">#define	MAGENTA	//紫红		0xAA00AA</span><br><span class="line">#define	BROWN	//棕色	    0x0055AA</span><br><span class="line">#define	LIGHTGRAY//浅灰		0xAAAAAA</span><br><span class="line">#define	DARKGRAY	//深灰	0x555555</span><br><span class="line">#define	LIGHTBLUE	//淡蓝	0xFF5555</span><br><span class="line">#define	LIGHTGREEN	//浅绿	0x55FF55</span><br><span class="line">#define	LIGHTCYAN//浅青   	0xFFFF55</span><br><span class="line">#define	LIGHTRED	//浅红	0x5555FF</span><br><span class="line">#define	LIGHTMAGENTA//浅紫    0xFF55FF</span><br><span class="line">#define	YELLOW	//黄色	    0x55FFFF</span><br><span class="line">#define	WHITE	//白色		0xFFFFFF</span><br></pre></td></tr></table></figure>

<h4 id="setcolor"><a href="#setcolor" class="headerlink" title="setcolor"></a>setcolor</h4><p><strong>也就是设置颜色，主要是边框的颜色，<code>setcolor(GREEN);</code> 之后你用的各种绘图函数所绘制出来的图形，点，线的边框颜色就是绿色。就像画图这个软件一样。bar, rectangle, line, putpixel. 其颜色与上面的表一致。</strong></p>
<h4 id="setfillstyle"><a href="#setfillstyle" class="headerlink" title="setfillstyle"></a>setfillstyle</h4><p><strong>设置填充颜色。setfillstyle所设置的填充颜色只对于一些特定的函数有用。比如bar.bar与rectangle的区别是，前者含义是画实心矩形，后者不是。这也就意味这，setfillstyle之后，bar的边框颜色还是由setcolor决定的，但内部的颜色是setfillstyle的颜色。rectangle内部颜色还是背景色。</strong></p>
<p><strong>用法：<code>setfillstyle( 1, GREEN);</code>第二个参数是要填充的颜色，第一个参数代表了填充的方式。具体见下表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">EMPTy_FILL               0         用背景色填充区域(空填)</span><br><span class="line">SOLID_FILL               1         用实填充色填充(实填)</span><br><span class="line">LINE_FILL                2         ----填充</span><br><span class="line">LTSLASH_FILL             3         ///填充</span><br><span class="line">SLASH_FILL               4         ///用粗线填充</span><br><span class="line">BKSLASH_FILL             5         用粗线填充</span><br><span class="line">LTBKSLASH_FILL           6         填充</span><br><span class="line">HATCH_FILL               7         网格线填充</span><br><span class="line">xHATCH_FILL              8         斜网格线填充</span><br><span class="line">INTEREAVE_FILL           9         间隔点填充</span><br><span class="line">WIDE_DOT_FILL            10        大间隔点填充</span><br><span class="line">CLOSE_DOT_FILL           11        小间隔点填充</span><br><span class="line">USER_FILL                12        用户定义图样填充</span><br></pre></td></tr></table></figure>

<p><strong>正确性我并没有确定，一般而言，在使用bc过程中，我只用到了<code>setfillstyle(1,  );</code>其中数字和英文是等效的。其实如果聪明的话，你也许已经想到，可以用数字代表颜色，这样可以用一个数组把颜色给储存起来，从而实现颜色的改变。当然我本人是没有尝试过的。</strong></p>
<h4 id="bar"><a href="#bar" class="headerlink" title="bar"></a><strong>bar</strong></h4><p><strong>用法: bar(a,b ,c,d); 四个参数分别代表左上角和右下角的坐标x，y。十分简单。只需要注意界面的坐标系是怎么建的即可。这个要看图形化的模式，也就是下面的initgraph中会讲到的。意义为画实心矩形。颜色由setcolor和setfillstyle决定。</strong></p>
<h4 id="delay"><a href="#delay" class="headerlink" title="delay"></a>delay</h4><p><strong>十分简单，就是delay( 1000); 数字代表毫秒。一般的用途是防止鼠标的连续点击（就是说点一次但实际效果是多次），还有界面跳转时用用防止跳转频繁导致bc崩。加上总没事。</strong></p>
<h4 id="initgraph和closegraph"><a href="#initgraph和closegraph" class="headerlink" title="initgraph和closegraph"></a>initgraph和closegraph</h4><p><strong>图形化界面必用。只需要main函数里用一次就行。用法如下：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">int gd=VGA;//graphdriver</span><br><span class="line">	int gm=VGAHI;//graphmode</span><br><span class="line">	initgraph(&amp;gd,&amp;gm,&quot;C:\\BORLANDC\\BGI&quot;);//这里后面的C:什么的看放的BGI文件路径</span><br><span class="line"></span><br><span class="line">//省略。。。。。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">closegraph();</span><br></pre></td></tr></table></figure>

<p><strong>这里就是直接复制粘贴即可。唯一要注意的就是initgraph中的“  ”这里的文件路径要根据bgi文件夹的路径来。所以验收的时候就要注意了，最好把你的文件放到那个C盘里。具体验收的流程我以后记得会补充。</strong></p>
<p><strong>原理可以自行上网搜索。</strong></p>
<p>  <strong>——7.17</strong></p>
<h3 id="usehelp"><a href="#usehelp" class="headerlink" title="usehelp"></a>usehelp</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">/*========================</span><br><span class="line">用户说明界面</span><br><span class="line">简单的操作说明书</span><br><span class="line">=========================*/</span><br><span class="line">int usepage(int* a5)</span><br><span class="line">&#123;</span><br><span class="line">	if (*a5 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		cleardevice();</span><br><span class="line">		setbkcolor(WHITE);//background color</span><br><span class="line">		setcolor(RED);//边界color</span><br><span class="line">		setfillstyle(1, RED);//意思：设置绿色的填充模式为1（完全填充）</span><br><span class="line">		rectangle(600, 0, 640, 40);</span><br><span class="line">		line(600, 0, 640, 40);</span><br><span class="line">		line(640, 0, 600, 40);</span><br><span class="line">		rectangle(0, 0, 80, 40);</span><br><span class="line">		puthz(5, 5, &quot;返回&quot;, 32, 40, GREEN);</span><br><span class="line">		puthz(250,10, &quot;系统说明&quot;, 32, 30,GREEN);</span><br><span class="line">		setcolor(GREEN);//边界color</span><br><span class="line">		rectangle(10, 50, 635, 470);</span><br><span class="line">		puthz(10+5, 50+5, &quot;该系统模拟了两个不同的农田，代表了两种不同的用户。平坝田地势平坦，一览无余，适用于种植大户，设置了小麦与玉米间种。小农田地势多样、具有障碍物，植物多种分布不匀杂乱。操作流程：首先进入农田，点击生长检测，此时无人机运行开始检测。结束后，可以在结果查看界面查看农作物的患病情况，并根据需要，选择配置相应的农药。农药装配到无人机后，无人机会自动进行最优路径规划，并进行农药喷洒。&quot;, 32, 30, GREEN);</span><br><span class="line">		*a5 = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	showbiankuang(0, 0, 80, 40);//showbiankuang是自己编写的一个函数，作用为鼠标移动到那里会标亮矩形边框提示。实际意义不大，因为验收老师不会关注这个。但闲的时候可以直接套用。</span><br><span class="line">	showbiankuang(600, 0, 640, 40);</span><br><span class="line">	//界面的跳转</span><br><span class="line">	if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		return -1;//关闭BC。</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		*a5 = 1;//注意这里要把a5还原。</span><br><span class="line">		return 1;//</span><br><span class="line">	&#125;</span><br><span class="line">	return 4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  <strong>为了方便和效率，没有特殊列出，头文件只有源文件里面的函数声明。所以这里的usehelp.h就略去了。这里巧妙的一点就是函数传入了a5这个参数，这样使得if（a5&#x3D;&#x3D;1）这里面的代码只调用一次，能够很好的防止各种bug，界面更加稳定。我这里所有的界面跳转都用到了这个基本的思想。</strong></p>
<h3 id="move"><a href="#move" class="headerlink" title="move"></a>move</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">/*--------------</span><br><span class="line">  解决了鼠标的闪动问题，</span><br><span class="line">  解决了鼠标被 图像遮挡的问题</span><br><span class="line">--------------*/</span><br><span class="line">//适用于 int类型函数。可参考 welcome.h中的使用</span><br><span class="line">int moveint(int (*hanshu)(int*), int* a)</span><br><span class="line">&#123;</span><br><span class="line">	int b;</span><br><span class="line">	if (*a == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">	&#125;</span><br><span class="line">     b= hanshu(a);//顺序有严格要求，不能颠倒，否则出问题</span><br><span class="line">	 if (*a != -10)//注意只能if，不能while,而且，这里的*a!=-10是为了消除warning</span><br><span class="line">	 &#123;</span><br><span class="line">		newmouse(&amp;MouseX, &amp;MouseY, &amp;press);</span><br><span class="line">	 &#125;</span><br><span class="line">	return b;</span><br><span class="line">&#125;</span><br><span class="line">int moveint1(int (*hanshu)(int*, unsigned char(*)[49], unsigned char(*)[49], unsigned char(*)[49]), int* a, unsigned char b[384][49], unsigned char c[192][49], unsigned char d[192][49])//这个不用看，这么复杂是因为当时不知道文件操作怎么用。。</span><br><span class="line">&#123;</span><br><span class="line">	int bbb;</span><br><span class="line">	if (*a == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">	&#125;</span><br><span class="line">	bbb = hanshu(a,b,c,d);</span><br><span class="line">	if (*a!=-10)</span><br><span class="line">	&#123;</span><br><span class="line">		newmouse(&amp;MouseX, &amp;MouseY, &amp;press);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	return bbb;</span><br><span class="line">&#125;</span><br><span class="line">void showbiankuang(int x1, int y1, int x2, int y2)//用于显使得鼠标在 矩形中显示边框</span><br><span class="line">&#123;//矩形的内部颜色都是白色</span><br><span class="line">	if (mouse_press( x1,  y1,  x2, y2)==2|| mouse_press(x1, y1, x2, y2) == 1)</span><br><span class="line">	&#123;//鼠标在框内，而且不处于左键点击状态。其实也可以不这么写。</span><br><span class="line">		setcolor(BLUE);</span><br><span class="line">		rectangle(x1 + 1, y1 + 1, x2 - 1, y2 - 1);//内部标亮为蓝色</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		setcolor(WHITE);</span><br><span class="line">		rectangle(x1 + 1, y1 + 1, x2 - 1, y2 - 1);//覆盖标亮</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这里总共就三个函数，第一个和第二个的原理一模一样，只不过是能调用的函数类型不一样。moveint这个函数就是智能调用函数形式为 <code>int hanshu(int *a);</code>这种定义类型的。同理你可以根据实际情况改成，比如<code>movevoid(void (*hanshu)(int ),int *a)</code>。这个原理就是把函数作为参数传递。唯一作用就是解决历代流传下来的界面跳转时的鼠标留痕问题。</strong></p>
<h3 id="showtime"><a href="#showtime" class="headerlink" title="showtime"></a>showtime</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">#include &quot;shuju.h&quot;</span><br><span class="line">#include &quot;showtime.h&quot;</span><br><span class="line">/*-----------------------------------------------------</span><br><span class="line">展示时间，具体时间可以自行修改，显示的坐标也可以。</span><br><span class="line">注意这里实现了时间每秒刷新一次。</span><br><span class="line">------------------------------------------------------*/</span><br><span class="line">void displayCurrentTime(void)</span><br><span class="line">&#123;</span><br><span class="line">	int currenttime = 1;//设定现在时间,初始化。</span><br><span class="line">	int pasttime = 0;//参考时间</span><br><span class="line">	</span><br><span class="line">	////////////////////////////////</span><br><span class="line">	time_t timep;</span><br><span class="line">	struct tm* p;</span><br><span class="line">	char timeString[20]; // 获取当前时间的秒数</span><br><span class="line">	time(&amp;timep);	// 转换为协调世界时的时间结构体</span><br><span class="line">	 p = localtime(&amp;timep);</span><br><span class="line">	 //这一段是通用代码，就是直接复制即可，就是把时间的信息放到了timep这个结构里面</span><br><span class="line">	 //////////////////////////////</span><br><span class="line">	 </span><br><span class="line">	currenttime = p-&gt;tm_sec;//赋值</span><br><span class="line">	getshijian1(&amp;pasttime);//实现一段时间内（1s）pasttime=currenttime.</span><br><span class="line">	//get...这个函数就是把文件里面的数字传给pasttime，相当于赋值。。</span><br><span class="line">	if (pasttime != currenttime)//利用这个实现每过一秒中就刷新一个，具体自己理解）</span><br><span class="line">	&#123;</span><br><span class="line">		clearTimeArea();// 清除时间显示区域</span><br><span class="line">		pasttime = currenttime;</span><br><span class="line">		setshijian1(pasttime);//把文件里面的数字改成pattime的数字</span><br><span class="line">	&#125;</span><br><span class="line">	// 在窗口中显示转换后的时间信息</span><br><span class="line">	setcolor(LIGHTGREEN);//outtextxy的颜色</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);//HOR...表示横向显示，第二个1表是字体大小。1为小，0默认。2，3..大</span><br><span class="line">	outtextxy(10, 10, &quot;Local Time&quot;);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	sprintf(timeString, &quot;%d-%02d-%02d- %02d:%02d:%02d&quot;,//图形化下的数据显示函数。sprintf将这些储存到timestring字符串中</span><br><span class="line">		p-&gt;tm_year + 1900, p-&gt;tm_mon + 1, p-&gt;tm_mday,</span><br><span class="line">		p-&gt;tm_hour, p-&gt;tm_min, p-&gt;tm_sec);//这里要加1900和1的原因感兴趣自己可以去查。</span><br><span class="line">	outtextxy(10, 30, timeString);//显示字符串</span><br><span class="line">&#125;</span><br><span class="line">/*-----------------------------------------------------</span><br><span class="line">用一个实心矩形（注意改背景色），遮挡。</span><br><span class="line">并不断刷新，实现部分cleardevice()的效果。	    c=bioskey(0);   //读取键盘输入内容</span><br><span class="line">------------------------------------------------------*/</span><br><span class="line">void clearTimeArea(void) &#123;</span><br><span class="line">	setcolor(WHITE);</span><br><span class="line">	setfillstyle(SOLID_FILL, WHITE);</span><br><span class="line">	bar(10, 30, 300, 55);  // 清除时间显示区域</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&emsp;<strong>这里实现了一个时钟的显示吧，意义不大，主要是让界面看起来更丰富一点。clearTimeArea就是用一个矩形覆盖上一秒的数字，然后重新outtexty，这样就实现了时间的更新。但是要实现每秒更新一次时间，就要引入pasttime了。否则实际情况是clearTimeArea一直在执行，导致时钟一直在闪烁。原理用到了文件操作。但其实，我一开始是直接用结构（struct）然后直接全局变量。。在shuju.h中你也会见到全局变量的用法。</strong></p>
<p>  <strong>这个的原理还是比较简单的。但仍然存在的bug是鼠标放到时钟显示的地方会被遮挡，这个小细节还没想到如果优化，但其实意义不大，老师不会注重这些与选题无关的细节，就比如室友还加了买门票提醒出现小红点功能，碰到cj还不是直接挂？管你做的多细节？只要有一些核心的东西没到点就是寄。</strong></p>
<h3 id="mainpage"><a href="#mainpage" class="headerlink" title="mainpage"></a>mainpage</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">/*-----------------------------------------------------</span><br><span class="line">主界面的编写，实现不同功能界面的跳转</span><br><span class="line">可以一览本程序的功能。</span><br><span class="line">------------------------------------------------------*/</span><br><span class="line">int hello(int* a2)</span><br><span class="line">&#123;</span><br><span class="line">	//绘图,只画一次,绘制主界面</span><br><span class="line">	if (*a2 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		int i = -1;</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">		cleardevice();</span><br><span class="line">		setbkcolor(WHITE);//background color</span><br><span class="line">		setcolor(RED);</span><br><span class="line">		setfillstyle(1,RED );</span><br><span class="line">		rectangle(600, 0, 640, 40);</span><br><span class="line">		line(600, 0, 640, 40);</span><br><span class="line">		line(640, 0, 600, 40);//右上角画  退出</span><br><span class="line">		setcolor(GREEN);</span><br><span class="line">		puthz(80, 60, &quot;无人机喷洒农药系统&quot;, 32, 50, GREEN);</span><br><span class="line">		line(80, 100, 520, 100);//画标题</span><br><span class="line">		rectangle(220, 120, 420, 200);</span><br><span class="line">		rectangle(220, 240, 420, 320);</span><br><span class="line">		rectangle(220, 360, 420, 440);</span><br><span class="line">		puthz(230, 140, &quot;进入平坝田&quot;, 32, 38, GREEN);</span><br><span class="line">		puthz(230, 260, &quot;进入小农田&quot;, 32, 38, GREEN);</span><br><span class="line">		puthz(230, 380, &quot;系统说明&quot;, 32, 50, GREEN); </span><br><span class="line">		//画三个框框，代表三种功能。</span><br><span class="line">		*a2 = 0;</span><br><span class="line">		setshijian1(i);//初始化 time.dat文件</span><br><span class="line">	&#125;</span><br><span class="line">//else---------------------------------------------------</span><br><span class="line">	 displayCurrentTime();//左上角显示时间</span><br><span class="line">	 showbiankuang(220,120,420,200);//用于显使得鼠标在 矩形中显示边框</span><br><span class="line">	 showbiankuang(220, 240, 420, 320);</span><br><span class="line">	 showbiankuang(220, 360, 420, 440);</span><br><span class="line">	 showbiankuang( 600 ,0  ,640  ,40   );</span><br><span class="line"></span><br><span class="line">//-------------------------------------------------------</span><br><span class="line">	//界面的跳转</span><br><span class="line">		if( mouse_press(600,0,640,40) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			*a2 = 1;//使得函数参数重置，为了能够实现返回界面</span><br><span class="line">			return -1;//关闭BC。</span><br><span class="line">		&#125;</span><br><span class="line">		else if (mouse_press(220,120,420,200) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			*a2 = 1;</span><br><span class="line">			return 2;//进入大农田</span><br><span class="line">		&#125;</span><br><span class="line">		else if (mouse_press(220, 240, 420, 320)== 1)</span><br><span class="line">		&#123;</span><br><span class="line">			*a2 = 1;</span><br><span class="line">			return 3;//小农田</span><br><span class="line">		&#125;</span><br><span class="line">		else if (mouse_press(220, 360, 420, 440) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			*a2=1;</span><br><span class="line">			return 4  ;//系统说明</span><br><span class="line">		&#125;</span><br><span class="line">		 return 1;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此界面就是初始界面了。十分简单。绘图部分完全不用看，界面跳转也是一个通用模板了。</p>
<h3 id="drzhiwu"><a href="#drzhiwu" class="headerlink" title="drzhiwu"></a>drzhiwu</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"> #include&quot;common.h&quot;</span><br><span class="line"></span><br><span class="line">/*========================================</span><br><span class="line">functions: 画植物，包括小麦，玉米，棉花。</span><br><span class="line">=========================================*/</span><br><span class="line">//=============</span><br><span class="line">// 画棉花，透视图</span><br><span class="line">//==============</span><br><span class="line">void mianhua(int x, int y)//x,y为其的左上角坐标。20*35</span><br><span class="line">&#123;	</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	setfillstyle(SOLID_FILL, GREEN);</span><br><span class="line">	bar(x + 10, y + 15, x + 12, y + 35);</span><br><span class="line">	line(x + 7, y + 14, x + 10, y + 17);</span><br><span class="line">	line(x + 10, y + 17, x + 16, y + 14);</span><br><span class="line">	ellipse(x+18, y+17,10, 360, 2, 4);//画椭圆函数</span><br><span class="line">	ellipse(x + 5, y +16 , 20, 360, 3, 4);</span><br><span class="line">	floodfill(x + 5, y + 16, GREEN);</span><br><span class="line">	floodfill(x + 18, y + 17, GREEN);</span><br><span class="line">	line(x+10, y+15, x+10, y+9);</span><br><span class="line">	line(x+11, y+15, x+11, y+9);</span><br><span class="line">	line(x+10, y+9, x+3, y+7);</span><br><span class="line">	line(x+3, y+7, x+9, y+5);</span><br><span class="line">	line(x+9, y+5, x+6, y+1);</span><br><span class="line">	line(x+6, y+1, x+10, y+2);</span><br><span class="line">	line(x+10, y+2, x+12, y+5);</span><br><span class="line">	line(x+12, y+5, x+15, y+1);</span><br><span class="line">	line(x+15, y+1, x+16, y+5);</span><br><span class="line">	line(x+16, y+5, x+19, y+6);</span><br><span class="line">	line(x+19, y+6, x+19, y+9);</span><br><span class="line">	line(x+19, y+9, x+13, y+10);</span><br><span class="line">	line(x+13, y+10, x+13, y+13);</span><br><span class="line">	line(x+13, y+13, x+11, y+10);</span><br><span class="line">	floodfill(x + 9, y + 3, GREEN);</span><br><span class="line">	setcolor(WHITE);</span><br><span class="line">	line(x+10, y+9, 6+x, y+8);</span><br><span class="line">	line(x+11,y+ 9, 10+x, 4+y);</span><br><span class="line">	line(11+x, y+9, x+15, y+2);</span><br><span class="line">	line(x+12, y+8, x+14, y+7);</span><br><span class="line">&#125;</span><br><span class="line">//=============</span><br><span class="line">// 画玉米，透视图</span><br><span class="line">//==============</span><br><span class="line">void yumi(int x, int y) //xy为左上角35*35</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	setfillstyle(SOLID_FILL, GREEN);</span><br><span class="line">	bar(x + 12, y + 3, x + 16, y + 35);</span><br><span class="line">	arc(x+14, y+4, 0, 180, 2);</span><br><span class="line">	floodfill(x + 13, y + 3, GREEN);</span><br><span class="line">	line(x + 12  , y +4  , x +5   , y +4   );</span><br><span class="line">	line(x +5 , y + 4, x +2 , y +10 );</span><br><span class="line">	line(x +2 , y +10 , x +6 , y +8 );</span><br><span class="line">	line(x + 6, y +8 , x +12 , y +7 );</span><br><span class="line">	line(x + 12, y +18 , x +9 , y + 17);</span><br><span class="line">	line(x + 9, y + 17, x +7 , y + 28);</span><br><span class="line">	line(x +7 , y +28 , x +12 , y + 22);</span><br><span class="line">	line(x + 16, y +24 , x + 21, y +20 );</span><br><span class="line">	line(x + 21, y + 20, x +27 , y +25 );</span><br><span class="line">	line(x + 27, y +25 , x +23 , y +17 );</span><br><span class="line">	line(x +23 , y +17 , x + 16, y + 20);</span><br><span class="line">	floodfill(x + 20, y + 19, GREEN);</span><br><span class="line">	floodfill(x + 10, y + 20, GREEN);</span><br><span class="line">	floodfill(x + 5, y + 7, GREEN);</span><br><span class="line">	line(x + 16, y +17 , x + 20, y +15 );</span><br><span class="line">	line(x +20 , y +15 , x +20 , y +4 );</span><br><span class="line">	line(x + 20, y +4 , x +16 , y +12 );	</span><br><span class="line">	floodfill(x + 19, y + 19, GREEN);</span><br><span class="line">	line(x + 16, y + 13, x + 20, y + 6);</span><br><span class="line">	line(x +12 , y +10 , x + 7, y +8 );</span><br><span class="line">	line(x + 7, y + 8, x +12 , y + 12);</span><br><span class="line">	line(x + 7, y +8 , x +6 , y +10 );</span><br><span class="line">	line(x + 6, y + 10, x +12 , y + 17);</span><br><span class="line">	line(x + 6, y +10 , x +12 , y +12 );</span><br><span class="line">	setfillstyle(SOLID_FILL, YELLOW);</span><br><span class="line">	floodfill(x + 10, y + 12, GREEN);</span><br><span class="line">	floodfill(x + 18, y + 12, GREEN);</span><br><span class="line">&#125;</span><br><span class="line">//=======</span><br><span class="line">//小麦块</span><br><span class="line">//=======</span><br><span class="line">void xiaomaikuai(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">	xiaomai(x, y);</span><br><span class="line">	xiaomai(x+5, y);</span><br><span class="line">	xiaomai(x-5, y);</span><br><span class="line">&#125;</span><br><span class="line">//画小麦透视图,,,其大小为  20*19.</span><br><span class="line">void xiaomai(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">	x = x +10;//修正小麦坐标</span><br><span class="line">	//xy是最顶点</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	putpixel(x, y, GREEN);</span><br><span class="line">	line(x, y, x, y + 19);</span><br><span class="line">	line(x, y + 6, x + 5, y + 6 - 5);</span><br><span class="line">	line(x, y + 6, x - 5, y + 6 - 5);</span><br><span class="line">	line(x, y + 12, x - 5, y + 6);</span><br><span class="line">	line(x, y + 12, x + 5, y + 6 );</span><br><span class="line">&#125;</span><br><span class="line">//画小麦俯视图</span><br><span class="line">void fxiaomai(int x, int y)//xy是最左边的点//25*25</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	line(x + 2, y + 10 + 6 + 4 + 3, x + 6, y + 2 + 6 + 4 + 3);</span><br><span class="line">	line(x + 2, y + 6 + 6 + 4 + 3, x + 10, y + 6 + 6 + 4 + 3);</span><br><span class="line">	line(x + 6, y + 12 + 6 + 4 + 3, x + 3, y + 3 + 6 + 4 + 3);</span><br><span class="line">	line(x + 10, y + 9 + 6 + 4 + 3, x + 7, y + 12 + 6 + 4 + 3);</span><br><span class="line">	line(x + 11, y + 10 + 6 + 4 + 3, x + 8, y + 7 + 6 + 4 + 3);</span><br><span class="line">	line(x + 13, y + 10 + 6 + 3, x + 6 + 12, y + 2 + 6 + 3 + 3);</span><br><span class="line">	line(x + 2 + 12, y + 6 + 6 + 3, x + 10 + 12, y + 6 + 6 + 3 + 3);</span><br><span class="line">	line(x + 6 + 12, y + 12 + 5 + 4, x + 3 + 12, y + 3 + 6 + 3 + 3);</span><br><span class="line">	line(x + 10 + 12, y + 9 + 6 + 3, x + 7 + 12, y + 12 + 4);</span><br><span class="line">	line(x + 11 + 12, y + 10 + 3 + 3, x + 8 + 12, y + 7 + 4 + 3);</span><br><span class="line">	line(x + 6 + 10, y + 12, x + 8 + 10, y + 12 + 2);</span><br><span class="line">	line(x + 6 + 10, y + 12, x + 6 - 2 + 10, y + 12 + 2);</span><br><span class="line">	line(x + 6 + 10, y + 12, x + 6 + 10, y + 12 - 4);</span><br><span class="line">	line(x + 6 + 10, y + 12, x + 6 - 2 + 10, y + 12 - 4);</span><br><span class="line">	line(x + 4, y + 2, x + 8, y + 10);</span><br><span class="line">	line(x + 8, y + 6, x + 8, y + 2);</span><br><span class="line">	line(x + 8, y + 10, x + 12, y + 2);</span><br><span class="line">	line(x + 4, y + 10, x + 8, y + 18);</span><br><span class="line">	line(x + 8, y + 14, x + 8, y + 10);</span><br><span class="line">	line(x + 8, y + 18, x + 12, y + 10);</span><br><span class="line">	line(x + 8, y + 2, x + 16, y + 10);</span><br><span class="line">	line(x + 16, y + 6, x + 16, y + 2);</span><br><span class="line">	line(x + 16, y + 10, x + 24, y + 2);</span><br><span class="line">	line(x + 8, y + 10, x + 16, y + 18);</span><br><span class="line">	line(x + 16, y + 14, x + 16, y + 10);</span><br><span class="line">	line(x + 16, y + 18, x + 24, y + 10);</span><br><span class="line">&#125;</span><br><span class="line">//=============</span><br><span class="line">// 画玉米，俯视图</span><br><span class="line">//==============</span><br><span class="line">void fyumi(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	circle(x + 12, y + 12, 2);</span><br><span class="line">	line(x + 12, y + 10, x + 20, y + 2);</span><br><span class="line">	line(x + 20, y + 2, x + 16, y + 9);</span><br><span class="line">	line(x + 16, y + 9, x + 13, y + 11);</span><br><span class="line">	line(x + 14, y + 9, x + 20, y + 13);</span><br><span class="line">	line(x + 20, y + 13, x + 13, y + 13);</span><br><span class="line">	putpixel(x + 13, y + 13, GREEN);</span><br><span class="line">	putpixel(x + 13, y + 14, GREEN);</span><br><span class="line">	putpixel(x + 14, y + 14, GREEN);</span><br><span class="line">	putpixel(x + 14, y + 15, GREEN);</span><br><span class="line">	putpixel(x + 15, y + 15, GREEN);</span><br><span class="line">	putpixel(x + 15, y + 16, GREEN);</span><br><span class="line">	putpixel(x + 14, y + 17, GREEN);</span><br><span class="line">	putpixel(x + 15, y + 17, GREEN);</span><br><span class="line">	putpixel(x + 16, y + 17, GREEN);</span><br><span class="line">	putpixel(x + 17, y + 17, GREEN);</span><br><span class="line">	putpixel(x + 18, y + 17, GREEN);</span><br><span class="line">	line(x + 18, y + 17, x + 20, y + 23);</span><br><span class="line">	line(x + 20, y + 23, x + 13, y + 20);</span><br><span class="line">	line(x + 13, y + 20, x + 12, y + 15);</span><br><span class="line">	line(x + 11, y + 11, x + 2, y + 10);</span><br><span class="line">	line(x + 2, y + 10, x + 2, y + 12);</span><br><span class="line">	line(x + 2, y + 12, x + 5, y + 13);</span><br><span class="line">	line(x + 5, y + 13, x + 11, y + 14);</span><br><span class="line">	line(x + 7, y + 14, x + 3, y + 21);</span><br><span class="line">	line(x + 3, y + 21, x + 12, y + 18);</span><br><span class="line">	line(x + 5, y + 10, x + 13, y + 7);</span><br><span class="line">	setfillstyle(SOLID_FILL, GREEN);</span><br><span class="line">	floodfill(x + 12, y + 12, GREEN); // 遇到边界颜色停止</span><br><span class="line">	setfillstyle(SOLID_FILL, YELLOW);</span><br><span class="line">	floodfill(x + 15, y + 18, GREEN);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>完全没有技术含量，仅仅是画图而已。</strong></p>
<p><strong>那今天的更新就到这里吧，大概不久就要去练科三了，时间也变的紧张起来。考驾照无非就是67个人围着一辆车子，一个人10多min，一天下来基本在太阳底下站。。。早七晚六不用说。大二上学期更没时间，课表全满，双休也有课，每天早八晚九了。。。</strong></p>
<img src="/2024/03/14/00/10.jpg" class="" title="这是一张图片">

<hr>
<h3 id="abdrone"><a href="#abdrone" class="headerlink" title="abdrone"></a>abdrone</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">/*===========================================</span><br><span class="line">无人机所有函数，包括运动，画图</span><br><span class="line">=============================================*/</span><br><span class="line">//俯视图 的无人机</span><br><span class="line">//用于大农田</span><br><span class="line">void drfdrone(int x, int y)//xy是左上角坐标</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, DARKGRAY);	//circle(x + 12, y + 12, 4);</span><br><span class="line">	fillellipse(x + 12, y + 12, 4, 4);</span><br><span class="line">	rectangle(x + 8, y + 9, x + 15, y + 15);//	floodfill(x + 12, y + 12, DARKGRAY);</span><br><span class="line">	line(x + 5, y + 4, x + 9, y + 8);</span><br><span class="line">	line(x + 3, y + 4, x + 9, y + 9);</span><br><span class="line">	line(x + 3, y + 5, x + 8, y + 10);</span><br><span class="line">	line(x + 9, y + 1, x + 1, y + 9);</span><br><span class="line">	line(x + 8, y + 1, x + 0, y + 9);</span><br><span class="line">	line(x + 7, y + 1, x + 0, y + 8);</span><br><span class="line">	line(x + 15, y + 8, x + 19, y + 4);</span><br><span class="line">	line(x + 15, y + 9, x + 20, y + 4);</span><br><span class="line">	line(x + 15, y + 10, x + 20, y + 5);</span><br><span class="line">	line(x + 15, y + 0, x + 24, y + 9);</span><br><span class="line">	line(x + 16, y + 0, x + 24, y + 8);</span><br><span class="line">	line(x + 14, y + 1, x + 23, y + 9);</span><br><span class="line">	line(x + 16, y + 15, x + 21, y + 20);</span><br><span class="line">	line(x + 15, y + 15, x + 20, y + 20);</span><br><span class="line">	line(x + 14, y + 16, x + 20, y + 21);</span><br><span class="line">	line(x + 24, y + 15, x + 15, y + 24);</span><br><span class="line">	line(x + 24, y + 16, x + 16, y + 24);</span><br><span class="line">	line(x + 24, y + 14, x + 14, y + 24);</span><br><span class="line">	line(x + 9, y + 15, x + 3, y + 21);</span><br><span class="line">	line(x + 8, y + 15, x + 3, y + 20);</span><br><span class="line">	line(x + 9, y + 16, x + 4, y + 21);</span><br><span class="line">	line(x + 0, y + 15, x + 9, y + 24);</span><br><span class="line">	line(x + 0, y + 16, x + 8, y + 24);</span><br><span class="line">	line(x + 0, y + 14, x + 10, y + 24);</span><br><span class="line">&#125;</span><br><span class="line">//==================================================</span><br><span class="line">//动画实现代码。建议自己理解。。。。。详细调用在growlook.c里面的大农田里面有。</span><br><span class="line">//原理大概就是视觉停留（？，</span><br><span class="line">void move11(int* x, int* y, int* buffer1)</span><br><span class="line">&#123;</span><br><span class="line">	for (; *x &lt; 620 - 25; *x = *x + 2)//运动到了最左端。。</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 25, *y + 25, buffer1);//保存image到buffer</span><br><span class="line">		drfdrone(*x, *y);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer1, COPY_PUT);//恢复图像</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void move12(int* x, int* y, int* buffer1, int* judge)</span><br><span class="line">&#123;</span><br><span class="line">	for (; *y &lt; *judge + 25; (*y)++)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 25, *y + 25, buffer1);</span><br><span class="line">		drfdrone(*x, *y);</span><br><span class="line">		delay(10);</span><br><span class="line">		putimage(*x, *y, buffer1, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">	*judge = *y;</span><br><span class="line">&#125;</span><br><span class="line">void move13(int* x, int* y, int* buffer1)</span><br><span class="line">&#123;</span><br><span class="line">	for (; *x &gt; 20; *x = *x - 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 25, *y + 25, buffer1);</span><br><span class="line">		drfdrone(*x, *y);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer1, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//=============================================</span><br><span class="line">//无人机透视图，用于小农田</span><br><span class="line">void drtdrone(int xx, int y)//xy是左上角坐标   75*44</span><br><span class="line">&#123;</span><br><span class="line">	int x;</span><br><span class="line">	x = xx - 25;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(0 + x, 4 + y, 24 + x, 5 + y);</span><br><span class="line">	bar(49 + x, 4 + y, 73 + x, 5 + y);</span><br><span class="line">	bar(x + 4, y + 6, x + 5, y + 10);</span><br><span class="line">	bar(x + 6, y + 9, x + 20, y + 10);</span><br><span class="line">	bar(x + 19, y + 6, x + 20, y + 10);</span><br><span class="line">	bar(x + 53, y + 6, x + 54, y + 10);</span><br><span class="line">	bar(x + 54, y + 10, x + 69, y + 9);</span><br><span class="line">	bar(x + 68, y + 6, x + 69, y + 9);</span><br><span class="line">	bar(x + 7, y + 11, x + 9, y + 14);</span><br><span class="line">	bar(x + 16, y + 11, x + 18, y + 13);</span><br><span class="line">	bar(x + 8, y + 16, x + 22, y + 17);</span><br><span class="line">	bar(x + 55, y + 11, x + 57, y + 13);</span><br><span class="line">	bar(x + 64, y + 14, x + 66, y + 11);</span><br><span class="line">	bar(x + 51, y + 16, x + 65, y + 17);</span><br><span class="line">	bar(x + 24, y + 11, x + 49, y + 13);</span><br><span class="line">	bar(x + 21, y + 20, x + 51, y + 22);</span><br><span class="line">	bar(x + 23, y + 24, x + 50, y + 25);</span><br><span class="line">	line(x + 11, y + 18, x + 13, y + 18);</span><br><span class="line">	line(x + 60, y + 18, x + 62, y + 18);</span><br><span class="line">	line(x + 9, y + 15, x + 23, y + 15);</span><br><span class="line">	line(x + 50, y + 15, x + 64, y + 15);</span><br><span class="line">	line(x + 10, y + 14, x + 17, y + 14);</span><br><span class="line">	line(x + 10, y + 13, x + 15, y + 13);</span><br><span class="line">	line(x + 10, y + 12, x + 10, y + 14);</span><br><span class="line">	line(x + 15, y + 12, x + 15, y + 13);</span><br><span class="line">	line(x + 57, y + 14, x + 63, y + 14);</span><br><span class="line">	line(x + 58, y + 13, x + 63, y + 13);</span><br><span class="line">	line(x + 58, y + 12, x + 58, y + 13);</span><br><span class="line">	line(x + 63, y + 12, x + 63, y + 13);</span><br><span class="line">	line(x + 23, y + 12, x + 23, y + 14);</span><br><span class="line">	line(x + 50, y + 12, x + 50, y + 14);</span><br><span class="line">	line(x + 8, y + 2, x + 10, y + 0);</span><br><span class="line">	line(x + 8, y + 3, x + 11, y + 0);</span><br><span class="line">	line(x + 14, y + 0, x + 16, y + 2);</span><br><span class="line">	line(x + 13, y + 0, x + 16, y + 3);</span><br><span class="line">	line(x + 12, y + 0, x + 9, y + 3);</span><br><span class="line">	line(x + 13, y + 1, x + 15, y + 3);</span><br><span class="line">	line(x + 12, y + 1, x + 10, y + 3);</span><br><span class="line">	line(x + 12, y + 1, x + 14, y + 3);</span><br><span class="line">	line(x + 21, y + 18, x + 21, y + 19);</span><br><span class="line">	line(x + 20, y + 18, x + 20, y + 21);</span><br><span class="line">	line(x + 52, y + 18, x + 52, y + 21);</span><br><span class="line">	line(x + 53, y + 18, x + 53, y + 20);</span><br><span class="line">	line(x + 23, y + 23, x + 25, y + 23);</span><br><span class="line">	line(x + 48, y + 23, x + 50, y + 23);</span><br><span class="line">	line(x + 57, y + 2, x + 59, y + 0);</span><br><span class="line">	line(x + 57, y + 3, x + 60, y + 0);</span><br><span class="line">	line(x + 58, y + 3, x + 61, y + 0);</span><br><span class="line">	line(x + 62, y + 0, x + 59, y + 3);</span><br><span class="line">	line(x + 63, y + 0, x + 65, y + 2);</span><br><span class="line">	line(x + 63, y + 1, x + 65, y + 3);</span><br><span class="line">	line(x + 62, y + 1, x + 64, y + 3);</span><br><span class="line">	line(x + 62, y + 2, x + 63, y + 2);</span><br><span class="line">	line(x + 23, y + 26, x + 23, y + 32);</span><br><span class="line">	line(x + 24, y + 26, x + 24, y + 30);</span><br><span class="line">	line(x + 22, y + 32, x + 22, y + 42);</span><br><span class="line">	line(x + 21, y + 32, x + 21, y + 42);</span><br><span class="line">	line(x + 20, y + 37, x + 20, y + 41);</span><br><span class="line">	line(x + 21, y + 41, x + 25, y + 41);</span><br><span class="line">	line(x + 21, y + 42, x + 24, y + 42);</span><br><span class="line">	line(x + 49, y + 26, x + 53, y + 37);</span><br><span class="line">	line(x + 49, y + 27, x + 53, y + 38);</span><br><span class="line">	line(x + 51, y + 34, x + 51, y + 42);</span><br><span class="line">	line(x + 48, y + 41, x + 53, y + 41);</span><br><span class="line">	line(x + 49, y + 42, x + 52, y + 42);</span><br><span class="line">	line(x + 53, y + 37, x + 53, y + 41);</span><br><span class="line">	line(x + 51, y + 34, x + 51, y + 42);</span><br><span class="line">	line(x + 52, y + 42, x + 52, y + 34);</span><br><span class="line">	bar(x + 41, y + 28, x + 43, y + 36);</span><br><span class="line">	bar(x + 41, y + 26, x + 42, y + 36);</span><br><span class="line">	line(x + 38, y + 36, x + 43, y + 36);</span><br><span class="line">	line(x + 31, y + 26, x + 29, y + 30);</span><br><span class="line">	line(x + 32, y + 26, x + 29, y + 31);</span><br><span class="line">	line(x + 34, y + 36, x + 30, y + 36);</span><br><span class="line">	line(x + 30, y + 36, x + 30, y + 27);</span><br><span class="line">	line(x + 29, y + 30, x + 29, y + 35);</span><br><span class="line">	setcolor(LIGHTGRAY);</span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	floodfill(x + 12, y + 3, DARKGRAY);</span><br><span class="line">	floodfill(x + 61, y + 3, DARKGRAY);</span><br><span class="line">	floodfill(x + 13, y + 12, DARKGRAY);</span><br><span class="line">	floodfill(x + 60, y + 11, DARKGRAY);</span><br><span class="line">	line(x +26 , y +23 , x +47 , y + 23);</span><br><span class="line">	bar(x +6 , y + 6, x +18 , y + 8);</span><br><span class="line">	bar(x +55 , y +6, x +67 , y +8 );</span><br><span class="line">	bar(x + 24, y +14 , x + 49, y +19 );</span><br><span class="line">	line(x +23 , y + 16, x +23 , y + 19);</span><br><span class="line">	line(x +50 , y + 16, x +50 , y + 19);</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(x +26 , y + 17, x + 27, y +18 );</span><br><span class="line">	bar(x + 29, y + 17, x + 30, y + 18);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这个文件就是画无人机（两种形式），写了一段实现简单动画平移的函数，目前关于如何实现斜线运动我那时就没想到，之后也就没想了（只想到了循线这种）。比较简单，不需要多看。。</strong></p>
<h3 id="shuju-c"><a href="#shuju-c" class="headerlink" title="shuju.c"></a><strong>shuju.c</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;shuju.h&quot;</span><br><span class="line">#include &quot;common.h&quot;</span><br><span class="line"></span><br><span class="line">//==============================================================</span><br><span class="line">//控制时间间隔。原理请配合showtime.c使用//这里和时间那里有关，其实可以直接搞个全局变量就OK，</span><br><span class="line">//但当时怕被发现，换成了文件操作，当时也是刚刚学这东西，所以就当练练手了</span><br><span class="line">void setshijian1(int cankaotime)//这个函数的作用就是把传进的 cankaotime这个东西写入到time.dat文件</span><br><span class="line">//中（这种文件都能直接用记事本打开好像，还是比较方便检查错误的）</span><br><span class="line">&#123;</span><br><span class="line">    FILE* filePointer1;</span><br><span class="line">    filePointer1 = fopen(&quot;data//time.dat&quot;, &quot;w&quot;); //具体用法建议问chatgpt或者上网搜</span><br><span class="line">    if (filePointer1 == NULL) &#123;</span><br><span class="line">        printf(&quot;Unable to open the file.\n&quot;);</span><br><span class="line">        getch();</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    fprintf(filePointer1, &quot;%d\n&quot;, cankaotime);//设置使得time.dat 储存cankaotime的数字</span><br><span class="line">    fclose(filePointer1);</span><br><span class="line">&#125;//上面那一串都是直接复制粘贴的，原理我不太懂。。套路就是这样吧，那里的if那一大段要不要其实无所谓了，我后面</span><br><span class="line">//自己编写的时候也基本没加，但加上还是好的，便于检查内存分配的问题。</span><br><span class="line">void getshijian1(int *cankaotime)</span><br><span class="line">&#123;</span><br><span class="line">    FILE* filePointer1; </span><br><span class="line">    filePointer1 = fopen(&quot;data//time.dat&quot;, &quot;r&quot;); </span><br><span class="line">    if (filePointer1 == NULL) &#123;</span><br><span class="line">        printf(&quot;Unable to open the file.\n&quot;);</span><br><span class="line">        getch();</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    fscanf(filePointer1, &quot;%d&quot;, cankaotime);//设置使得cankaotime获得time.dat 储存的数字，注意这里用了指针。。</span><br><span class="line">    fclose(filePointer1);                  //fscanf用&amp;,fprintf不用&amp;</span><br><span class="line">&#125;//这里只需要掌握fscanf和fprintf的用法就行，靠这两个函数就能基本实现储存和读取数据了。</span><br><span class="line">//====================================================</span><br><span class="line">//这一堆都是偷偷藏起来的全局变量，后面想改，但时间不够，而且难度高，所以索性摆烂了，全都是大农田用的，因为</span><br><span class="line">//大农田搞了个植物自愈，自愈不完全，病情加深的功能，虽然验收老师并没有感到十分的赞赏。。。。。。无用功吧属</span><br><span class="line">//实是。</span><br><span class="line">unsigned char dianmian_bitmap[192][49];//这三个就是储存点的坐标，就是植物生病会随机出现颜色点，点的</span><br><span class="line">//坐标就储存到了这个数组里面，现在想来就是纯纯折磨自己。搞了个点的随机显示。如果你仔细观察大农田就会发现了</span><br><span class="line">unsigned char dianbai_bitmap[192][49];</span><br><span class="line">unsigned char diannian_bitmap[384][49];//，棉铃虫，白粉病，黏虫。</span><br><span class="line">//下面这三个是储存生病植物的坐标，用了全局变量，当然可以用文件操作（小农田就是这样，但要重写实在太麻烦</span><br><span class="line">dbfxy bai = &#123; 0 &#125;;//小麦地得白粉病 的坐标。 注意当x，y均为0时，表示该区域不得病。</span><br><span class="line">dbfxy mian = &#123; 0 &#125;;//得棉铃虫病的坐标。 注意当x，y均为0时，表示该区域不得病。</span><br><span class="line">niang nian = &#123; 0 &#125;;//黏虫的坐标，左上角坐标， 注意当x，y均为0时，表示该区域不得病。</span><br><span class="line">//下面三个是队友写的全局变量。。看不太懂</span><br><span class="line">int nongyao[6];//氟铃胺，甲胺磷，氯氰菊酯，甲维盐，菌酯, nongyao[6]用于判断大小农田 0:大 1：小</span><br><span class="line">int rount[386][2];//储存需要喷洒农药的植物坐标</span><br><span class="line">int amtjudge;//判断需要喷洒的植物的棵数</span><br><span class="line">//=================================================================================</span><br><span class="line">//获得所有植物的坐标，把植物坐标传入到 plantPostions里面。</span><br><span class="line">void getxtxiao(int plantPositions3[][2])//小农田的代码，就是把植物坐标传入文件xt是小田的意思</span><br><span class="line">&#123;//小麦</span><br><span class="line">    int row = 0;</span><br><span class="line">    FILE* filePointer3;</span><br><span class="line">    filePointer3 = fopen(&quot;data//xtxiao.dat&quot;, &quot;r&quot;); // 以读取模式打开文件</span><br><span class="line">    for (row = 0; row &lt; 104; row++)//画植物的数量为坐标数</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer3, &quot;%d %d&quot;, &amp;plantPositions3[row][0], &amp;plantPositions3[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer3);</span><br><span class="line">&#125;</span><br><span class="line">void getxtyumi(int plantPositions3[][2])</span><br><span class="line">&#123;//玉米</span><br><span class="line">    int row = 0;</span><br><span class="line">    FILE* filePointer3;</span><br><span class="line">    filePointer3 = fopen(&quot;data//xtyumi.dat&quot;, &quot;r&quot;); // 以读取模式打开文件</span><br><span class="line"></span><br><span class="line">    for (row = 0; row &lt; 68; row++)//画植物的数量为坐标数</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer3, &quot;%d %d&quot;, &amp;plantPositions3[row][0], &amp;plantPositions3[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer3);</span><br><span class="line">&#125;</span><br><span class="line">void getxtmianhua(int plantPositions3[][2])</span><br><span class="line">&#123;//棉花</span><br><span class="line">    int row = 0;</span><br><span class="line">    FILE* filePointer3;</span><br><span class="line">    filePointer3 = fopen(&quot;data//xtmianhua.dat&quot;, &quot;r&quot;); // 以读取模式打开文件</span><br><span class="line">    for (row = 0; row &lt; 68; row++)//画植物的数量为坐标数</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer3, &quot;%d %d&quot;, &amp;plantPositions3[row][0], &amp;plantPositions3[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer3);</span><br><span class="line">&#125;</span><br><span class="line">//=================================================</span><br><span class="line">//下面的三个文件对文件进行初始化定义。</span><br><span class="line">//这个函数就是起到初始化文件的作用，就是重新生成一般xtyumi.dat等三个文件（储存了植物坐标），清空记录的作用吧。</span><br><span class="line">void setxtzhiwu(int plantPositions1[][2], int plantPositions2[][2], int plantPositions3[][2])</span><br><span class="line">&#123;</span><br><span class="line">    int j;</span><br><span class="line">    FILE* filePointer1; // 文件指针</span><br><span class="line">    FILE* filePointer2;</span><br><span class="line">    FILE* filePointer3; </span><br><span class="line">    filePointer1 = fopen(&quot;data//xtyumi.dat&quot;, &quot;w&quot;); // 以写入模式打开文件</span><br><span class="line">    filePointer2 = fopen(&quot;data//xtmianhua.dat&quot;, &quot;w&quot;);</span><br><span class="line">    filePointer3 = fopen(&quot;data//xtxiao.dat&quot;, &quot;w&quot;);</span><br><span class="line">    if (filePointer1 == NULL) &#123;</span><br><span class="line">        printf(&quot;Unable to open the file.\n&quot;);</span><br><span class="line">        getch();</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    if (filePointer2 == NULL) &#123;</span><br><span class="line">        printf(&quot;Unable to open the file.\n&quot;);</span><br><span class="line">        getch();</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    if (filePointer3 == NULL) &#123;</span><br><span class="line">        printf(&quot;Unable to open the file.\n&quot;);</span><br><span class="line">        getch();</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;  </span><br><span class="line">    for (j = 0; j &lt; 68; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(filePointer1, &quot;%d %d\n&quot;, plantPositions1[j][0], plantPositions1[j][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (j = 0; j &lt; 68; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(filePointer2, &quot;%d %d\n&quot;, plantPositions2[j][0], plantPositions2[j][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (j = 0; j &lt; 104; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        fprintf(filePointer3, &quot;%d %d\n&quot;, plantPositions3[j][0], plantPositions3[j][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer1);</span><br><span class="line">    fclose(filePointer2);</span><br><span class="line">    fclose(filePointer3);</span><br><span class="line">&#125;</span><br><span class="line">//下面是大农田里用到的</span><br><span class="line">//就是清空全局变量的值，全部归零，防止退出到主界面时，上一次的检测结果影响。</span><br><span class="line">void zero(void)//重置储存。。</span><br><span class="line">&#123;</span><br><span class="line">    int i, j;</span><br><span class="line">    for (i = 0, j = 192; i &lt; 192, j &lt; 384; i++, j++)</span><br><span class="line">    &#123;</span><br><span class="line">        bai.bfzuobiao[i][0] = 0;</span><br><span class="line">        bai.bfzuobiao[i][1] = 0;</span><br><span class="line">        mian.bfzuobiao[i][0] = 0;</span><br><span class="line">        mian.bfzuobiao[i][0] = 0;</span><br><span class="line">        nian.bfzuobiao[i][0] = 0;</span><br><span class="line">        nian.bfzuobiao[i][0] = 0;</span><br><span class="line">        nian.bfzuobiao[j][0] = 0;</span><br><span class="line">        nian.bfzuobiao[j][0] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//下面这两个函数都是gpt生成的，当时出现了内存爆炸的问题，心里也很慌，gpt说位图能减少内存使用，所以</span><br><span class="line">//阴差阳错之下就用到了这东西，反正我看不懂，但还是会用的。具体使用好像是在illness.c和recover.c里面</span><br><span class="line">// 设置位图中的某个像素值，具体原理我当时也没去了解，过了C课设之后更不学了。。</span><br><span class="line">void setshu(unsigned char bitmap[49], int x, int value)</span><br><span class="line">&#123;</span><br><span class="line">    if (value) &#123;</span><br><span class="line">        bitmap[x / 8] |= (1 &lt;&lt; (x % 8)); // 设置为 1</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        bitmap[x / 8] &amp;= ~(1 &lt;&lt; (x % 8)); // 设置为 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 获取位图中的某个像素值</span><br><span class="line">int getshu(unsigned char bitmap[49], int x)</span><br><span class="line">&#123;</span><br><span class="line">    return (bitmap[x / 8] &gt;&gt; (x % 8)) &amp; 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="shuju-h"><a href="#shuju-h" class="headerlink" title="shuju.h"></a>shuju.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _SHUJU_H</span><br><span class="line">#define _SHUJU_H</span><br><span class="line">/*--------------</span><br><span class="line">作为数据库，实现一次定义</span><br><span class="line">--------------*/</span><br><span class="line">typedef struct</span><br><span class="line">&#123;</span><br><span class="line">    int bfzuobiao[384][2];//</span><br><span class="line">&#125; niang;      //储存黏虫的坐标信息；</span><br><span class="line">typedef struct</span><br><span class="line">&#123;</span><br><span class="line">    int bfzuobiao[192][2];//</span><br><span class="line">&#125; dbfxy;//储存小麦的白粉病信息以及玉米的棉铃虫信息</span><br><span class="line">//引用全局变量，</span><br><span class="line">extern dbfxy bai;</span><br><span class="line">extern dbfxy mian;</span><br><span class="line">extern niang nian;</span><br><span class="line">extern unsigned char dianmian_bitmap[192][49];//位图，储存颜色点的信息</span><br><span class="line">extern unsigned char dianbai_bitmap[192][49];</span><br><span class="line">extern unsigned char diannian_bitmap[384][49];</span><br><span class="line">//初始化位图和获取位图的0，1.</span><br><span class="line">void setshu(unsigned char bitmap[49], int x, int value);</span><br><span class="line">int getshu(unsigned char bitmap[49], int x);</span><br><span class="line">extern	int nongyao[6];//氟铃胺，甲胺磷，氯氰菊酯，甲维盐，菌酯, nongyao[5]用于判断大小农田 0:大 1：小</span><br><span class="line">extern 	int rount[386][2];//储存需要喷洒农药的植物坐标</span><br><span class="line">extern int amtjudge;//判断需要喷洒的植物的棵数</span><br><span class="line"></span><br><span class="line">//初始化小农田里的各种植物坐标。以及从文件中获取各个植物的坐标到数组中</span><br><span class="line">void setxtzhiwu(int plantPositions1[][2], int plantPositions2[][2], int plantPositions3[][2]);</span><br><span class="line">void getxtmianhua(int plantPositions3[][2]);</span><br><span class="line">void getxtyumi(int plantPositions3[][2]);</span><br><span class="line">void getxtxiao(int plantPositions3[][2]);</span><br><span class="line">//=====================</span><br><span class="line">//time.dat  </span><br><span class="line">//function:控制时间间隔，每隔一秒刷新</span><br><span class="line">void setshijian1(int cankaotime);</span><br><span class="line">void getshijian1(int* cankaotime);</span><br><span class="line">//=====================</span><br><span class="line">void zero(void);//重置大农田的患病植物坐标储存</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<p><strong>这两个文件基本涉及到了所有的文件操作的相关函数（我是指我编的程序里面用到的），对于看懂整个代码有很大作用。比较复杂，因为是后面边写便堆砌上去的。毕竟文件操作都是差不多距离验收一个月前加上去的。虽然我们用到的文件操作仅仅限于储存数组，但毫无争议的是，还是要学更多，毕竟画图没有什么含金量，你也可以发现，其实整个程序抛弃画图，我现在看来，C课设编写的程序也就那样。。。详细解释看新加的注释</strong></p>
<p>​                                                                                                  <strong>——7.28</strong></p>
<img src="/2024/03/14/00/11.jpg" class="" title="这是一张图片">

<hr>
<h3 id="mainfunc"><a href="#mainfunc" class="headerlink" title="mainfunc"></a>mainfunc</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"> #include &quot;common.h&quot;</span><br><span class="line">/*===========================================</span><br><span class="line">实现了分工，其中准备喷洒会进入另外一个新界面。</span><br><span class="line">绘制了农田和植物的基本样子。</span><br><span class="line">=============================================*/</span><br><span class="line">int mainfunc(int* a3, unsigned char diannian[384][49], unsigned char dianbai[192][49], unsigned char dianmian[192][49])</span><br><span class="line">&#123;</span><br><span class="line">//大农田的绘制</span><br><span class="line">	int i;</span><br><span class="line">	srand(time(NULL));</span><br><span class="line">	//================================</span><br><span class="line">	//这里是绘制大农田界面</span><br><span class="line">	if (*a3 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		cleardevice();</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">		setbkcolor(WHITE);//background color</span><br><span class="line">		drawBackground();//画通用背景</span><br><span class="line">		farmfield();//绘制农田</span><br><span class="line">		*a3 = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	//===========================</span><br><span class="line">	if (*a3 ==- 1)//实现界面跳转后，返回改界面的重新绘图</span><br><span class="line">	&#123;</span><br><span class="line">		cleardevice();</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">		setbkcolor(WHITE);//background color</span><br><span class="line">		drawBackground();</span><br><span class="line">		farmfield();</span><br><span class="line">		for (i = 0; i &lt; 192; i++)//小麦区域的发病率</span><br><span class="line">		&#123;		</span><br><span class="line">				if (nian.bfzuobiao[i][0] != 0 &amp;&amp; nian.bfzuobiao[i][1] != 0) </span><br><span class="line">				&#123;</span><br><span class="line">					nianchong(nian.bfzuobiao[i][0], nian.bfzuobiao[i][1],diannian[i]);</span><br><span class="line">				&#125;		</span><br><span class="line">		&#125;</span><br><span class="line">		for (i=192; i &lt; 384; i++)//玉米区域的发病率</span><br><span class="line">		&#123;		</span><br><span class="line">				if (nian.bfzuobiao[i][0] != 0 &amp;&amp; nian.bfzuobiao[i][1] != 0) </span><br><span class="line">				&#123;</span><br><span class="line">					nianchong(nian.bfzuobiao[i][0], nian.bfzuobiao[i][1],diannian[i]);</span><br><span class="line">				&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">		for (i = 0; i&lt; 192; i++)//玉米区域的发病率.</span><br><span class="line">		&#123;</span><br><span class="line">			if (mian.bfzuobiao[i][0] != 0 &amp;&amp; mian.bfzuobiao[i][1] != 0)  </span><br><span class="line">			&#123;</span><br><span class="line">			mianling(mian.bfzuobiao[i][0], mian.bfzuobiao[i][1],dianmian[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;		</span><br><span class="line">		for (i = 0;i &lt; 192; i++)</span><br><span class="line">		&#123;</span><br><span class="line">				if (bai.bfzuobiao[i][0] != 0 &amp;&amp; bai.bfzuobiao[i][1] != 0)</span><br><span class="line">				&#123;</span><br><span class="line">			         baifen(bai.bfzuobiao[i][0], bai.bfzuobiao[i][1],dianbai[i]);</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		*a3 = 2;</span><br><span class="line">	&#125;</span><br><span class="line">	//上面这一段是重新绘图，因为结果查看后要返回到大农田界面，所以要这样 </span><br><span class="line">	//====================ELSE</span><br><span class="line">	//鼠标显示边框</span><br><span class="line">	showbiankuang(600, 0, 640, 40);</span><br><span class="line">	showbiankuang(0, 0, 80, 40);</span><br><span class="line">	showbiankuang(100, 5, 100 + 140, 50);</span><br><span class="line">	//===================下面是界面的跳转</span><br><span class="line">		if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			return -1;//关闭BC。</span><br><span class="line">		&#125;</span><br><span class="line">		else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			*a3 = 1;</span><br><span class="line">			zero();//重置病虫坐标</span><br><span class="line">			delay(100);</span><br><span class="line">			return 1;//返回前一个界面</span><br><span class="line">		&#125;</span><br><span class="line">		else if (mouse_press(100, 5,240, 50) == 1)//连续点击生长检测</span><br><span class="line">		&#123;</span><br><span class="line">			*a3 = 2;</span><br><span class="line">			clrmous(MouseX, MouseY);</span><br><span class="line">			grow();//无人机动画的实现</span><br><span class="line">			recover();//再次点击生长检测，部分区域恢复	</span><br><span class="line">			//显示三种病</span><br><span class="line">			showbaifen(dianbai);</span><br><span class="line">			shownianchong(diannian);</span><br><span class="line">			showmianling(dianmian);</span><br><span class="line">		&#125;</span><br><span class="line">		if (*a3 == 2 || *a3 == -1)//这里实现了必须先点击一次生长检测，才能点击结果查看和准备喷洒的功能</span><br><span class="line">		&#123;</span><br><span class="line">			if (mouse_press(100 + 140 + 30, 5, 100 + 140 + 30 + 140, 50) == 1)</span><br><span class="line">			&#123;</span><br><span class="line">				*a3 = -1;</span><br><span class="line">				delay(100);</span><br><span class="line">				return 6;//结果查看部分</span><br><span class="line">			&#125;</span><br><span class="line">			else if (mouse_press(100 + 140 + 140 + 30 + 30, 5, 100 + 140 + 140 + 30 + 30 + 140, 50) == 1)</span><br><span class="line">			&#123;</span><br><span class="line">				*a3 = -1;</span><br><span class="line">				delay(100);</span><br><span class="line">				return 7;//准备喷洒部分</span><br><span class="line">			&#125;</span><br><span class="line">			showbiankuang(100 + 140 + 30, 5, 100 + 140 + 30 + 140, 50);</span><br><span class="line">			showbiankuang(100 + 140 + 140 + 30 + 30, 5, 100 + 140 + 140 + 30 + 30 + 140, 50);</span><br><span class="line">		&#125;</span><br><span class="line">	return 2;</span><br><span class="line">&#125;</span><br><span class="line">//绘制通用背景</span><br><span class="line">void drawBackground(void)</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(RED);//边界color</span><br><span class="line">	setfillstyle(1, GREEN);//意思：设置绿色的填充模式为1（完全填充）</span><br><span class="line">	rectangle(600, 0, 640, 40);</span><br><span class="line">	line(600, 0, 640, 40);</span><br><span class="line">	line(640, 0, 600, 40);//关闭按钮</span><br><span class="line">	rectangle(0, 0, 80, 40);</span><br><span class="line">	puthz(5, 5, &quot;返回&quot;, 32, 40, GREEN);</span><br><span class="line">	setfillstyle(1, GREEN);</span><br><span class="line">	bar(100, 5, 100 + 140, 50);</span><br><span class="line">	bar(100 + 140 + 30, 5, 100 + 140 + 30 + 140, 50);</span><br><span class="line">	bar(100 + 140 + 140 + 30 + 30, 5, 100 + 140 + 140 + 30 + 30 + 140, 50);</span><br><span class="line">	puthz(100 + 10, 5 + 5, &quot;生长检测&quot;, 32, 30, WHITE);</span><br><span class="line">	puthz(100 + 140 + 30 + 10, 5 + 5, &quot;结果查看&quot;, 32, 30, WHITE);</span><br><span class="line">	puthz(100 + 140 + 140 + 30 + 30 + 10, 5 + 5, &quot;准备喷洒&quot;, 32, 30, WHITE);</span><br><span class="line">&#125;</span><br><span class="line">//绘制农田             	 </span><br><span class="line">void farmfield(void)</span><br><span class="line">&#123;	</span><br><span class="line">	int  x = 0, y = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int jia1[] = &#123; 25,75,25,75,25,75,25,75 &#125;;</span><br><span class="line">	setfillstyle(1, BROWN);</span><br><span class="line">	setcolor(BROWN);</span><br><span class="line">    bar(20, 60+5, 640-20, 480-15);//边框，即农田大小</span><br><span class="line">	for (x = 20; x &lt; 620 - 25 + 1; x = x + 25)//小麦区域,</span><br><span class="line">	&#123;</span><br><span class="line">		j = -1;</span><br><span class="line">		for (y = 65; y &lt; 465; y = y + jia1[j])</span><br><span class="line">		&#123;</span><br><span class="line">			j++;		</span><br><span class="line">				fxiaomai(x, y);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for (y = 0; y &lt;= 300; y = y + 100)//玉米的绘制</span><br><span class="line">	&#123;</span><br><span class="line">		for (x = 20; x &lt;= 620 - 25; x = x + 25)</span><br><span class="line">		&#123;</span><br><span class="line">			fyumi(x, 65+50 + y);</span><br><span class="line">			fyumi(x, 65 +25+50 + y);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这一个文件是实现了大农田的农田绘制和植物的生长检测功能（包括无人机动画，病虫害显示）这段代码个人认为有用的包括那个 必须得先点击一个按键，之后便可点击其他。也许你有其他的方法，但我暂时还没思路。</strong></p>
<h3 id="illness-h"><a href="#illness-h" class="headerlink" title="illness.h"></a>illness.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _ILLNESS_H_</span><br><span class="line">#define  _ILLNESS_H_</span><br><span class="line">//大农田显示</span><br><span class="line">void showbaifen(unsigned char abc[192][49]);</span><br><span class="line">void baifen(int x, int y, unsigned char abc[49]);</span><br><span class="line">void ifbaifen(unsigned char abc[49]);</span><br><span class="line">void nianchong(int x, int y, unsigned char aaa[49]);//画黏虫</span><br><span class="line">void ifnianchong(unsigned char aaa[49]);//随机点列</span><br><span class="line">void shownianchong(unsigned char aaa[384][49]);</span><br><span class="line">void ifmianling(unsigned char aaa[49]);//随机显示</span><br><span class="line">void mianling(int x, int y, unsigned char aaa[49]);</span><br><span class="line">void showmianling(unsigned char aaa[192][49]);</span><br><span class="line">int randill(int j);//控制不同的病的不同的发病率。就是使得一种病，每次检测时，的发病率不同</span><br><span class="line">//小农田显示</span><br><span class="line">void showxtbaifen(void);</span><br><span class="line">void xtbaifen(int x, int y, FILE* filePointer5);//画出白粉病，适用于俯视图。25*25大小</span><br><span class="line">void showxtnianchong(void);</span><br><span class="line">void xtnianchong(int x, int y, FILE* filePointer5);//画出白粉病，适用于俯视图。25*25大小</span><br><span class="line">void xtymmian(int x, int y, FILE* filePointer5);</span><br><span class="line">void showxtymmian(void);</span><br><span class="line">void showxtymnian(void);</span><br><span class="line">void xtymnian(int x, int y, FILE* filePointer5);</span><br><span class="line">void showxtmhmian(void);</span><br><span class="line">void xtmhmian(int x, int y, FILE* filePointer5);</span><br><span class="line">void showxtmhxiu(void);</span><br><span class="line">void xtmhxiu(int x, int y, FILE* filePointer5);</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="illness-c"><a href="#illness-c" class="headerlink" title="illness.c"></a>illness.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">/*==========================</span><br><span class="line">植物患病的概率</span><br><span class="line">===========================*/</span><br><span class="line">int randill(int k)//这里j代表系数,注意0，1，2，3.</span><br><span class="line">&#123;//随机显示 点</span><br><span class="line">	int judge;</span><br><span class="line">	int i, j;</span><br><span class="line">	int a[4][60] = //这一堆控制的是显示点数量的比例啥的，没什么大用。。。建议不用看</span><br><span class="line">	&#123;</span><br><span class="line">		//棉铃虫对于玉米的</span><br><span class="line">		&#123;40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40, 40,40,40,40,5,5,5,5,7,7,7,7,7,8,8,8,8,10,10,10,10,11,11,11,12,13,13,14,14,14,14,14,15,15,16,17,18,19,20,20,20,20,20,20 &#125;,</span><br><span class="line">		//黏虫对于小麦的</span><br><span class="line">		&#123;40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,  40, 40,40,40,40,5,5,5,6,6,6,6,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,12,12,12,13,14,14,15,16,17,18,19,20,21,22,22,22,22,22  &#125;,</span><br><span class="line">		//黏虫对于玉米的</span><br><span class="line">		&#123;40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,  40, 40,40,40,40,5,5,6,6,6,6,7,7,7,9,9,9,10,10,10,11,11,11,12,12,12,13,13,13,13,13,14,14,15,16,16,17,18,19,20,21,22,22,22,22  &#125;,</span><br><span class="line">		//白粉对于小麦的</span><br><span class="line">		&#123;40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40, 40,40,40,40,5,5,5,5,5,5,7,7,7,7,7,8,8,8,8,10,10,10,10,11,11,11,12,13,13,14,14,14,14,14,16,17,18,19,20,20,20,20,20,20 &#125;,</span><br><span class="line">	&#125;;</span><br><span class="line">	int b[4][60] = &#123; 0 &#125;;</span><br><span class="line">	judge = rand() % 8;</span><br><span class="line">	if (judge != 0)//有8分之一的概率全部是正常</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; 4; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			for (j = 0; j &lt; 60; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				b[i][j] = a[i][j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; 4; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			for (j = 0; j &lt; 60; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				b[i][j] = 999;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	i = rand() % 60;</span><br><span class="line">	return b[k][i];</span><br><span class="line">&#125;</span><br><span class="line">/*==========================</span><br><span class="line">显示棉铃虫，大农田</span><br><span class="line">===========================*/</span><br><span class="line">void showmianling(unsigned char aaa[192][49])//棉铃虫。感染玉米和棉花。</span><br><span class="line">&#123;</span><br><span class="line">//	int aaa[49] = &#123; 0 &#125;;//</span><br><span class="line">	int temp;</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int jia2[] = &#123; 25,75,25,75,25,75,25,75 &#125;;//控制y的加的数，使其跳过小麦区域。</span><br><span class="line">	int x;</span><br><span class="line">	int y;</span><br><span class="line">	int i;</span><br><span class="line">	x = 0;</span><br><span class="line">	y = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	temp = randill(0);//控制发病率的调整比例</span><br><span class="line">	for (x = 20; x &lt; 620 - 25 + 1; x = x + 25)//玉米区域的发病率</span><br><span class="line">	&#123;</span><br><span class="line">		j = -1;</span><br><span class="line">		for (y = 65 + 50; y &lt; 465; y = y + jia2[j])//3行</span><br><span class="line">		&#123;</span><br><span class="line">			ifmianling(aaa[i]);//控制点的形成</span><br><span class="line">			j++;</span><br><span class="line">			judge = rand() % temp;</span><br><span class="line">			if (judge == 0)//  </span><br><span class="line">			&#123;</span><br><span class="line">				mianling(x, y,aaa[i]);</span><br><span class="line">				mian.bfzuobiao[i][0] = x;</span><br><span class="line">				mian.bfzuobiao[i][1] = y;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*==========================</span><br><span class="line">显示棉铃虫点列</span><br><span class="line">===========================*/</span><br><span class="line">void mianling(int x, int y, unsigned char aaa[49])//</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int jjj;</span><br><span class="line">	int mlxy[49][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//蓝色点所有可能的位置...49个点</span><br><span class="line">	        	&#123;     7  , 3  &#125;,</span><br><span class="line">				&#123;    19    , 1  &#125;,</span><br><span class="line">				&#123;      20 ,1   &#125;,	</span><br><span class="line">				&#123;    6  ,  5 &#125;,</span><br><span class="line">				&#123;      9,  5 &#125;,</span><br><span class="line">				&#123;     18 ,   4&#125;,</span><br><span class="line">				&#123;   18  ,   5&#125;,</span><br><span class="line">				&#123;   11   , 6  &#125;,</span><br><span class="line">				&#123;    14  ,  6 &#125;,</span><br><span class="line">				&#123;  5    ,7   &#125;,</span><br><span class="line">				&#123;    2  , 8  &#125;,</span><br><span class="line">				&#123; 7     ,8   &#125;,</span><br><span class="line">				&#123;   13   ,7  &#125;,</span><br><span class="line">				&#123;    17  , 7  &#125;,</span><br><span class="line">				&#123;  22    ,7   &#125;,</span><br><span class="line">				&#123; 19     , 8  &#125;,</span><br><span class="line">				&#123;  20    , 8  &#125;,</span><br><span class="line">				&#123;   6   , 10  &#125;,</span><br><span class="line">				&#123; 4     ,  11 &#125;,</span><br><span class="line">				&#123;    1  ,13   &#125;,</span><br><span class="line">				&#123; 3    , 16  &#125;,</span><br><span class="line">				&#123;   1   ,17   &#125;,</span><br><span class="line">				&#123;   1   ,  18 &#125;,</span><br><span class="line">				&#123;     2 , 18  &#125;,</span><br><span class="line">				&#123;    7  , 19  &#125;,</span><br><span class="line">				&#123;    7  ,  20 &#125;,</span><br><span class="line">				&#123;   5   ,23   &#125;,</span><br><span class="line">				&#123;  7    , 23 &#125;,</span><br><span class="line">				&#123;  10    , 12  &#125;,</span><br><span class="line">				&#123;  10    , 13  &#125;,</span><br><span class="line">				&#123;   9   ,  17 &#125;,</span><br><span class="line">				&#123;  11    , 15  &#125;,</span><br><span class="line">				&#123;    12  ,  14 &#125;,</span><br><span class="line">				&#123;   19   ,  12 &#125;,</span><br><span class="line">				&#123;    22  ,  12 &#125;,</span><br><span class="line">				&#123;    22  ,13   &#125;,</span><br><span class="line">				&#123;   22   ,  15 &#125;,</span><br><span class="line">				&#123;    18  , 15  &#125;,</span><br><span class="line">				&#123;    19  , 16  &#125;,</span><br><span class="line">				&#123;     13 , 17  &#125;,</span><br><span class="line">				&#123;     15 ,  16 &#125;,</span><br><span class="line">				&#123;   15   ,  19 &#125;,</span><br><span class="line">				&#123;   16   , 19  &#125;,</span><br><span class="line">				&#123;   14   ,  21 &#125;,</span><br><span class="line">				&#123;   15   ,  23 &#125;,</span><br><span class="line">				&#123;    16  , 22  &#125;,</span><br><span class="line">				&#123;    17  ,   24&#125;,</span><br><span class="line">				&#123;  19    , 21  &#125;,</span><br><span class="line">		        &#123;  21    , 23  &#125;,</span><br><span class="line">	&#125;;</span><br><span class="line">	for (i = 0; i &lt; 49; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		mlxy[i][0] = mlxy[i][0] + x;</span><br><span class="line">		mlxy[i][1] = mlxy[i][1] + y;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 49; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		jjj = getshu(aaa, j);</span><br><span class="line">		if ( jjj== 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(BLUE);</span><br><span class="line">			putpixel(mlxy[j][0], mlxy[j][1], BLUE);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*==========================</span><br><span class="line">使得能够随机显示棉铃虫点列</span><br><span class="line">===========================*/</span><br><span class="line">void ifmianling(unsigned char aaa[49])//随机显示</span><br><span class="line">&#123;</span><br><span class="line">	int judge[49];</span><br><span class="line">	int i;</span><br><span class="line">	for (i = 0; i &lt; 49; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		judge[i] = rand() % 2;//显示的概率为 1/2..</span><br><span class="line">		if (judge[i] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setshu(aaa, i, 0);//不显示	</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			setshu(aaa, i, 1);//显示</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void shownianchong(unsigned char aaa[384][49])//黏虫。两者均患</span><br><span class="line">&#123;</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int jia1[] = &#123; 25,75,25,75,25,75,25,75 &#125;;</span><br><span class="line">	int jia2[] = &#123; 25,75,25,75,25,75,25,75 &#125;;</span><br><span class="line">	int x;</span><br><span class="line">	int y;</span><br><span class="line">	int i;</span><br><span class="line">	int temp1, temp2;</span><br><span class="line">	temp1 = randill(1);</span><br><span class="line">	temp2 = randill(2);</span><br><span class="line">	x = 0;</span><br><span class="line">	y = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	for (x = 20; x &lt; 620 - 25 + 1; x = x + 25)//小麦区域的发病率</span><br><span class="line">	&#123;</span><br><span class="line">		j = -1;</span><br><span class="line">		for (y = 65; y &lt; 465; y = y + jia1[j])</span><br><span class="line">		&#123;</span><br><span class="line">			ifnianchong(aaa[i]);</span><br><span class="line">			j++;</span><br><span class="line">			judge = rand() % temp1;// </span><br><span class="line">			if (judge == 0)//  </span><br><span class="line">			&#123;</span><br><span class="line">				nianchong(x, y,aaa[i]);</span><br><span class="line">				nian.bfzuobiao[i][0] = x;</span><br><span class="line">				nian.bfzuobiao[i][1] = y;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	i = 192;//就是说，nian.bfzuobiao[i][],第1--192个是小麦区域的得了黏虫病的坐标，第193-384个是玉米的</span><br><span class="line">	//注意， 进行了农药喷洒后，请注意把对应的坐标 重新赋值为0</span><br><span class="line">	for (x = 20; x &lt; 620 - 25 + 1; x = x + 25)//玉米区域的发病率</span><br><span class="line">	&#123;</span><br><span class="line">		j = -1;</span><br><span class="line">		for (y = 65+50; y &lt; 465; y = y + jia2[j])//3行</span><br><span class="line">		&#123;</span><br><span class="line">			ifnianchong(aaa[i]);</span><br><span class="line">			j++;</span><br><span class="line">			judge = rand() % temp2;// 1/4的发病率</span><br><span class="line">			if (judge == 0)//  </span><br><span class="line">			&#123;</span><br><span class="line">				nianchong(x, y,aaa[i]);</span><br><span class="line">				nian.bfzuobiao[i][0] = x;</span><br><span class="line">				nian.bfzuobiao[i][1] = y;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void nianchong(int x, int y, unsigned char aaa[49])//</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int jjj;</span><br><span class="line">	int ncxy[43][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//洋红色点所有可能的位置...43个点</span><br><span class="line">		&#123;        1 ,  2  &#125;,</span><br><span class="line">		&#123;       1  ,  5  &#125;,</span><br><span class="line">		&#123;      3   ,  3  &#125;,</span><br><span class="line">		&#123;      2   ,20    &#125;,</span><br><span class="line">		&#123;     2    , 22   &#125;,</span><br><span class="line">		&#123;    4     ,  20  &#125;,</span><br><span class="line">		&#123;      6   , 13  &#125;,</span><br><span class="line">		&#123;      6   ,   14 &#125;,</span><br><span class="line">		&#123;     6    ,   16 &#125;,</span><br><span class="line">		&#123;     7    ,  14  &#125;,</span><br><span class="line">		&#123;      10 ,  9  &#125;,</span><br><span class="line">		&#123;    10     , 11   &#125;,</span><br><span class="line">		&#123;     11    ,  10  &#125;,</span><br><span class="line">		&#123;       13  ,11    &#125;,</span><br><span class="line">		&#123;      15   ,  9  &#125;,</span><br><span class="line">		&#123;    16     ,   10 &#125;,</span><br><span class="line">		&#123;     16    ,  11  &#125;,</span><br><span class="line">		&#123;   17      , 10   &#125;,</span><br><span class="line">		&#123;   18      , 9   &#125;,</span><br><span class="line">		&#123;   11      ,  18  &#125;,</span><br><span class="line">		&#123;    11     ,19    &#125;,</span><br><span class="line">		&#123;     11    ,  20  &#125;,</span><br><span class="line">		&#123;     10    ,19    &#125;,</span><br><span class="line">		&#123;    10    ,   21 &#125;,</span><br><span class="line">		&#123;      17   ,    17&#125;,</span><br><span class="line">		&#123;      16   ,   18 &#125;,</span><br><span class="line">		&#123;        17 ,   18 &#125;,</span><br><span class="line">		&#123;       18  ,   18 &#125;,</span><br><span class="line">		&#123;    22     ,17    &#125;,</span><br><span class="line">		&#123;     22    ,  19 &#125;,</span><br><span class="line">		&#123;      21   ,  18  &#125;,</span><br><span class="line">		&#123;      21  , 19   &#125;,</span><br><span class="line">		&#123;       21  ,  20  &#125;,</span><br><span class="line">		&#123;        11 ,  2  &#125;,</span><br><span class="line">		&#123;     13    ,  2  &#125;,</span><br><span class="line">		&#123;      13   ,  3  &#125;,</span><br><span class="line">		&#123;    15     ,  3  &#125;,</span><br><span class="line">		&#123;     16    ,   2 &#125;,</span><br><span class="line">		&#123;    20     ,    3&#125;,</span><br><span class="line">		&#123;      20   , 4   &#125;,</span><br><span class="line">		&#123;      21   , 5   &#125;,</span><br><span class="line">		&#123;      22   , 3   &#125;,</span><br><span class="line">		&#123;      22   , 4   &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	for (i = 0; i &lt; 43; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ncxy[i][0] = ncxy[i][0] + x;</span><br><span class="line">		ncxy[i][1] = ncxy[i][1] + y;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 43; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		jjj = getshu(aaa, j);</span><br><span class="line">		if (jjj == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(YELLOW);</span><br><span class="line">			putpixel(ncxy[j][0], ncxy[j][1], YELLOW);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void ifnianchong(unsigned char aaa[49])//随机显示</span><br><span class="line">&#123;</span><br><span class="line">	int judge[43];</span><br><span class="line">	int i;</span><br><span class="line">	for (i = 0; i &lt; 43; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		judge[i] = rand() % 2;//显示的概率为 1/2.</span><br><span class="line">		if (judge[i] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setshu(aaa, i, 0);//不显示</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			setshu(aaa, i, 1);//显示	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void showbaifen(unsigned char abc[192][49])//白粉病的发病率</span><br><span class="line">&#123;</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int jia[] = &#123; 25,75,25,75,25,75,25,75 &#125;;//控制y的加的数，使其跳过玉米区域。</span><br><span class="line">	int x;</span><br><span class="line">	int y;</span><br><span class="line">	int i;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = randill(3);</span><br><span class="line">	x = 0;</span><br><span class="line">	y = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	for (x = 20; x &lt; 620 - 25 + 1; x = x + 25)//96*2片区域,,这是24列</span><br><span class="line">	&#123;</span><br><span class="line">		j = -1;</span><br><span class="line">		for (y = 65; y &lt; 465; y = y + jia[j])//6行</span><br><span class="line">		&#123;</span><br><span class="line">			ifbaifen(abc[i]);</span><br><span class="line">			j++;</span><br><span class="line">			judge = rand() % temp;</span><br><span class="line">			if (judge == 0)//   1/4的概率得病</span><br><span class="line">			&#123;</span><br><span class="line">				baifen(x, y,abc[i]);</span><br><span class="line">				bai.bfzuobiao[i][0] = x;////储存区域生病的坐标；</span><br><span class="line">			    bai.bfzuobiao[i][1] = y;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void baifen(int x, int y, unsigned char abc[49])//画出白粉病，适用于俯视图。25*25大小</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int jjj;</span><br><span class="line">	int bfxy[34][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//白色点所有可能的位置</span><br><span class="line">		&#123;5, 5&#125;,</span><br><span class="line">		&#123; 7, 4&#125;,</span><br><span class="line">		&#123; 9, 5&#125;,</span><br><span class="line">		&#123; 7,  9&#125;,</span><br><span class="line">		&#123; 4,  9&#125;,</span><br><span class="line">		&#123; 4,  14&#125;,</span><br><span class="line">		&#123; 3,  14&#125;,</span><br><span class="line">		&#123; 8,  18&#125;,</span><br><span class="line">		&#123; 8,  19&#125;,</span><br><span class="line">		&#123; 9, 14&#125;,</span><br><span class="line">		&#123; 13,  5&#125;,</span><br><span class="line">		&#123; 13,  6&#125;,</span><br><span class="line">		&#123; 13,  7&#125;,</span><br><span class="line">		&#123; 13,  8&#125;,</span><br><span class="line">		&#123; 13,  14&#125;,</span><br><span class="line">		&#123; 14,  14&#125;,</span><br><span class="line">		&#123; 14,  17&#125;,</span><br><span class="line">		&#123; 14,  20&#125;,</span><br><span class="line">		&#123; 18,  21&#125;,</span><br><span class="line">		&#123; 19,  15&#125;,</span><br><span class="line">		&#123; 20,  11&#125;,</span><br><span class="line">		&#123; 16,  6&#125;,</span><br><span class="line">		&#123; 17,  6&#125;,</span><br><span class="line">		&#123; 18,  3&#125;,</span><br><span class="line">		&#123;  5, 1 &#125;,</span><br><span class="line">		&#123; 21  , 1 &#125;,</span><br><span class="line">		&#123; 21  , 23 &#125;,</span><br><span class="line">		&#123; 5  ,22  &#125;,</span><br><span class="line">		&#123; 10  ,22  &#125;,</span><br><span class="line">		&#123; 1  , 13 &#125;,</span><br><span class="line">		&#123; 1  , 18 &#125;,</span><br><span class="line">		&#123; 3  , 11 &#125;,</span><br><span class="line">		&#123;22   , 9 &#125;,</span><br><span class="line">		&#123; 23  ,  19&#125;//34个点</span><br><span class="line">	&#125;;</span><br><span class="line">	for (i = 0; i &lt; 34; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		bfxy[i][0] = bfxy[i][0] + x;</span><br><span class="line">		bfxy[i][1] = bfxy[i][1] + y;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 34; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		jjj = getshu(abc, j);</span><br><span class="line">		if (jjj == 1)</span><br><span class="line">		&#123;</span><br><span class="line">				setcolor(WHITE);</span><br><span class="line">				putpixel(bfxy[j][0], bfxy[j][1], WHITE);</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">void ifbaifen(unsigned char abc[49])//使得白粉病 设置白点的随机显示</span><br><span class="line">&#123;</span><br><span class="line">	int judge[34];</span><br><span class="line">	int i;</span><br><span class="line">	for (i = 0; i &lt; 34; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		judge[i] = rand() % 3;//显示的概率为 2/3.。。</span><br><span class="line">		if (judge[i] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setshu(abc, i, 0);//不显示</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			setshu(abc, i, 1);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line">//============================================================================================================</span><br><span class="line">//============================================================================================================</span><br><span class="line">//下面为小农田</span><br><span class="line">void showxtbaifen(void)//小农田显示白粉病</span><br><span class="line">&#123;</span><br><span class="line">	FILE* filePointer4; </span><br><span class="line">	FILE* filePointer5;</span><br><span class="line">	int plantPositions3[104][2];</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int x;</span><br><span class="line">	int i;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = randill(3);</span><br><span class="line">	x = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	filePointer4 = fopen(&quot;data//xtxmbai.dat&quot;, &quot;w&quot;); </span><br><span class="line">	filePointer5 = fopen(&quot;data//xmbfdian.dat&quot;, &quot;w&quot;); </span><br><span class="line">	 getxtxiao(plantPositions3);//使得小麦坐标到了plantpositions3</span><br><span class="line">	for (x = 0; x &lt; 104; x++)</span><br><span class="line">	&#123;	</span><br><span class="line">			judge = rand() % temp;</span><br><span class="line">			if (judge == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				xtbaifen(plantPositions3[i][0], plantPositions3[i][1], filePointer5);</span><br><span class="line">				fprintf(filePointer4, &quot;%d %d\n&quot;, plantPositions3[i][0], plantPositions3[i][1]);</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(filePointer4); // </span><br><span class="line">	fclose(filePointer5); // 关闭文件</span><br><span class="line">&#125;</span><br><span class="line">void xtbaifen(int x, int y, FILE* filePointer5)</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int bfxy[31][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//白色点所有可能的位置		31</span><br><span class="line">		&#123; 1  , 2  &#125;,</span><br><span class="line">		&#123; 2  , 6  &#125;,</span><br><span class="line">		&#123; 2  , 10  &#125;,</span><br><span class="line">		&#123; 2  ,  13 &#125;,</span><br><span class="line">		&#123; 1  ,  15 &#125;,</span><br><span class="line">		&#123; 3  ,  8 &#125;,</span><br><span class="line">		&#123; 3  , 18  &#125;,</span><br><span class="line">		&#123; 4  , 12  &#125;,</span><br><span class="line">		&#123; 5  ,  4 &#125;,</span><br><span class="line">		&#123; 5  ,  8 &#125;,</span><br><span class="line">		&#123; 5  ,  14 &#125;,</span><br><span class="line">		&#123; 5  ,  16 &#125;,</span><br><span class="line">		&#123; 5  ,  17 &#125;,</span><br><span class="line">		&#123; 7  ,  9 &#125;,</span><br><span class="line">		&#123; 10  , 2  &#125;,</span><br><span class="line">		&#123; 10  , 3  &#125;,</span><br><span class="line">		&#123; 10  , 8  &#125;,</span><br><span class="line">		&#123; 10  , 13  &#125;,</span><br><span class="line">		&#123; 10  , 17  &#125;,</span><br><span class="line">		&#123; 12  ,  8 &#125;,</span><br><span class="line">		&#123; 12  , 10  &#125;,</span><br><span class="line">		&#123; 14  ,  6 &#125;,</span><br><span class="line">		&#123; 14  ,  13 &#125;,</span><br><span class="line">		&#123; 15  ,  2 &#125;,</span><br><span class="line">		&#123; 15  ,  16 &#125;,</span><br><span class="line">		&#123; 18  ,  3 &#125;,</span><br><span class="line">		&#123; 17  ,  8 &#125;,</span><br><span class="line">		&#123; 17  , 13  &#125;,</span><br><span class="line">		&#123; 18  , 11  &#125;,</span><br><span class="line">		&#123;  19 ,  11 &#125;,</span><br><span class="line">		&#123;  19 ,  17 &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	int ttemp;</span><br><span class="line">	for (i = 0; i &lt; 31; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		bfxy[i][0] = bfxy[i][0] + x;</span><br><span class="line">		bfxy[i][1] = bfxy[i][1] + y;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 31; j++)</span><br><span class="line">	&#123;	</span><br><span class="line">		ttemp = rand() % 2;</span><br><span class="line">		if (ttemp == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(WHITE);</span><br><span class="line">			putpixel(bfxy[j][0], bfxy[j][1], WHITE);</span><br><span class="line">			fprintf(filePointer5, &quot;%d %d\n&quot;, bfxy[j][0], bfxy[j][1]);</span><br><span class="line">		&#125;			</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line">void showxtnianchong(void)//小农田</span><br><span class="line">&#123;</span><br><span class="line">	FILE* filePointer4;</span><br><span class="line">	FILE* filePointer5;</span><br><span class="line">	int plantPositions3[104][2];</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int x;</span><br><span class="line">	int i;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = randill(3);</span><br><span class="line">	x = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	filePointer4 = fopen(&quot;data//xtxmnian.dat&quot;, &quot;w&quot;); // 以读取模式打开文件</span><br><span class="line">	filePointer5 = fopen(&quot;data//xmncdian.dat&quot;, &quot;w&quot;); // 以读取模式打开文件</span><br><span class="line">	getxtxiao(plantPositions3);//使得小麦坐标到了plantpositions3</span><br><span class="line">	for (x = 0; x &lt; 104; x++)//</span><br><span class="line">	&#123;</span><br><span class="line">		judge = rand() % temp;</span><br><span class="line">		if (judge == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			xtnianchong(plantPositions3[i][0], plantPositions3[i][1], filePointer5);</span><br><span class="line">			fprintf(filePointer4, &quot;%d %d\n&quot;, plantPositions3[i][0], plantPositions3[i][1]);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(filePointer4); // 关闭文件</span><br><span class="line">	fclose(filePointer5); </span><br><span class="line">&#125;</span><br><span class="line">void xtnianchong(int x, int y, FILE* filePointer5)</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int bfxy[27][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//黄色点所有可能的位置		27</span><br><span class="line">		&#123;   4, 1 &#125;,  </span><br><span class="line">		&#123;  1 , 4  &#125;,</span><br><span class="line">		&#123;  1 , 8  &#125;,</span><br><span class="line">		&#123;  1 , 12  &#125;,</span><br><span class="line">		&#123;  2 ,  16 &#125;,</span><br><span class="line">		&#123;  3 ,  15 &#125;,</span><br><span class="line">		&#123;  7 ,  3 &#125;,</span><br><span class="line">		&#123;  7 , 7  &#125;,</span><br><span class="line">		&#123;  5 , 11  &#125;,</span><br><span class="line">		&#123;  7 ,  13 &#125;,</span><br><span class="line">		&#123;  7 , 16  &#125;,</span><br><span class="line">		&#123;  8 ,  16 &#125;,</span><br><span class="line">		&#123;  7 ,  18 &#125;,</span><br><span class="line">		&#123;  9 ,  6 &#125;,</span><br><span class="line">		&#123;  10 , 6  &#125;,</span><br><span class="line">		&#123;  9 ,  11 &#125;,</span><br><span class="line">		&#123;  12 ,  4 &#125;,</span><br><span class="line">		&#123;  12 ,  15 &#125;,</span><br><span class="line">		&#123;  12 ,  18 &#125;,</span><br><span class="line">		&#123;   13,  12 &#125;,</span><br><span class="line">		&#123;  15 ,  8 &#125;,</span><br><span class="line">		&#123;  15 ,  10 &#125;,</span><br><span class="line">		&#123;  17 ,  2 &#125;,</span><br><span class="line">		&#123;  17 ,  6 &#125;,</span><br><span class="line">		&#123;   16,  18 &#125;,</span><br><span class="line">		&#123;  17 ,  18 &#125;,</span><br><span class="line">		&#123;  18 ,  15 &#125;	</span><br><span class="line">		</span><br><span class="line">	&#125;;</span><br><span class="line">	int ttemp;</span><br><span class="line">	for (i = 0; i &lt; 27; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		bfxy[i][0] = bfxy[i][0] + x;</span><br><span class="line">		bfxy[i][1] = bfxy[i][1] + y;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 27; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		ttemp = rand() % 2;</span><br><span class="line">		if (ttemp == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(YELLOW);</span><br><span class="line">			putpixel(bfxy[j][0], bfxy[j][1], YELLOW);</span><br><span class="line">			fprintf(filePointer5, &quot;%d %d\n&quot;, bfxy[j][0], bfxy[j][1]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void showxtymmian(void)//小农田玉米的棉虫病坐标</span><br><span class="line">&#123;</span><br><span class="line">	FILE* filePointer4;</span><br><span class="line">	FILE* filePointer5;</span><br><span class="line">	int plantPositions3[68][2];</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int x;</span><br><span class="line">	int i;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = randill(2);</span><br><span class="line">	x = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	filePointer4 = fopen(&quot;data//xtymmian.dat&quot;, &quot;w&quot;); </span><br><span class="line">	filePointer5 = fopen(&quot;data//ymmldian.dat&quot;, &quot;w&quot;); </span><br><span class="line">	getxtyumi(plantPositions3);</span><br><span class="line">	for (x = 0; x &lt; 68; x++)</span><br><span class="line">	&#123;</span><br><span class="line">		judge = rand() % temp;</span><br><span class="line">		if (judge == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			xtymmian(plantPositions3[i][0], plantPositions3[i][1], filePointer5);</span><br><span class="line">			fprintf(filePointer4, &quot;%d %d\n&quot;, plantPositions3[i][0], plantPositions3[i][1]);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(filePointer4); // 关闭文件</span><br><span class="line">	fclose(filePointer5); // 关闭文件</span><br><span class="line">&#125;</span><br><span class="line">void xtymmian(int x, int y,FILE* filePointer5)//画出</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int bfxy[27][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//蓝色点所有可能的位置		27</span><br><span class="line">		&#123; 5   , 6  &#125;,</span><br><span class="line">		&#123; 5   , 8  &#125;,</span><br><span class="line">		&#123; 8   , 6  &#125;,</span><br><span class="line">		&#123; 10   ,5   &#125;,</span><br><span class="line">		&#123;  12  , 6  &#125;,</span><br><span class="line">		&#123;   14 , 5  &#125;,</span><br><span class="line">		&#123;  15  , 7  &#125;,</span><br><span class="line">		&#123;  14  , 9  &#125;,</span><br><span class="line">		&#123;  13  , 12  &#125;,</span><br><span class="line">		&#123;  13  , 14  &#125;,</span><br><span class="line">		&#123;  10  ,  19 &#125;,</span><br><span class="line">		&#123;  11  ,  20 &#125;,</span><br><span class="line">		&#123;  9  ,  23 &#125;,</span><br><span class="line">		&#123;  14  ,  18 &#125;,</span><br><span class="line">		&#123;  14  ,  23 &#125;,</span><br><span class="line">		&#123;  14  ,  26 &#125;,</span><br><span class="line">		&#123;  13  ,  29 &#125;,</span><br><span class="line">		&#123;  13  ,  34 &#125;,</span><br><span class="line">		&#123;  16  ,  29 &#125;,</span><br><span class="line">		&#123;  16  ,  34 &#125;,</span><br><span class="line">		&#123;  17  ,  11 &#125;,</span><br><span class="line">		&#123;  17  ,  22 &#125;,</span><br><span class="line">		&#123;  19  ,  20 &#125;,</span><br><span class="line">		&#123;  21  ,  19 &#125;,</span><br><span class="line">		&#123;  23  ,  18 &#125;,</span><br><span class="line">		&#123;   24 ,  21 &#125;,</span><br><span class="line">		&#123;   25 ,  23 &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	int ttemp;</span><br><span class="line">	for (i = 0; i &lt; 27; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		bfxy[i][0] = bfxy[i][0] + x;</span><br><span class="line">		bfxy[i][1] = bfxy[i][1] + y;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 27; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		ttemp = rand() % 2;</span><br><span class="line">		if (ttemp == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(BLUE);</span><br><span class="line">			putpixel(bfxy[j][0], bfxy[j][1], BLUE);</span><br><span class="line">			fprintf(filePointer5, &quot;%d %d\n&quot;, bfxy[j][0], bfxy[j][1]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void showxtymnian(void)</span><br><span class="line">&#123;</span><br><span class="line">	FILE* filePointer4;</span><br><span class="line">	FILE* filePointer5;</span><br><span class="line">	int plantPositions3[68][2];</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int x;</span><br><span class="line">	int i;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = randill(2);</span><br><span class="line">	x = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	filePointer4 = fopen(&quot;data//xtymnian.dat&quot;, &quot;w&quot;); </span><br><span class="line">	filePointer5 = fopen(&quot;data//ymncdian.dat&quot;, &quot;w&quot;); </span><br><span class="line">	getxtyumi(plantPositions3);</span><br><span class="line">	for (x = 0; x &lt; 68; x++)</span><br><span class="line">	&#123;</span><br><span class="line">		judge = rand() % temp;</span><br><span class="line">		if (judge == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			xtymnian(plantPositions3[i][0], plantPositions3[i][1], filePointer5);</span><br><span class="line">			fprintf(filePointer4, &quot;%d %d\n&quot;, plantPositions3[i][0], plantPositions3[i][1]);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(filePointer4); </span><br><span class="line">	fclose(filePointer5); </span><br><span class="line">&#125;</span><br><span class="line">void xtymnian(int x, int y, FILE* filePointer5)</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int bfxy[26][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//蓝色点所有可能的位置		26</span><br><span class="line">		&#123;   3 ,  10  &#125;,</span><br><span class="line">		&#123;   4 ,   7 &#125;,</span><br><span class="line">		&#123;   6 ,   4 &#125;,</span><br><span class="line">		&#123;   6 ,   6 &#125;,</span><br><span class="line">		&#123;   8 ,   8 &#125;,</span><br><span class="line">		&#123;   11 ,  5  &#125;,</span><br><span class="line">		&#123;    10,  6  &#125;,</span><br><span class="line">		&#123;  14  ,  3  &#125;,</span><br><span class="line">		&#123;  16  ,  5  &#125;,</span><br><span class="line">		&#123;  13  ,  8  &#125;,</span><br><span class="line">		&#123;  12  ,  10  &#125;,</span><br><span class="line">		&#123;  24  ,   19 &#125;,</span><br><span class="line">		&#123;  23  ,   20 &#125;,</span><br><span class="line">		&#123;  26  ,   24 &#125;,</span><br><span class="line">		&#123;  16  ,   20 &#125;,</span><br><span class="line">		&#123;  17  ,   20 &#125;,</span><br><span class="line">		&#123;  14  ,   20 &#125;,</span><br><span class="line">		&#123;  9  ,   21 &#125;,</span><br><span class="line">		&#123;  9  ,   26 &#125;,</span><br><span class="line">		&#123;  13  ,   25 &#125;,</span><br><span class="line">		&#123;  15  ,   27 &#125;,</span><br><span class="line">		&#123;  15  ,   32 &#125;,</span><br><span class="line">		&#123;  13  ,   31 &#125;,</span><br><span class="line">		&#123;  14  ,   21 &#125;,</span><br><span class="line">		&#123;   15 ,   23 &#125;,</span><br><span class="line">		&#123;   11 ,   21 &#125;	</span><br><span class="line">	&#125;;</span><br><span class="line">	int ttemp;</span><br><span class="line">	for (i = 0; i &lt; 26; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		bfxy[i][0] = bfxy[i][0] + x;</span><br><span class="line">		bfxy[i][1] = bfxy[i][1] + y;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 26; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		ttemp = rand() % 2;</span><br><span class="line">		if (ttemp == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(YELLOW);</span><br><span class="line">			putpixel(bfxy[j][0], bfxy[j][1], YELLOW);</span><br><span class="line">			fprintf(filePointer5, &quot;%d %d\n&quot;, bfxy[j][0], bfxy[j][1]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void showxtmhmian(void)//小农田 棉花的棉铃虫病坐标</span><br><span class="line">&#123;</span><br><span class="line">	FILE* filePointer4;</span><br><span class="line">	FILE* filePointer5;</span><br><span class="line">	int plantPositions3[68][2];</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int x;</span><br><span class="line">	int i;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = randill(1);</span><br><span class="line">	x = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	filePointer4 = fopen(&quot;data//xtmhmian.dat&quot;, &quot;w&quot;); </span><br><span class="line">	filePointer5 = fopen(&quot;data//mhmldian.dat&quot;, &quot;w&quot;); </span><br><span class="line">	getxtmianhua(plantPositions3);</span><br><span class="line">	for (x = 0; x &lt; 68; x++)</span><br><span class="line">	&#123;</span><br><span class="line">		judge = rand() % temp;</span><br><span class="line">		if (judge == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			xtmhmian(plantPositions3[i][0], plantPositions3[i][1],filePointer5);</span><br><span class="line">			fprintf(filePointer4, &quot;%d %d\n&quot;, plantPositions3[i][0], plantPositions3[i][1]);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(filePointer4); </span><br><span class="line">	fclose(filePointer5); </span><br><span class="line">&#125;</span><br><span class="line">void xtmhmian(int x, int y, FILE* filePointer5)</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int bfxy[33][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		// 	33	</span><br><span class="line">		&#123;  9  ,  2  &#125;,</span><br><span class="line">		&#123;  9  ,  5  &#125;,</span><br><span class="line">		&#123;  8  ,  6  &#125;,</span><br><span class="line">		&#123;  11  , 3   &#125;,</span><br><span class="line">		&#123;  12  , 6   &#125;,</span><br><span class="line">		&#123;  11  , 9   &#125;,</span><br><span class="line">		&#123;  5  ,  12  &#125;,</span><br><span class="line">		&#123;  4  ,  14  &#125;,</span><br><span class="line">		&#123;  6  ,  15  &#125;,</span><br><span class="line">		&#123;  9  ,  15  &#125;,</span><br><span class="line">		&#123;  5  ,  18  &#125;,</span><br><span class="line">		&#123;  11  ,  16  &#125;,</span><br><span class="line">		&#123;  12  ,  13  &#125;,</span><br><span class="line">		&#123;  13  ,  20  &#125;,</span><br><span class="line">		&#123;  12  ,  23  &#125;,</span><br><span class="line">		&#123;  11  ,  25  &#125;,</span><br><span class="line">		&#123;  13  ,  25  &#125;,</span><br><span class="line">		&#123;  12  ,   27 &#125;,</span><br><span class="line">		&#123;  12  ,   29 &#125;,</span><br><span class="line">		&#123;  16  ,   2 &#125;,</span><br><span class="line">		&#123;  16  ,   4 &#125;,</span><br><span class="line">		&#123;  14  ,   5 &#125;,</span><br><span class="line">		&#123;  15  ,   8 &#125;,</span><br><span class="line">		&#123;  13  ,   9 &#125;,</span><br><span class="line">		&#123;  13  ,   11 &#125;,</span><br><span class="line">		&#123;  17  ,   6 &#125;,</span><br><span class="line">		&#123;  19  ,   6 &#125;,</span><br><span class="line">		&#123;  20  ,   8 &#125;,</span><br><span class="line">		&#123;  19  ,   12 &#125;,</span><br><span class="line">		&#123;  18  ,   15 &#125;,</span><br><span class="line">		&#123;  20  ,   15 &#125;,</span><br><span class="line">		&#123;  19  ,   18 &#125;,</span><br><span class="line">		&#123;  21  ,   18 &#125;	</span><br><span class="line">	&#125;;</span><br><span class="line">	int ttemp;</span><br><span class="line">	for (i = 0; i &lt; 33; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		bfxy[i][0] = bfxy[i][0] + x-1;</span><br><span class="line">		bfxy[i][1] = bfxy[i][1] + y+1;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 33; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		ttemp = rand() % 2;</span><br><span class="line">		if (ttemp == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(BLUE);</span><br><span class="line">			putpixel(bfxy[j][0], bfxy[j][1], BLUE);</span><br><span class="line">		   fprintf(filePointer5, &quot;%d %d\n&quot;, bfxy[j][0], bfxy[j][1]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void showxtmhxiu(void)</span><br><span class="line">&#123;</span><br><span class="line">	FILE* filePointer4;</span><br><span class="line">	FILE* filePointer5;</span><br><span class="line">	int plantPositions3[68][2];</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int j;</span><br><span class="line">	int x;</span><br><span class="line">	int i;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = randill(1);</span><br><span class="line">	x = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	filePointer4 = fopen(&quot;data//xtmhxiu.dat&quot;, &quot;w&quot;); </span><br><span class="line">	filePointer5 = fopen(&quot;data//mhxbdian.dat&quot;, &quot;w&quot;);</span><br><span class="line">	getxtmianhua(plantPositions3);</span><br><span class="line">	for (x = 0; x &lt; 68; x++)</span><br><span class="line">	&#123;</span><br><span class="line">		judge = rand() % temp;</span><br><span class="line">		if (judge == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			xtmhxiu(plantPositions3[i][0], plantPositions3[i][1], filePointer5);</span><br><span class="line">			fprintf(filePointer4, &quot;%d %d\n&quot;, plantPositions3[i][0], plantPositions3[i][1]);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(filePointer4); </span><br><span class="line">	fclose(filePointer5); </span><br><span class="line">&#125;</span><br><span class="line">void xtmhxiu(int x, int y, FILE* filePointer5)//</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int j;</span><br><span class="line">	int bfxy[35][2] =</span><br><span class="line">	&#123;</span><br><span class="line">		//洋红色点所有可能的位置		35</span><br><span class="line">		&#123; 8   ,  0  &#125;,</span><br><span class="line">		&#123; 6   ,  5  &#125;,</span><br><span class="line">		&#123; 5   ,  6  &#125;,</span><br><span class="line">		&#123; 4   ,  16  &#125;,</span><br><span class="line">		&#123; 6   ,  13  &#125;,</span><br><span class="line">		&#123; 8   ,  14  &#125;,</span><br><span class="line">		&#123; 7   ,   17 &#125;,</span><br><span class="line">		&#123; 11   ,  1  &#125;,</span><br><span class="line">		&#123;  10  ,  2  &#125;,</span><br><span class="line">		&#123;  10  ,  8  &#125;,</span><br><span class="line">		&#123;  10  ,  7  &#125;,</span><br><span class="line">		&#123;  11  ,  12  &#125;,</span><br><span class="line">		&#123;  11  ,   15 &#125;,</span><br><span class="line">		&#123;  11  ,   18 &#125;,</span><br><span class="line">		&#123;  11  ,   20 &#125;,</span><br><span class="line">		&#123;  11  ,   22 &#125;,</span><br><span class="line">		&#123;  11  ,   31 &#125;,</span><br><span class="line">		&#123;  12  ,   32 &#125;,</span><br><span class="line">		&#123;  12  ,   10 &#125;,</span><br><span class="line">		&#123;  13  ,  15  &#125;,</span><br><span class="line">		&#123;  13  ,  16  &#125;,</span><br><span class="line">		&#123;  13  ,  18  &#125;,</span><br><span class="line">		&#123;  13  ,  22  &#125;,</span><br><span class="line">		&#123;  13  ,   30 &#125;,</span><br><span class="line">		&#123;  14  ,   10 &#125;,</span><br><span class="line">		&#123;  16  ,   9 &#125;,</span><br><span class="line">		&#123;  18  ,   4 &#125;,</span><br><span class="line">		&#123;   18 ,  8  &#125;,</span><br><span class="line">		&#123;   20 ,  6  &#125;,</span><br><span class="line">		&#123;   17 ,  13  &#125;,</span><br><span class="line">		&#123;   18 ,  17  &#125;,</span><br><span class="line">		&#123;   19 ,   14 &#125;,</span><br><span class="line">		&#123;   19 ,   16 &#125;,</span><br><span class="line">		&#123;   21 ,   14 &#125;,</span><br><span class="line">		&#123;   21 ,  17  &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	int ttemp;</span><br><span class="line">	for (i = 0; i &lt; 35; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		bfxy[i][0] = bfxy[i][0] + x-1;</span><br><span class="line">		bfxy[i][1] = bfxy[i][1] + y+1;</span><br><span class="line">	&#125;</span><br><span class="line">	for (j = 0; j &lt; 35; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		ttemp = rand() % 2;</span><br><span class="line">		if (ttemp == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(LIGHTRED);</span><br><span class="line">			putpixel(bfxy[j][0], bfxy[j][1], LIGHTRED);</span><br><span class="line">			fprintf(filePointer5, &quot;%d %d\n&quot;, bfxy[j][0], bfxy[j][1]);</span><br><span class="line">		&#125;			</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>其实这里有很多重复的代码和东西，一个农田只看一种植物的一种病就可以了。。其他都是复制粘贴的，说实话。建议不用细看，因为颜色点的随机显示，老师根本不注重，而且不会细看。。。现在让我自己看，我也看不懂 。</strong></p>
<h3 id="recover"><a href="#recover" class="headerlink" title="recover"></a>recover</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line"></span><br><span class="line">//===========================</span><br><span class="line">//大农田里面的部分植物自愈</span><br><span class="line">//===========================</span><br><span class="line">void recover(void)//完全随机重新刷新；；</span><br><span class="line">&#123;</span><br><span class="line">	int j;//跳过区域用</span><br><span class="line">	int jia1[] = &#123; 25,75,25,75,25,75,25,75 &#125;;//跳过玉米区域。</span><br><span class="line">	int jia2[] = &#123; 25,75,25,75,25,75,25,75 &#125;;//跳过小麦区域。</span><br><span class="line">	int x, y;//循环</span><br><span class="line">	int i = 0;//调用患病植株坐标</span><br><span class="line">	int ii;//同上</span><br><span class="line">	int judge = 0;//恢复比例的分子</span><br><span class="line">	int temp1, temp2;//自愈比例分母</span><br><span class="line">	temp1 = randrecover(0);//小麦自愈比例</span><br><span class="line">	temp2 = randrecover(1);//玉米自愈比例</span><br><span class="line">	for (x = 20; x &lt; 620 - 25 + 1; x = x + 25)//小麦区域,</span><br><span class="line">	&#123;</span><br><span class="line">		j = -1;</span><br><span class="line">		for (y = 65; y &lt; 465; y = y + jia1[j])//</span><br><span class="line">		&#123;</span><br><span class="line">			j++;</span><br><span class="line">			judge = rand() % temp1;// </span><br><span class="line">			if (judge == 0)//  </span><br><span class="line">			&#123;</span><br><span class="line">				setcolor(BROWN);</span><br><span class="line">				setfillstyle(1, BROWN);</span><br><span class="line">				bar(x, y, x + 25, y + 25);//矩形覆盖原生病植物。再画健康植物</span><br><span class="line">				fxiaomai(x, y);</span><br><span class="line">				nian.bfzuobiao[i][0] = 0;</span><br><span class="line">				nian.bfzuobiao[i][1] = 0;</span><br><span class="line">				bai.bfzuobiao[i][0] = 0;</span><br><span class="line">				bai.bfzuobiao[i][1] = 0;//使其为0；表示其恢复健康。</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			else i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	i = 192;</span><br><span class="line">	ii = 0;</span><br><span class="line">	for (x = 20; x &lt; 620 - 25 + 1; x = x + 25)//玉米区域</span><br><span class="line">	&#123;</span><br><span class="line">		j = -1;</span><br><span class="line">		for (y = 65 + 50; y &lt; 465; y = y + jia2[j])//</span><br><span class="line">		&#123;</span><br><span class="line">			j++;</span><br><span class="line">			judge = rand() % temp2;// </span><br><span class="line">			if (judge == 0)//  </span><br><span class="line">			&#123;</span><br><span class="line">				setcolor(BROWN);</span><br><span class="line">				setfillstyle(1, BROWN);</span><br><span class="line">				bar(x, y, x + 25, y + 25);</span><br><span class="line">				fyumi(x,y);</span><br><span class="line">				mian.bfzuobiao[ii][0] = 0;</span><br><span class="line">				mian.bfzuobiao[ii][1] = 0;//使其为0，表示健康</span><br><span class="line">				nian.bfzuobiao[i][0] = 0;</span><br><span class="line">				nian.bfzuobiao[i][1] = 0;//</span><br><span class="line">				i++;</span><br><span class="line">				ii++;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				i++;//表示仍然患病，跳过</span><br><span class="line">				ii++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">int randrecover(int k)//恢复比例分配</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int a[2][10] = </span><br><span class="line">	&#123;</span><br><span class="line">		&#123;1,1,2,2,2,2, 2,3,3,4&#125;,//小麦</span><br><span class="line">		</span><br><span class="line">		&#123;1,1,2,2,2,2, 2,3,3,4&#125;//玉米的		</span><br><span class="line">	&#125;;</span><br><span class="line">	i = rand() % 10;</span><br><span class="line">	return a[k][i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这里的生病、自愈都是完全用随机数搞的，但实际上验收老师就看了一两遍无人机扫描结果，所以根本没有用。。。</strong></p>
<h3 id="elsetian"><a href="#elsetian" class="headerlink" title="elsetian"></a>elsetian</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">// 画植物，均为左上角坐标。</span><br><span class="line">void drawPlants(void)</span><br><span class="line">&#123;</span><br><span class="line">    // 绘制固定位置的植物   </span><br><span class="line">    int i;</span><br><span class="line">    //玉米的坐标30*35</span><br><span class="line">    int plantPositions1[][2] =//直接穷举法列举出植物坐标</span><br><span class="line">    &#123; </span><br><span class="line">        //梯田那部分。11个</span><br><span class="line">        &#123;100,100&#125;,</span><br><span class="line">        &#123;  3  ,  92 &#125;,</span><br><span class="line">        &#123;   73 ,  89  &#125;,</span><br><span class="line">        &#123; 46   ,   171 &#125;,</span><br><span class="line">        &#123;  138  ,   213 &#125;,</span><br><span class="line">        &#123;   99 ,   154 &#125;,</span><br><span class="line">        &#123;   120 ,   151 &#125;,</span><br><span class="line">        &#123; 9   ,   120 &#125;,</span><br><span class="line">        &#123; 65   ,   140 &#125;,</span><br><span class="line">        &#123;  158  ,  156  &#125;,</span><br><span class="line">        &#123;   89 ,  199  &#125;,</span><br><span class="line">//最右上角一块  5</span><br><span class="line">        &#123;   501 ,   238 &#125;,</span><br><span class="line">        &#123;   598 ,  265  &#125;,</span><br><span class="line">        &#123;   598 ,   227 &#125;,</span><br><span class="line">        &#123;   574 ,  144  &#125;,</span><br><span class="line">        &#123;   544 ,132    &#125;,</span><br><span class="line">// 第三块  18</span><br><span class="line">         &#123;  350  , 95   &#125;,</span><br><span class="line">         &#123;   356 ,  132  &#125;,</span><br><span class="line">         &#123;   366 ,   168 &#125;,</span><br><span class="line">         &#123;   379 ,   204 &#125;,</span><br><span class="line">         &#123;   392 ,    243&#125;,</span><br><span class="line">         &#123;   469 ,    100&#125;,</span><br><span class="line">         &#123;   470 ,  139  &#125;,</span><br><span class="line">         &#123;   470 ,   215 &#125;,</span><br><span class="line">         &#123;   470 ,  175  &#125;,</span><br><span class="line">         &#123;   470 ,   254 &#125;,</span><br><span class="line">         &#123;   473 ,   294 &#125;,</span><br><span class="line">         &#123;   416 ,   265 &#125;,</span><br><span class="line">         &#123;   447 ,   291 &#125;,</span><br><span class="line">         &#123;   405 ,   197 &#125;,</span><br><span class="line">         &#123;   416 ,   231 &#125;,</span><br><span class="line">         &#123;   445 ,   254 &#125;,</span><br><span class="line">         &#123;   438 ,   220 &#125;,</span><br><span class="line">         &#123;   452 ,   191 &#125;,      </span><br><span class="line">       //  最上面区域 6个   </span><br><span class="line">       &#123;    0,256    &#125;,</span><br><span class="line">       &#123;  31  , 283   &#125;,</span><br><span class="line">       &#123;  66  ,  291  &#125;,</span><br><span class="line">       &#123;  149  ,  281  &#125;,</span><br><span class="line">       &#123;   120 ,   289 &#125;,</span><br><span class="line">       &#123;   94 ,   293 &#125;,</span><br><span class="line">          &#123;  105  ,  330  &#125;,</span><br><span class="line">          &#123;   108 ,  367  &#125;,</span><br><span class="line">          &#123;   118 ,   437 &#125;,</span><br><span class="line">          &#123;   111 ,   402 &#125;,</span><br><span class="line">          &#123;   55 ,   326 &#125;,</span><br><span class="line">          &#123;   69 ,   421 &#125;,</span><br><span class="line">          &#123;   67 ,   358 &#125;,</span><br><span class="line">          &#123;   177 ,  321  &#125;,</span><br><span class="line">          &#123;   181 ,  349  &#125;,</span><br><span class="line">          &#123;    188,   414 &#125;,</span><br><span class="line">          &#123;   195 ,   380 &#125;,</span><br><span class="line">          &#123;   207 ,   329 &#125;,</span><br><span class="line">          &#123;   212 ,   365 &#125;,</span><br><span class="line">          &#123;    212,   411 &#125;,</span><br><span class="line">          &#123;  232  ,   330 &#125;,</span><br><span class="line">          &#123;   236 ,   366 &#125;,</span><br><span class="line">          &#123;   236 ,   443 &#125;,</span><br><span class="line">          &#123;  236  ,   405 &#125;,</span><br><span class="line">          &#123;   608 ,   380 &#125;,</span><br><span class="line">          &#123;   592 ,   411 &#125;,</span><br><span class="line">          &#123;   611 ,   442 &#125;,</span><br><span class="line">          &#123;   328 ,   443 &#125;,</span><br><span class="line">          &#123;   371 ,   406 &#125;,</span><br><span class="line">          &#123;   376 ,   369 &#125;,</span><br><span class="line">          &#123;   379 ,   332 &#125;,</span><br><span class="line">          &#123;   337 ,   406 &#125;,</span><br><span class="line">          &#123;   337 ,   369 &#125;,</span><br><span class="line">          &#123;   346 ,   332 &#125;      </span><br><span class="line">    &#125;;</span><br><span class="line">    //棉花的20*35</span><br><span class="line">    int plantPositions2[][2] =</span><br><span class="line">    &#123; </span><br><span class="line">        //梯田那部分。12个	</span><br><span class="line">         &#123;  31  ,  89  &#125;,</span><br><span class="line">         &#123;   53 ,   85 &#125;,</span><br><span class="line">         &#123;   123 ,   111 &#125;,</span><br><span class="line">         &#123;   75 ,   182 &#125;,</span><br><span class="line">         &#123;   115 ,   193 &#125;,</span><br><span class="line">         &#123;  165  ,   198 &#125;,</span><br><span class="line">         &#123;   147 ,   136 &#125;,</span><br><span class="line">         &#123;   45 ,   117 &#125;,</span><br><span class="line">         &#123;   28 ,   145 &#125;,</span><br><span class="line">         &#123;   90 ,   123 &#125;,</span><br><span class="line">         &#123;  141  , 176   &#125;,</span><br><span class="line">        &#123;   502 ,  90  &#125;,</span><br><span class="line">        &#123;   502 ,   305 &#125;,</span><br><span class="line">        &#123;   502 ,   129 &#125;,</span><br><span class="line">        &#123;   502 ,   157 &#125;,</span><br><span class="line">        &#123;   502 ,   199 &#125;,</span><br><span class="line">        &#123;   502 ,   278 &#125;,</span><br><span class="line">        &#123;   530 ,   315 &#125;,</span><br><span class="line">        &#123;   605 ,   305 &#125;,</span><br><span class="line">        &#123;   582 ,   308 &#125;,</span><br><span class="line">        &#123;   556 ,   311 &#125;,</span><br><span class="line">        &#123;   521 ,   103 &#125;,</span><br><span class="line">        &#123;   585 ,   123 &#125;,</span><br><span class="line">        &#123;   605 ,   129 &#125;,</span><br><span class="line">       //中间   23</span><br><span class="line">          &#123;  283  ,   87 &#125;,</span><br><span class="line">          &#123;   304 ,   87 &#125;,</span><br><span class="line">          &#123;    284,   128 &#125;,</span><br><span class="line">          &#123;   271 ,   153 &#125;,</span><br><span class="line">          &#123;   306 ,   125 &#125;,</span><br><span class="line">          &#123;   316 ,   156 &#125;,</span><br><span class="line">          &#123;   259 ,   181 &#125;,</span><br><span class="line">          &#123;   249 ,    218&#125;,</span><br><span class="line">          &#123;    326,   194 &#125;,</span><br><span class="line">          &#123;   283 ,   181 &#125;,</span><br><span class="line">          &#123;  305  ,   188 &#125;,</span><br><span class="line">          &#123;   279 ,   222 &#125;,</span><br><span class="line">          &#123;   305 ,   227 &#125;,</span><br><span class="line">          &#123;   335 ,   228 &#125;,</span><br><span class="line">          &#123;   364 ,   271 &#125;,</span><br><span class="line">          &#123;    340,   284 &#125;,</span><br><span class="line">          &#123;    317,   290 &#125;,</span><br><span class="line">          &#123;   296 ,   293 &#125;,</span><br><span class="line">          &#123;   443 ,   155 &#125;,   </span><br><span class="line">          &#123;    416,   148 &#125;,</span><br><span class="line">          &#123;   427 ,    177&#125;,</span><br><span class="line">          &#123;   320 ,   252 &#125;,</span><br><span class="line">          &#123; 264   , 331   &#125;,</span><br><span class="line">          &#123;   265 ,  369  &#125;,</span><br><span class="line">          &#123;   264 ,   443 &#125;,</span><br><span class="line">          &#123;    264,   406 &#125;,</span><br><span class="line">          &#123;   286 ,   331 &#125;,</span><br><span class="line">          &#123;   287 ,   369 &#125;,</span><br><span class="line">          &#123;   286 ,   406 &#125;,</span><br><span class="line">          &#123;   285 ,   443 &#125;,</span><br><span class="line">          &#123;   314 ,   332 &#125;,</span><br><span class="line">          &#123;   309 ,   443 &#125;,</span><br><span class="line">          &#123;   310 ,   405 &#125;, </span><br><span class="line">          &#123;   308 ,   368 &#125;,</span><br><span class="line">          &#123;   583 ,   365 &#125;,</span><br><span class="line">          &#123;   517 ,   406 &#125;,</span><br><span class="line">          &#123;   493 ,   439 &#125;,</span><br><span class="line">          &#123;   517 ,   442 &#125;,</span><br><span class="line">          &#123;   574 ,   440 &#125;,</span><br><span class="line">          &#123;   547 ,   442 &#125;,</span><br><span class="line">          &#123;   538 ,   403 &#125;,</span><br><span class="line">          &#123;   565 ,   403 &#125;,</span><br><span class="line">          &#123;   550 ,   366 &#125;,</span><br><span class="line">          &#123;   360 ,   443 &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    //小麦占地.20*19  总共104个</span><br><span class="line">         int plantPositions3[][2] =</span><br><span class="line">    &#123;         </span><br><span class="line">     //最右上角一块</span><br><span class="line">             &#123;  607  , 166   &#125;,</span><br><span class="line">             &#123;   609 ,  189  &#125;,</span><br><span class="line">             &#123;   604 ,   210 &#125;,</span><br><span class="line">             &#123;   525 ,   144 &#125;,</span><br><span class="line">             &#123;   532 ,   167 &#125;,</span><br><span class="line">             &#123;   524 ,   189 &#125;,</span><br><span class="line">             &#123;   544 ,   189 &#125;,</span><br><span class="line">             &#123;   562 ,   189 &#125;,</span><br><span class="line">             &#123;   586 ,    183&#125;,</span><br><span class="line">             &#123;   556 ,   170 &#125;,</span><br><span class="line">             &#123;   526 ,   212 &#125;,</span><br><span class="line">             &#123;   548 ,   212 &#125;,</span><br><span class="line">             &#123;   569 ,   212 &#125;,</span><br><span class="line">             &#123;   584 ,   204 &#125;,</span><br><span class="line">             &#123;   534 ,   237 &#125;,</span><br><span class="line">             &#123;   559 ,   236 &#125;,</span><br><span class="line">             &#123;   532 ,   265 &#125;,</span><br><span class="line">             &#123;   527 ,  290  &#125;,</span><br><span class="line">             &#123;   555 ,   285 &#125;,</span><br><span class="line">             &#123;   579 ,   283 &#125;,</span><br><span class="line">             &#123;   553 ,   259 &#125;,</span><br><span class="line">             &#123;   576 ,   262 &#125;,</span><br><span class="line">             &#123;   581 ,   240 &#125;,      </span><br><span class="line">       //  中间    </span><br><span class="line">       &#123;  260  ,  104  &#125;,</span><br><span class="line">       &#123;   257 ,   128 &#125;,</span><br><span class="line">       &#123;   249 ,   153 &#125;,</span><br><span class="line">       &#123;   242 ,   178 &#125;,</span><br><span class="line">       &#123;  234  ,   202 &#125;,</span><br><span class="line">       &#123;   227 ,   226 &#125;,</span><br><span class="line">       &#123;   220 ,   250 &#125;,</span><br><span class="line">       &#123;   213 ,   274 &#125;,</span><br><span class="line">       &#123;   230 ,   275 &#125;,</span><br><span class="line">       &#123;   230 ,    299&#125;,</span><br><span class="line">       &#123;   327 ,   104 &#125;,</span><br><span class="line">       &#123;   330 ,   128 &#125;,</span><br><span class="line">       &#123;   336 ,   151 &#125;,</span><br><span class="line">       &#123;   344 ,   174 &#125;,</span><br><span class="line">       &#123;   351 ,   198 &#125;,</span><br><span class="line">       &#123;   357 ,   222 &#125;,</span><br><span class="line">       &#123;   364 ,   247 &#125;,</span><br><span class="line">        //第三块  8</span><br><span class="line">          &#123;   385 ,  106  &#125;,</span><br><span class="line">          &#123;   410 ,   108 &#125;,</span><br><span class="line">          &#123;   434 ,   108 &#125;,</span><br><span class="line">          &#123;   389 ,   133 &#125;,</span><br><span class="line">          &#123;   415 ,   134 &#125;,</span><br><span class="line">          &#123;   445 ,   135 &#125;,</span><br><span class="line">          &#123;    393,   161 &#125;,         </span><br><span class="line">       //   整个上区域  20</span><br><span class="line">         &#123;231    ,  107  &#125;,</span><br><span class="line">         &#123; 228   ,   130 &#125;,</span><br><span class="line">         &#123;  222  ,  152  &#125;,</span><br><span class="line">         &#123;   215 ,   173 &#125;,</span><br><span class="line">         &#123;   207 ,   197 &#125;,</span><br><span class="line">         &#123;  200  ,   223 &#125;,</span><br><span class="line">         &#123; 190   ,   249 &#125;,</span><br><span class="line">         &#123;  182  ,   271 &#125;,</span><br><span class="line">         &#123;  194  ,   288 &#125;,</span><br><span class="line">         &#123; 204   ,   108 &#125;,</span><br><span class="line">         &#123; 176   ,   108 &#125;,</span><br><span class="line">         &#123;  150  ,   107 &#125;,</span><br><span class="line">         &#123;   169 ,   132 &#125;,</span><br><span class="line">         &#123;   196 ,   132 &#125;,</span><br><span class="line">         &#123;   188 ,   154 &#125;,</span><br><span class="line">         &#123;   192 ,   176 &#125;,</span><br><span class="line">         &#123;   33 ,  261  &#125;,</span><br><span class="line">         &#123;   59 ,   272 &#125;,</span><br><span class="line">         &#123;   83 ,   275 &#125;,</span><br><span class="line">         &#123;   2 ,   235 &#125;,</span><br><span class="line">         //所有下方区域  32       </span><br><span class="line">        &#123; 131   ,  330  &#125;,</span><br><span class="line">        &#123;   133 ,   353 &#125;,</span><br><span class="line">        &#123;    137,   377 &#125;,</span><br><span class="line">        &#123;   142 ,   401 &#125;,</span><br><span class="line">        &#123;   146 ,   425 &#125;,</span><br><span class="line">        &#123;   146 ,   450 &#125;,</span><br><span class="line">        &#123;   157 ,   331 &#125;,</span><br><span class="line">        &#123;   159 ,   353 &#125;,</span><br><span class="line">        &#123;   162 ,   378 &#125;,</span><br><span class="line">        &#123;   167 ,   402 &#125;,</span><br><span class="line">        &#123;   170 ,    425&#125;,</span><br><span class="line">        &#123;   168 ,   455 &#125;,</span><br><span class="line">        &#123;   10 ,   342 &#125;,</span><br><span class="line">        &#123;  22  ,   365 &#125;,</span><br><span class="line">        &#123;   29 ,  392  &#125;,</span><br><span class="line">        &#123;   21 ,   437 &#125;,</span><br><span class="line">        &#123;   28 ,   415 &#125;,</span><br><span class="line">        &#123;   36 ,   337 &#125;,</span><br><span class="line">        &#123;   47 ,   361 &#125;,</span><br><span class="line">        &#123;   53 ,   387 &#125;,</span><br><span class="line">        &#123;   54 ,   411 &#125;,</span><br><span class="line">        &#123;   52 ,   434 &#125;,</span><br><span class="line">        &#123;   465 ,   378 &#125;,</span><br><span class="line">        &#123;   470 ,   406 &#125;,  </span><br><span class="line">        &#123;   469 ,  432  &#125;,</span><br><span class="line">        &#123;   469 ,   456 &#125;,</span><br><span class="line">        &#123;   443 ,   391 &#125;,</span><br><span class="line">        &#123;   445 ,   415 &#125;,</span><br><span class="line">        &#123;   443 ,   444 &#125;,</span><br><span class="line">        &#123;   420 ,   412&#125;,</span><br><span class="line">        &#123;   419 ,   447 &#125;,</span><br><span class="line">        &#123;  393 ,   455 &#125;,</span><br><span class="line">        &#123;  88    ,  341  &#125;,</span><br><span class="line">        &#123;90,384 &#125;,</span><br><span class="line">        &#123;72 ,399 &#125;,</span><br><span class="line">        &#123;93 ,413 &#125;,</span><br><span class="line">        &#123; 97,437 &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    for (i = 0; i &lt; sizeof(plantPositions1) / sizeof(plantPositions1[0]); i++)//画植物</span><br><span class="line">    &#123;</span><br><span class="line">        yumi(plantPositions1[i][0], plantPositions1[i][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (i = 0; i &lt; sizeof(plantPositions2) / sizeof(plantPositions2[0]); i++)//</span><br><span class="line">    &#123;</span><br><span class="line">        mianhua(plantPositions2[i][0], plantPositions2[i][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (i = 0; i &lt; sizeof(plantPositions3) / sizeof(plantPositions3[0]); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        xiaomaikuai(plantPositions3[i][0], plantPositions3[i][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    setxtzhiwu(plantPositions1, plantPositions2, plantPositions3);//记录植物的坐标</span><br><span class="line">&#125;</span><br><span class="line">//============================================================</span><br><span class="line">//小农田主界面</span><br><span class="line">int elsetian(int* a5)</span><br><span class="line">&#123;</span><br><span class="line">    srand(time(NULL));</span><br><span class="line">    if (*a5 == 1)//绘图</span><br><span class="line">    &#123;</span><br><span class="line">        cleardevice();</span><br><span class="line">        clrmous(MouseX, MouseY);</span><br><span class="line">        drawBackground();</span><br><span class="line">        //梯田</span><br><span class="line">        bmp_convert(&quot;5.bmp&quot;, &quot;5.dbm&quot;);</span><br><span class="line">        open_display();</span><br><span class="line">        show_dbm(0, 100, &quot;5.dbm&quot;, 0);//208*180</span><br><span class="line">        tian();//画农田。</span><br><span class="line">       bmp_convert(&quot;stone.bmp&quot;, &quot;stone.dbm&quot;);</span><br><span class="line">       open_display();</span><br><span class="line">        drawPlants();//画植物</span><br><span class="line">        drawdxg(250, 240);</span><br><span class="line">       show_dbm(194, 447, &quot;stone.dbm&quot;, 0);//石头</span><br><span class="line">       drawScarecrow(570, 61);//稻草人1</span><br><span class="line">       drawScarecrow(500, 325);//稻草人2</span><br><span class="line">        *a5 = 0;</span><br><span class="line">      &#125;</span><br><span class="line">    //=============</span><br><span class="line">    //恢复农田</span><br><span class="line">	if (*a5 == -1)</span><br><span class="line">    &#123;</span><br><span class="line">        cleardevice();</span><br><span class="line">        clrmous(MouseX, MouseY);</span><br><span class="line">        drawBackground();</span><br><span class="line">        bmp_convert(&quot;5.bmp&quot;, &quot;5.dbm&quot;);</span><br><span class="line">        open_display();</span><br><span class="line">        show_dbm(0, 100, &quot;5.dbm&quot;, 0);//208*180</span><br><span class="line">        tian();//画农田。</span><br><span class="line">        bmp_convert(&quot;stone.bmp&quot;, &quot;stone.dbm&quot;);</span><br><span class="line">        open_display();</span><br><span class="line">        drawPlants();//画植物      </span><br><span class="line">        drawdxg(250, 240);</span><br><span class="line">       show_dbm(194, 447, &quot;stone.dbm&quot;, 0);//石头</span><br><span class="line">        drawScarecrow(570, 61);//稻草人1</span><br><span class="line">        drawScarecrow(500, 325);//稻草人2</span><br><span class="line">        binghai();</span><br><span class="line">		*a5 = 2;</span><br><span class="line">    &#125;</span><br><span class="line">    showbiankuang(600, 0, 640, 40);</span><br><span class="line">    showbiankuang(0, 0, 80, 40);</span><br><span class="line">    showbiankuang(100, 5, 100 + 140, 50);</span><br><span class="line">    //界面的跳转</span><br><span class="line">    if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;//关闭BC。</span><br><span class="line">    &#125;</span><br><span class="line">    else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">    &#123;</span><br><span class="line">        *a5 = 1;</span><br><span class="line">        return 1;//返回前一个界面</span><br><span class="line">    &#125; </span><br><span class="line">    else if (mouse_press(100, 5, 240, 50) == 1)</span><br><span class="line">    &#123;</span><br><span class="line">        delay(100);    </span><br><span class="line">        clrmous(MouseX, MouseY);</span><br><span class="line">        grow();//无人机动画的实现</span><br><span class="line">        if (*a5 == 2 || *a5 == -1)</span><br><span class="line">        &#123;</span><br><span class="line">            delay(200);</span><br><span class="line">             cleardevice();</span><br><span class="line">             clrmous(MouseX, MouseY);</span><br><span class="line">            drawBackground();</span><br><span class="line">            bmp_convert(&quot;5.bmp&quot;, &quot;5.dbm&quot;);</span><br><span class="line">            open_display();</span><br><span class="line">            show_dbm(0, 100, &quot;5.dbm&quot;, 0);//208*180</span><br><span class="line">            tian();//画农田。</span><br><span class="line">            bmp_convert(&quot;stone.bmp&quot;, &quot;stone.dbm&quot;);</span><br><span class="line">            open_display();</span><br><span class="line">            drawPlants();//画植物      </span><br><span class="line">            drawdxg(250, 240);</span><br><span class="line">            show_dbm(194, 447, &quot;stone.dbm&quot;, 0);//石头</span><br><span class="line">            drawScarecrow(570, 61);//稻草人1</span><br><span class="line">            drawScarecrow(500, 325);//稻草人2</span><br><span class="line">        &#125;</span><br><span class="line">        showxtbaifen();</span><br><span class="line">        showxtnianchong();</span><br><span class="line">        showxtymmian();</span><br><span class="line">        showxtymnian();</span><br><span class="line">        showxtmhxiu();</span><br><span class="line">        showxtmhmian();       </span><br><span class="line">        *a5 = 2;</span><br><span class="line">    &#125;</span><br><span class="line">    if (*a5 == 2 || *a5 == -1)</span><br><span class="line">    &#123;</span><br><span class="line">        showbiankuang(100 + 140 + 30, 5, 100 + 140 + 30 + 140, 50);</span><br><span class="line">        showbiankuang(100 + 140 + 140 + 30 + 30, 5, 100 + 140 + 140 + 30 + 30 + 140, 50);</span><br><span class="line">        if (mouse_press(100 + 140 + 30, 5, 100 + 140 + 30 + 140, 50) == 1)</span><br><span class="line">        &#123;</span><br><span class="line">            *a5 = -1;</span><br><span class="line">            delay(100);</span><br><span class="line">            return 5;//结果查看部分</span><br><span class="line">        &#125;</span><br><span class="line">        else if (mouse_press(100 + 140 + 140 + 30 + 30, 5, 100 + 140 + 140 + 30 + 30 + 140, 50) == 1)</span><br><span class="line">        &#123;</span><br><span class="line">            *a5 = -1;</span><br><span class="line">            delay(100);</span><br><span class="line">            return 7;//准备喷洒部分</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 3;</span><br><span class="line">&#125;</span><br><span class="line">// 画稻草人</span><br><span class="line">void drawScarecrow(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">    setcolor(BROWN);</span><br><span class="line">	setfillstyle(SOLID_FILL, YELLOW);</span><br><span class="line">	fillellipse(x, y, 10, 10);</span><br><span class="line">	setfillstyle(SOLID_FILL, DARKGRAY);</span><br><span class="line">	fillellipse(x, y - 5, 15, 5);</span><br><span class="line">	setfillstyle(SOLID_FILL, BLACK);</span><br><span class="line">	fillellipse(x - 3, y + 2, 2, 2);</span><br><span class="line">	fillellipse(x + 3, y + 2, 2, 2);</span><br><span class="line">	setfillstyle(SOLID_FILL, YELLOW);</span><br><span class="line">	bar(x - 5, y + 10, x + 5, y + 60);</span><br><span class="line">	bar(x - 20, y + 10, x - 5, y + 15);</span><br><span class="line">	bar(x + 5, y + 10, x + 20, y + 15);</span><br><span class="line">    bar(x - 2, y + 60, x + 2, y + 80);</span><br><span class="line">&#125;</span><br><span class="line">void drawdxg(int x, int y)//电线杆</span><br><span class="line">&#123;</span><br><span class="line">    setcolor(LIGHTGRAY);</span><br><span class="line">    setfillstyle(SOLID_FILL, LIGHTGRAY);</span><br><span class="line">    bar(14 + x, y, 18 + x, 83 + y);</span><br><span class="line">    line(x + 0, y +26 , x +25 , y +18 );</span><br><span class="line">    line(x +25 , y +18 , x +25 , y +21 );</span><br><span class="line">    line(x + 25, y + 21, x +0 , y +29 );</span><br><span class="line">    line(x + 0, y +29 , x +0 , y +26 );</span><br><span class="line">    floodfill(x+8, y+25, LIGHTGRAY);</span><br><span class="line">    floodfill(x+21,y+ 20, LIGHTGRAY);</span><br><span class="line">    line(x + 3, y +6 , x + 27, y + 13);</span><br><span class="line">    line(x + 27, y +13 , x +27 , y +17 );</span><br><span class="line">    line(x + 27, y +17 , x +1 , y +9 );</span><br><span class="line">    line(x + 1, y +9 , x + 2, y + 6);</span><br><span class="line">    line(x + 2, y +6 , x + 3, y + 6);   </span><br><span class="line">    floodfill(x + 10, y + 9, LIGHTGRAY);</span><br><span class="line">    floodfill(x + 20, y + 13, LIGHTGRAY);</span><br><span class="line">&#125;</span><br><span class="line">// 画不规则形状的农田</span><br><span class="line">void tian(void)</span><br><span class="line">&#123;</span><br><span class="line">    int points1[] = &#123; 150,480,130,335, 285,480 - 130,405,335,400,430,500,370,640,405,640,480 &#125;;//最下面中间的</span><br><span class="line">    int points2[] = &#123; 400,280,500,360, 640,340,640,116,200,116,200,280 &#125;;//上面的</span><br><span class="line">    setcolor(BROWN);</span><br><span class="line">    setfillstyle(1, BROWN);</span><br><span class="line">    arc(-62, 420, 0, 360, 90);</span><br><span class="line">    arc(70, 560, 0, 360, 105);</span><br><span class="line">    line(140, 480, 125, 335);</span><br><span class="line">    line(125, 335, 0, 352);</span><br><span class="line">    floodfill(100, 420, BROWN);//左下角的</span><br><span class="line">    fillpoly(8, points1);//多边形绘制</span><br><span class="line">    fillpoly(6, points2);//多边形绘制</span><br><span class="line">    line(0, 280, 210, 280);</span><br><span class="line">    ellipse(100, 280, 180, 360, 100, 50);//椭圆</span><br><span class="line">    floodfill(100, 290, BROWN);</span><br><span class="line">    line(0 + 200, 280, 210 + 200 - 10, 280);</span><br><span class="line">    ellipse(100 + 200, 280, 180, 360, 100, 50);//椭圆</span><br><span class="line">    floodfill(100 + 200, 290, BROWN);</span><br><span class="line">    line(150, 280 + 20 + 10, 280, 300 + 10);</span><br><span class="line">    floodfill(200, 290, BROWN);</span><br><span class="line">    line(400, 280, 500, 360);</span><br><span class="line">    line(500, 360, 640, 340);</span><br><span class="line">    line(640, 340, 640, 116);</span><br><span class="line">    line(110, 116, 640, 116);</span><br><span class="line">    line(200, 116, 200, 280);</span><br><span class="line">    line(200, 280, 400, 280);</span><br><span class="line">    line(400, 280, 500, 360);</span><br><span class="line">    line(500, 360, 640, 340);</span><br><span class="line">    line(640, 340, 640, 116);</span><br><span class="line">    line(110, 116, 640, 116);</span><br><span class="line">    line(200, 116, 200, 280);</span><br><span class="line">    line(200, 280, 400, 280);</span><br><span class="line">    setfillstyle(1, BLUE);</span><br><span class="line">    floodfill(630, 350, BROWN);</span><br><span class="line">    floodfill(10, 400, BROWN);</span><br><span class="line">    floodfill(100, 470, BROWN);</span><br><span class="line">    setcolor(WHITE);</span><br><span class="line">    line(208, 280, 258, 116);</span><br><span class="line">    line(400, 280 + 1, 350, 116);</span><br><span class="line">    line(500, 360 - 1, 500, 116);</span><br><span class="line">    setfillstyle(1, GREEN);</span><br><span class="line">    setcolor(GREEN);</span><br><span class="line">    line(0, 98, 640, 98);//分割线</span><br><span class="line">    line(630, 116, 640, 116);</span><br><span class="line">    line(640, 116, 640, 340);</span><br><span class="line">    line(640, 340, 630, 342);</span><br><span class="line">    line(630, 342, 630, 116);</span><br><span class="line">    floodfill(632, 120, GREEN);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void binghai(void)//画病害</span><br><span class="line">&#123;</span><br><span class="line">    int row;</span><br><span class="line">    FILE* filePointer1;</span><br><span class="line">    FILE* filePointer2;</span><br><span class="line">    FILE* filePointer3;</span><br><span class="line">    FILE* filePointer4;</span><br><span class="line">    FILE* filePointer5;</span><br><span class="line">    FILE* filePointer6;</span><br><span class="line">    int a22[68 * 35][2] = &#123; 0 &#125;;</span><br><span class="line">    int a11[103 * 31][2] = &#123; 0 &#125;;</span><br><span class="line">    filePointer1 = fopen(&quot;data//xmbfdian.dat&quot;, &quot;r&quot;);</span><br><span class="line">    for (row = 0; row &lt; 103 * 31; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer1, &quot;%d %d&quot;, &amp;a11[row][0], &amp;a11[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer1);</span><br><span class="line">    for (row = 0; row &lt; 103 * 31; row++)//</span><br><span class="line">    &#123;</span><br><span class="line">        setcolor(WHITE);</span><br><span class="line">        putpixel(a11[row][0], a11[row][1], WHITE);</span><br><span class="line">    &#125;</span><br><span class="line">    for (row = 0; row &lt; 103 * 31; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        a11[row][0] = 0;</span><br><span class="line">        a11[row][1] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    filePointer2 = fopen(&quot;data//xmncdian.dat&quot;, &quot;r&quot;);</span><br><span class="line">    for (row = 0; row &lt; 103 * 31; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer2, &quot;%d %d&quot;, &amp;a11[row][0], &amp;a11[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (row = 0; row &lt; 103 * 31; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        setcolor(YELLOW);</span><br><span class="line">        putpixel(a11[row][0], a11[row][1], YELLOW);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer2);</span><br><span class="line">    filePointer3 = fopen(&quot;data//ymncdian.dat&quot;, &quot;r&quot;);</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer3, &quot;%d %d&quot;, &amp;a22[row][0], &amp;a22[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        setcolor(YELLOW);</span><br><span class="line">        putpixel(a22[row][0], a22[row][1], YELLOW);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer3);</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        a22[row][0] = 0;</span><br><span class="line">        a22[row][1] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    filePointer4 = fopen(&quot;data//ymmldian.dat&quot;, &quot;r&quot;);</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer4, &quot;%d %d&quot;, &amp;a22[row][0], &amp;a22[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        setcolor(BLUE);</span><br><span class="line">        putpixel(a22[row][0], a22[row][1], BLUE);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer4);</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        a22[row][0] = 0;</span><br><span class="line">        a22[row][1] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    filePointer5 = fopen(&quot;data//mhmldian.dat&quot;, &quot;r&quot;);</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer5, &quot;%d %d&quot;, &amp;a22[row][0], &amp;a22[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        setcolor(BLUE);</span><br><span class="line">        putpixel(a22[row][0], a22[row][1], BLUE);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer5);</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        a22[row][0] = 0;</span><br><span class="line">        a22[row][1] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    filePointer6 = fopen(&quot;data//mhxbdian.dat&quot;, &quot;r&quot;);</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        fscanf(filePointer6, &quot;%d %d&quot;, &amp;a22[row][0], &amp;a22[row][1]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (row = 0; row &lt; 68 * 35; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        setcolor(LIGHTRED);</span><br><span class="line">        putpixel(a22[row][0], a22[row][1], LIGHTRED);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(filePointer6);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>类似大农田，实现的功能类似。加了个显示高度的功能。好累啊，自己看吧</strong></p>
<h3 id="outcome-h"><a href="#outcome-h" class="headerlink" title="outcome.h"></a>outcome.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _OUTCOME_H_</span><br><span class="line">#define _OUTCOME_H_</span><br><span class="line">//=大农田的 结果查看</span><br><span class="line">int outcome(int* a3);//核心</span><br><span class="line">void draw111(void);//普通绘图</span><br><span class="line">void xiaomaioutcome(void);//小麦结果</span><br><span class="line">void yumioutcome(void);//玉米结果</span><br><span class="line">//=====================================</span><br><span class="line">int elseoutcome(int* a3);</span><br><span class="line">void draw222(void);</span><br><span class="line">void elseyumioutcome(void);</span><br><span class="line">void elsexiaomaioutcome(void);</span><br><span class="line">void elsemianhuaoutcome(void);</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="outcome-c"><a href="#outcome-c" class="headerlink" title="outcome.c"></a>outcome.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br></pre></td><td class="code"><pre><span class="line">#include&quot;common.h&quot;</span><br><span class="line">/*=========================</span><br><span class="line">大农田小麦结果查看</span><br><span class="line">===========================*/</span><br><span class="line">void xiaomaioutcome(void)</span><br><span class="line">&#123;</span><br><span class="line">	int y2, y3, y4;</span><br><span class="line">	int i;</span><br><span class="line">	double yt;</span><br><span class="line">	char string[20];</span><br><span class="line">	yt = 0;</span><br><span class="line">	y2 = 0;</span><br><span class="line">	y3 = 0;</span><br><span class="line">	y4 = 0;</span><br><span class="line">	draw111();</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	line(64, 419, 563, 419);</span><br><span class="line">	line(556-5, 406, 563, 419);</span><br><span class="line">	line(563, 419, 556-5, 432);</span><br><span class="line">	line(64, 419, 64, 76);</span><br><span class="line">	line(64, 76, 53, 88);</span><br><span class="line">	line(64, 76, 72, 88);</span><br><span class="line">	puthz(200, 50, &quot;小麦生长状况柱形图&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(400, 50, &quot;总体：&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(70, 80, &quot;占总小麦面积比例&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(200, 50, &quot;小麦生长状况柱形图&quot;, 16, 15, GREEN);</span><br><span class="line">	line(63, 119, 65, 119);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	outtextxy(15, 110, &quot;100%&quot;);</span><br><span class="line">	line(63, 419-150, 65, 419 - 150);</span><br><span class="line">	outtextxy(15, 419 - 150-9, &quot;50%&quot;);</span><br><span class="line">	line(63, 419-75, 65, 419 - 75);</span><br><span class="line">	outtextxy(15, 419 - 75-9, &quot;25%&quot;);</span><br><span class="line">	line(63, 419 - 225, 65, 419 - 225);</span><br><span class="line">	outtextxy(15, 419 - 225-9, &quot;75%&quot;);</span><br><span class="line">	line(84, 418, 84, 420);</span><br><span class="line">	line(84+70, 418, 84+70, 420);</span><br><span class="line">	puthz(84+20, 430, &quot;健康&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84+70+30, 418, 84+70+30, 420);</span><br><span class="line">	line(84 + 70 + 30+70, 418,84 + 70 + 30+70, 420);</span><br><span class="line">	puthz(84+70+30+5, 430, &quot;患白粉病&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70+30, 418, 84 + 70 + 30 + 70+30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30+70, 418, 84 + 70 + 30 + 70+70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30+5, 430, &quot;感染黏虫&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70+30, 418, 84 + 70 + 30 + 70 +30+ 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70+70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 +70+ 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 70 + 30, 430, &quot;两种均感染&quot;, 16, 15, GREEN);</span><br><span class="line">	for (i = 0; i &lt; 192; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if (bai.bfzuobiao[i][0] == 0 &amp;&amp; bai.bfzuobiao[i][1] == 0&amp;&amp; nian.bfzuobiao[i][0] == 0 &amp;&amp; nian.bfzuobiao[i][1]==0)</span><br><span class="line">		&#123;</span><br><span class="line">			yt+=1;</span><br><span class="line">		&#125;</span><br><span class="line">		if (bai.bfzuobiao[i][0] != 0 &amp;&amp; bai.bfzuobiao[i][1] != 0)</span><br><span class="line">		&#123;</span><br><span class="line">			y2++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nian.bfzuobiao[i][0] != 0 &amp;&amp; nian.bfzuobiao[i][1] != 0)</span><br><span class="line">		&#123;</span><br><span class="line">			 y3++;</span><br><span class="line">		&#125;</span><br><span class="line">		if(bai.bfzuobiao[i][0] != 0 &amp;&amp; bai.bfzuobiao[i][1] != 0&amp;&amp; nian.bfzuobiao[i][0] != 0 &amp;&amp; nian.bfzuobiao[i][1] != 0)</span><br><span class="line">		&#123;</span><br><span class="line">			 y4++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	bar(84, 419 - (yt * 300) / 192, 84 + 70, 419);</span><br><span class="line">	sprintf(string, &quot;%.lf/192&quot;, yt);</span><br><span class="line">	outtextxy(84, 419 - (yt * 300) / 192-20, string);</span><br><span class="line">	bar(84 + 100 + 70,419 - (y2 * 300) / 192, 84 + 100, 419 );</span><br><span class="line">	sprintf(string, &quot;%d/192&quot;, y2);</span><br><span class="line">	outtextxy(84 + 100 , 419 - (y2 * 300) / 192-20, string);</span><br><span class="line">	bar( 84 + 270, 419 - (y3 * 300) / 192, 84 + 200, 419);</span><br><span class="line">	sprintf(string, &quot;%d/192&quot;, y3);</span><br><span class="line">	outtextxy(84 + 200, 419 - (y3 * 300) / 192-20, string);</span><br><span class="line">	bar(84 +370, 419 - (y4 * 300) / 192,84 + 300, 419 );</span><br><span class="line">	sprintf(string, &quot;%d/192&quot;, y4);</span><br><span class="line">	outtextxy(84 + 300, 419 - (y4 * 300) / 192-20, string);</span><br><span class="line">	if (yt &gt;= 192 - 8)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;健康&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 192 - 15)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;正常&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 192 - 25)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;病虫预防&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 192 - 35)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;急需喷洒&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 192 - 60)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;严重病害&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;重大病害&quot;, 16, 15, GREEN);//		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">大农田结果查看</span><br><span class="line">===========================*/</span><br><span class="line">int outcome(int* a3)</span><br><span class="line">&#123;</span><br><span class="line">	if (*a3 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		cleardevice();</span><br><span class="line">		draw111();</span><br><span class="line">		*a3 = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	showbiankuang(600, 0, 640, 40);</span><br><span class="line">	showbiankuang(0, 0, 80, 40);</span><br><span class="line">	showbiankuang(311 - 25, 3, 421, 37);</span><br><span class="line">	showbiankuang(442, 3, 546 + 25, 37);</span><br><span class="line">	//界面的跳转</span><br><span class="line">	if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		return -1;//关闭BC。</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		*a3 = 1;</span><br><span class="line">		delay(100);</span><br><span class="line">		return 2;//返回前一个界面</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(311 - 25, 3, 421, 35) == 1&amp;&amp;( *a3==0 || *a3== 3))</span><br><span class="line">	&#123;</span><br><span class="line">		*a3 = 2;</span><br><span class="line">		cleardevice();</span><br><span class="line">		delay(100);</span><br><span class="line">		xiaomaioutcome();</span><br><span class="line">		//小麦的</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(442, 3, 546 + 25, 35) == 1 &amp;&amp; (*a3 == 0 || *a3 == 2))</span><br><span class="line">	&#123;</span><br><span class="line">		*a3 = 3;</span><br><span class="line">		cleardevice();</span><br><span class="line">		delay(100);</span><br><span class="line">		yumioutcome();</span><br><span class="line">		//玉米的</span><br><span class="line">	&#125;</span><br><span class="line">	return 6;</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">小农田结果查看</span><br><span class="line">===========================*/</span><br><span class="line">int elseoutcome(int* a3)</span><br><span class="line">&#123;</span><br><span class="line">	if (*a3 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		cleardevice();</span><br><span class="line">		draw222();</span><br><span class="line">		*a3 = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	showbiankuang(600, 0, 640, 40);</span><br><span class="line">	showbiankuang(0, 0, 80, 40);</span><br><span class="line">	showbiankuang(197, 3, 325, 37);</span><br><span class="line">	showbiankuang(329, 3, 455, 37);</span><br><span class="line">	showbiankuang(461, 3, 586, 37);</span><br><span class="line">	//界面的跳转</span><br><span class="line">	if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		return -1;//关闭BC。</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		*a3 = 1;</span><br><span class="line">		delay(100);</span><br><span class="line">		return 3;//返回前一个界面</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(197, 3, 325, 37) == 1 &amp;&amp; (*a3 == 0 || *a3 == 3 || *a3 == 4))</span><br><span class="line">	&#123;</span><br><span class="line">		*a3 = 2;</span><br><span class="line">		cleardevice();</span><br><span class="line">		delay(100);</span><br><span class="line">		elsexiaomaioutcome();</span><br><span class="line">		//小麦的</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(329, 3, 455, 37) == 1 &amp;&amp; (*a3 == 0 || *a3 == 2 || *a3 == 4))</span><br><span class="line">	&#123;</span><br><span class="line">		*a3 = 3;</span><br><span class="line">		cleardevice();</span><br><span class="line">		delay(100);</span><br><span class="line">		elseyumioutcome();</span><br><span class="line">		//玉米的</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(461, 3, 586, 37) == 1 &amp;&amp; (*a3 == 0 || *a3 == 2 || *a3 == 3))</span><br><span class="line">	&#123;</span><br><span class="line">		*a3 = 4;</span><br><span class="line">		cleardevice();</span><br><span class="line">		delay(100);</span><br><span class="line">		elsemianhuaoutcome();</span><br><span class="line">		//棉花的</span><br><span class="line">	&#125;</span><br><span class="line">	return 5;</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">小农田小麦结果查看</span><br><span class="line">===========================*/</span><br><span class="line">void elsexiaomaioutcome(void)</span><br><span class="line">&#123;</span><br><span class="line">	int y2, y3, y4;</span><br><span class="line">	int i, j;</span><br><span class="line">	double yt;</span><br><span class="line">	char string[20];</span><br><span class="line">	int baifen[103][2];</span><br><span class="line">	int nianchong[103][2] ;</span><br><span class="line">	FILE* filePointer11;</span><br><span class="line">	FILE* filePointer12;</span><br><span class="line">	filePointer11 = fopen(&quot;data//xtxmbai.dat&quot;, &quot;r&quot;); // 以读取模式打开文件</span><br><span class="line">	filePointer12 = fopen(&quot;data//xtxmnian.dat&quot;, &quot;r&quot;); // 以读取模式打开文件</span><br><span class="line">	yt = 0;</span><br><span class="line">	y2 = 0;</span><br><span class="line">	y3 = 0;</span><br><span class="line">	y4 = 0;</span><br><span class="line">	draw222();</span><br><span class="line">	//坐标轴绘制</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	line(64, 419, 563, 419);</span><br><span class="line">	line(556 - 5, 406, 563, 419);</span><br><span class="line">	line(563, 419, 556 - 5, 432);</span><br><span class="line">	line(64, 419, 64, 76);</span><br><span class="line">	line(64, 76, 53, 88);</span><br><span class="line">	line(64, 76, 72, 88);</span><br><span class="line">	puthz(200, 50, &quot;小麦生长状况柱形图&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(400, 50, &quot;总体：&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(70, 80, &quot;占总小麦面积比例&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(200, 50, &quot;小麦生长状况柱形图&quot;, 16, 15, GREEN);</span><br><span class="line">	line(63, 119, 65, 119);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	outtextxy(15, 110, &quot;100%&quot;);</span><br><span class="line">	line(63, 419 - 150, 65, 419 - 150);</span><br><span class="line">	outtextxy(15, 419 - 150 - 9, &quot;50%&quot;);</span><br><span class="line">	line(63, 419 - 75, 65, 419 - 75);</span><br><span class="line">	outtextxy(15, 419 - 75 - 9, &quot;25%&quot;);</span><br><span class="line">	line(63, 419 - 225, 65, 419 - 225);</span><br><span class="line">	outtextxy(15, 419 - 225 - 9, &quot;75%&quot;);</span><br><span class="line">	line(84, 418, 84, 420);</span><br><span class="line">	line(84 + 70, 418, 84 + 70, 420);</span><br><span class="line">	puthz(84 + 20, 430, &quot;健康&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30, 418, 84 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 5, 430, &quot;患白粉病&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 5, 430, &quot;感染黏虫&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 70 + 30, 430, &quot;两种均感染&quot;, 16, 15, GREEN);</span><br><span class="line">	//统计植物病虫害情况。</span><br><span class="line">	for (i = 0; i &lt; 103; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		int a, b;</span><br><span class="line">		a=fscanf(filePointer11, &quot;%d %d&quot;, &amp;baifen[i][0], &amp;baifen[i][1]) ;</span><br><span class="line">		b=fscanf(filePointer12, &quot;%d %d&quot;, &amp;nianchong[i][0], &amp;nianchong[i][1]) ;</span><br><span class="line">		if (a==2)</span><br><span class="line">		&#123;</span><br><span class="line">			y2++;</span><br><span class="line">		&#125;</span><br><span class="line">		if ( b== 2)</span><br><span class="line">		&#123;</span><br><span class="line">			y3++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for (i = 0; i &lt;y2; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for (j = 0; j &lt; y3; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (baifen[i][0] == nianchong[j][0] &amp;&amp; baifen[i][1] == nianchong[j][1])</span><br><span class="line">			&#123;</span><br><span class="line">				y4++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	yt = 103 - y2 - y3 + y4;</span><br><span class="line">	fclose(filePointer11);</span><br><span class="line">	fclose(filePointer12);</span><br><span class="line">	//坐标轴。柱形图</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	bar(84, 419 - (yt * 300) / 103, 84 + 70, 419);</span><br><span class="line">	sprintf(string, &quot;%.lf/103&quot;, yt);</span><br><span class="line">	outtextxy(84, 419 - (yt * 300) / 103 - 20, string);</span><br><span class="line">	bar(84 + 100 + 70, 419 - (y2 * 300) / 103, 84 + 100, 419);</span><br><span class="line">	sprintf(string, &quot;%d/103&quot;, y2);</span><br><span class="line">	outtextxy(84 + 100, 419 - (y2 * 300) / 103 - 20, string);</span><br><span class="line">	bar(84 + 270, 419 - (y3 * 300) / 103, 84 + 200, 419);</span><br><span class="line">	sprintf(string, &quot;%d/103&quot;, y3);</span><br><span class="line">	outtextxy(84 + 200, 419 - (y3 * 300) / 103 - 20, string);</span><br><span class="line">	bar(84 + 370, 419 - (y4 * 300) / 103, 84 + 300, 419);</span><br><span class="line">	sprintf(string, &quot;%d/103&quot;, y4);</span><br><span class="line">	outtextxy(84 + 300, 419 - (y4 * 300) / 103 - 20, string);</span><br><span class="line">	//显示总体评价</span><br><span class="line">	if (yt &gt;= 103 - 7)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;健康&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 103 - 13)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;正常&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 103 - 20)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;病虫预防&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 103 - 30)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;急需喷洒&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 103 - 50)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;严重病害&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;重大病害&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">小农田玉米结果查看</span><br><span class="line">===========================*/</span><br><span class="line">void elseyumioutcome(void) </span><br><span class="line">&#123;</span><br><span class="line">	int y2, y3, y4;</span><br><span class="line">	int i, j;</span><br><span class="line">	double yt;</span><br><span class="line">	char string[20];</span><br><span class="line">	int baifen[103][2];</span><br><span class="line">	int nianchong[103][2];</span><br><span class="line">	FILE* filePointer11;</span><br><span class="line">	FILE* filePointer12;</span><br><span class="line">	filePointer11 = fopen(&quot;data//xtymnian.dat&quot;, &quot;r&quot;); // 以读取模式打开文件</span><br><span class="line">	filePointer12 = fopen(&quot;data//xtymmian.dat&quot;, &quot;r&quot;); </span><br><span class="line">	yt = 0;</span><br><span class="line">	y2 = 0;</span><br><span class="line">	y3 = 0;</span><br><span class="line">	y4 = 0;</span><br><span class="line">	draw222();</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	line(64, 419, 563, 419);</span><br><span class="line">	line(556 - 5, 406, 563, 419);</span><br><span class="line">	line(563, 419, 556 - 5, 432);</span><br><span class="line">	line(64, 419, 64, 76);</span><br><span class="line">	line(64, 76, 53, 88);</span><br><span class="line">	line(64, 76, 72, 88);</span><br><span class="line">	puthz(200, 50, &quot;玉米生长状况柱形图&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(400, 50, &quot;总体：&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(70, 80, &quot;占总玉米株数比例&quot;, 16, 15, GREEN);</span><br><span class="line">	line(63, 119, 65, 119);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	outtextxy(15, 110, &quot;100%&quot;);</span><br><span class="line">	line(63, 419 - 150, 65, 419 - 150);</span><br><span class="line">	outtextxy(15, 419 - 150 - 9, &quot;50%&quot;);</span><br><span class="line">	line(63, 419 - 75, 65, 419 - 75);</span><br><span class="line">	outtextxy(15, 419 - 75 - 9, &quot;25%&quot;);</span><br><span class="line">	line(63, 419 - 225, 65, 419 - 225);</span><br><span class="line">	outtextxy(15, 419 - 225 - 9, &quot;75%&quot;);</span><br><span class="line">	line(84, 418, 84, 420);</span><br><span class="line">	line(84 + 70, 418, 84 + 70, 420);</span><br><span class="line">	puthz(84 + 20, 430, &quot;健康&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30, 418, 84 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 5, 430, &quot;感染黏虫&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 5, 430, &quot;感染棉铃虫&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 70 + 30, 430, &quot;两种均感染&quot;, 16, 15, GREEN);</span><br><span class="line">	for (i = 0; i &lt; 68; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		int a, b;</span><br><span class="line">		a = fscanf(filePointer11, &quot;%d %d&quot;, &amp;baifen[i][0], &amp;baifen[i][1]);</span><br><span class="line">		b = fscanf(filePointer12, &quot;%d %d&quot;, &amp;nianchong[i][0], &amp;nianchong[i][1]);</span><br><span class="line">		if (a == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			y2++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (b == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			y3++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for (i = 0; i &lt; y2; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for (j = 0; j &lt; y3; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (baifen[i][0] == nianchong[j][0] &amp;&amp; baifen[i][1] == nianchong[j][1])</span><br><span class="line">			&#123;</span><br><span class="line">				y4++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	yt = 68 - y2 - y3 + y4;</span><br><span class="line">	fclose(filePointer11);</span><br><span class="line">	fclose(filePointer12);</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	bar(84, 419 - (yt * 300) / 68, 84 + 70, 419);</span><br><span class="line">	sprintf(string, &quot;%.lf/68&quot;, yt);</span><br><span class="line">	outtextxy(84, 419 - (yt * 300) / 68 - 20, string);</span><br><span class="line">	bar(84 + 100 + 70, 419 - (y2 * 300) / 68, 84 + 100, 419);</span><br><span class="line">	sprintf(string, &quot;%d/68&quot;, y2);</span><br><span class="line">	outtextxy(84 + 100, 419 - (y2 * 300) / 68 - 20, string);</span><br><span class="line">	bar(84 + 270, 419 - (y3 * 300) / 103, 84 + 200, 419);</span><br><span class="line">	sprintf(string, &quot;%d/68&quot;, y3);</span><br><span class="line">	outtextxy(84 + 200, 419 - (y3 * 300) / 68 - 20, string);</span><br><span class="line">	bar(84 + 370, 419 - (y4 * 300) / 103, 84 + 300, 419);</span><br><span class="line">	sprintf(string, &quot;%d/68&quot;, y4);</span><br><span class="line">	outtextxy(84 + 300, 419 - (y4 * 300) / 68 - 20, string);</span><br><span class="line">	if (yt &gt;= 68 -5)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;健康&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68 - 10)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;正常&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68 - 14)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;病虫预防&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68 - 20)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;急需喷洒&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68 - 40)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;严重病害&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;重大病害&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">小农田棉花结果查看</span><br><span class="line">===========================*/</span><br><span class="line">void elsemianhuaoutcome(void)</span><br><span class="line">&#123;</span><br><span class="line">	int y2, y3, y4;</span><br><span class="line">	int i, j;</span><br><span class="line">	double yt;</span><br><span class="line">	char string[20];</span><br><span class="line">	int baifen[103][2];</span><br><span class="line">	int nianchong[103][2];</span><br><span class="line">	FILE* filePointer11;</span><br><span class="line">	FILE* filePointer12;</span><br><span class="line">	filePointer11 = fopen(&quot;data//xtmhmian.dat&quot;, &quot;r&quot;); </span><br><span class="line">	filePointer12 = fopen(&quot;data//xtmhxiu.dat&quot;, &quot;r&quot;); </span><br><span class="line">	yt = 0;</span><br><span class="line">	y2 = 0;</span><br><span class="line">	y3 = 0;</span><br><span class="line">	y4 = 0;</span><br><span class="line">	draw222();</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	line(64, 419, 563, 419);</span><br><span class="line">	line(556 - 5, 406, 563, 419);</span><br><span class="line">	line(563, 419, 556 - 5, 432);</span><br><span class="line">	line(64, 419, 64, 76);</span><br><span class="line">	line(64, 76, 53, 88);</span><br><span class="line">	line(64, 76, 72, 88);</span><br><span class="line">	puthz(200, 50, &quot;棉花生长状况柱形图&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(400, 50, &quot;总体：&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(70, 80, &quot;占总棉花株数比例&quot;, 16, 15, GREEN);</span><br><span class="line">	line(63, 119, 65, 119);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	outtextxy(15, 110, &quot;100%&quot;);</span><br><span class="line">	line(63, 419 - 150, 65, 419 - 150);</span><br><span class="line">	outtextxy(15, 419 - 150 - 9, &quot;50%&quot;);</span><br><span class="line">	line(63, 419 - 75, 65, 419 - 75);</span><br><span class="line">	outtextxy(15, 419 - 75 - 9, &quot;25%&quot;);</span><br><span class="line">	line(63, 419 - 225, 65, 419 - 225);</span><br><span class="line">	outtextxy(15, 419 - 225 - 9, &quot;75%&quot;);</span><br><span class="line">	line(84, 418, 84, 420);</span><br><span class="line">	line(84 + 70, 418, 84 + 70, 420);</span><br><span class="line">	puthz(84 + 20, 430, &quot;健康&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30, 418, 84 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 5, 430, &quot;感染棉铃虫&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 5, 430, &quot;患上锈病&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 70 + 30, 430, &quot;两种均感染&quot;, 16, 15, GREEN);</span><br><span class="line">	for (i = 0; i &lt; 68; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		int a, b;</span><br><span class="line">		a = fscanf(filePointer11, &quot;%d %d&quot;, &amp;baifen[i][0], &amp;baifen[i][1]);</span><br><span class="line">		b = fscanf(filePointer12, &quot;%d %d&quot;, &amp;nianchong[i][0], &amp;nianchong[i][1]);</span><br><span class="line">		if (a == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			y2++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (b == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			y3++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for (i = 0; i &lt; y2; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for (j = 0; j &lt; y3; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (baifen[i][0] == nianchong[j][0] &amp;&amp; baifen[i][1] == nianchong[j][1])</span><br><span class="line">			&#123;</span><br><span class="line">				y4++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	yt = 68 - y2 - y3 + y4;</span><br><span class="line">	fclose(filePointer11);</span><br><span class="line">	fclose(filePointer12);</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	bar(84, 419 - (yt * 300) / 68, 84 + 70, 419);</span><br><span class="line">	sprintf(string, &quot;%.lf/68&quot;, yt);</span><br><span class="line">	outtextxy(84, 419 - (yt * 300) / 68 - 20, string);</span><br><span class="line">	bar(84 + 100 + 70, 419 - (y2 * 300) / 68, 84 + 100, 419);</span><br><span class="line">	sprintf(string, &quot;%d/68&quot;, y2);</span><br><span class="line">	outtextxy(84 + 100, 419 - (y2 * 300) / 68 - 20, string);</span><br><span class="line">	bar(84 + 270, 419 - (y3 * 300) / 103, 84 + 200, 419);</span><br><span class="line">	sprintf(string, &quot;%d/68&quot;, y3);</span><br><span class="line">	outtextxy(84 + 200, 419 - (y3 * 300) / 68 - 20, string);</span><br><span class="line">	bar(84 + 370, 419 - (y4 * 300) / 103, 84 + 300, 419);</span><br><span class="line">	sprintf(string, &quot;%d/68&quot;, y4);</span><br><span class="line">	outtextxy(84 + 300, 419 - (y4 * 300) / 68 - 20, string);</span><br><span class="line">	if (yt &gt;= 68 - 5)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;健康&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68 - 9)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;正常&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68- 15)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;病虫预防&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68 - 25)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;急需喷洒&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else if (yt &gt;= 68 - 34)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;严重病害&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;重大病害&quot;, 16, 15, GREEN);//</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">绘制大农田普适背景</span><br><span class="line">===========================*/</span><br><span class="line">void draw111(void)</span><br><span class="line">&#123;</span><br><span class="line">	setbkcolor(WHITE);</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	setfillstyle(1, GREEN);</span><br><span class="line">	rectangle(600, 0, 640, 40);</span><br><span class="line">	line(600, 0, 640, 40);</span><br><span class="line">	line(640, 0, 600, 40);//关闭按钮</span><br><span class="line">	rectangle(0, 0, 80, 40);</span><br><span class="line">	puthz(5, 5, &quot;返回&quot;, 32, 40, GREEN);</span><br><span class="line">	line(0, 40, 640, 40);</span><br><span class="line">	setfillstyle(1, WHITE);</span><br><span class="line">	bar(90, 1, 140, 22);</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	puthz(90 + 2, 1 + 2, &quot;白粉病&quot;, 16, 15, GREEN);</span><br><span class="line">	setfillstyle(1, BLUE);</span><br><span class="line">	bar(145, 1, 195, 22);</span><br><span class="line">	puthz(145 + 2, 1 + 2, &quot;棉铃虫&quot;, 16, 15, GREEN);</span><br><span class="line">	setfillstyle(1, YELLOW);</span><br><span class="line">	bar(200, 1, 250, 22);</span><br><span class="line">	puthz(200 + 2, 1 + 2, &quot;黏虫病&quot;, 16, 15, GREEN);</span><br><span class="line">	setfillstyle(1, GREEN);</span><br><span class="line">	bar(311 - 25, 3, 421, 37);</span><br><span class="line">	bar(442, 3, 546 + 25, 37);</span><br><span class="line">	puthz(311 - 25 + 2, 3, &quot;小麦情况&quot;, 32, 30, WHITE);</span><br><span class="line">	puthz(442 + 2, 3, &quot;玉米情况&quot;, 32, 30, WHITE);</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">绘制小农田普适背景</span><br><span class="line">===========================*/</span><br><span class="line">void draw222(void)</span><br><span class="line">&#123;</span><br><span class="line">	setbkcolor(WHITE);</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	setfillstyle(1, GREEN);</span><br><span class="line">	rectangle(600, 0, 640, 40);</span><br><span class="line">	line(600, 0, 640, 40);</span><br><span class="line">	line(640, 0, 600, 40);//关闭按钮</span><br><span class="line">	rectangle(0, 0, 80, 40);</span><br><span class="line">	puthz(5, 5, &quot;返回&quot;, 32, 40, GREEN);</span><br><span class="line">	line(0, 40, 640, 40);</span><br><span class="line">	setfillstyle(1, WHITE);</span><br><span class="line">	bar(90, 0, 140, 19);</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	puthz(90 + 2, 0 + 2, &quot;白粉病&quot;, 16, 15, GREEN);</span><br><span class="line">	setfillstyle(1, BLUE);</span><br><span class="line">	bar(145, 0, 195, 19);</span><br><span class="line">	puthz(145 + 2, 0 + 2, &quot;棉铃虫&quot;, 16, 15, GREEN);</span><br><span class="line">	setfillstyle(1, YELLOW);</span><br><span class="line">	bar(90, 19, 140, 38);</span><br><span class="line">	puthz(90 + 2, 19 + 2, &quot;黏虫病&quot;, 16, 15, GREEN);</span><br><span class="line">	setfillstyle(1, LIGHTRED);</span><br><span class="line">	bar(145, 19, 195, 38);</span><br><span class="line">	puthz(145 + 2, 19 + 2, &quot;锈病&quot;, 16, 15, GREEN);</span><br><span class="line">	setfillstyle(1, GREEN);</span><br><span class="line">	bar(197, 3, 325, 37);</span><br><span class="line">	bar(329, 3, 455, 37);</span><br><span class="line">	bar(461, 3, 586, 37);</span><br><span class="line">	puthz(197 + 2, 3, &quot;小麦情况&quot;, 32, 30, WHITE);</span><br><span class="line">	puthz(329 + 2, 3, &quot;玉米情况&quot;, 32, 30, WHITE);</span><br><span class="line">	puthz(461 + 2, 3, &quot;棉花情况&quot;, 32, 30, WHITE);</span><br><span class="line">&#125;</span><br><span class="line">/*=========================</span><br><span class="line">大农田玉米结果查看</span><br><span class="line">===========================*/</span><br><span class="line">void yumioutcome(void)</span><br><span class="line">&#123;</span><br><span class="line">	int y2, y3, y4;</span><br><span class="line">	int i;</span><br><span class="line">	double y1;</span><br><span class="line">	char string[20];</span><br><span class="line">	int j;</span><br><span class="line">	y1 = 0;</span><br><span class="line">	y2 = 0;</span><br><span class="line">	y3 = 0;</span><br><span class="line">	y4 = 0;</span><br><span class="line">	draw111();</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	line(64, 419, 563, 419);</span><br><span class="line">	line(556 - 5, 406, 563, 419);</span><br><span class="line">	line(563, 419, 556 - 5, 432);</span><br><span class="line">	line(64, 419, 64, 76);</span><br><span class="line">	line(64, 76, 53, 88);</span><br><span class="line">	line(64, 76, 72, 88);</span><br><span class="line">	puthz(200, 50, &quot;玉米生长状况柱形图&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(400, 50, &quot;总体：&quot;, 16, 15, GREEN);</span><br><span class="line">	puthz(70, 80, &quot;占玉米总株数比例&quot;, 16, 15, GREEN);</span><br><span class="line">	line(63, 119, 65, 119);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	outtextxy(15, 110, &quot;100%&quot;);</span><br><span class="line">	line(63, 419 - 150, 65, 419 - 150);</span><br><span class="line">	outtextxy(15, 419 - 150 - 9, &quot;50%&quot;);</span><br><span class="line">	line(63, 419 - 75, 65, 419 - 75);</span><br><span class="line">	outtextxy(15, 419 - 75 - 9, &quot;25%&quot;);</span><br><span class="line">	line(63, 419 - 225, 65, 419 - 225);</span><br><span class="line">	outtextxy(15, 419 - 225 - 9, &quot;75%&quot;);</span><br><span class="line">	line(84, 418, 84, 420);</span><br><span class="line">	line(84 + 70, 418, 84 + 70, 420);</span><br><span class="line">	puthz(84 + 20, 430, &quot;健康&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30, 418, 84 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70, 420);</span><br><span class="line">	puthz(84 + 70 + 30, 430, &quot;感染棉铃虫&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70, 418, 84 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 5, 430, &quot;感染黏虫&quot;, 16, 15, GREEN);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 30, 420);</span><br><span class="line">	line(84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 418, 84 + 70 + 30 + 70 + 30 + 70 + 70 + 30, 420);</span><br><span class="line">	puthz(84 + 70 + 30 + 70 + 30 + 70 + 30, 430, &quot;两种均感染&quot;, 16, 15, GREEN);</span><br><span class="line">	//统计各个植物的患病情况</span><br><span class="line">	for (i = 0, j = 192; i &lt; 192, j &lt; 384; i++, j++)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mian.bfzuobiao[i][0] == 0 &amp;&amp; mian.bfzuobiao[i][1] == 0 &amp;&amp; nian.bfzuobiao[j][0] == 0 &amp;&amp; nian.bfzuobiao[j][1] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			y1 += 1;//无病</span><br><span class="line">		&#125;</span><br><span class="line">		if (mian.bfzuobiao[i][0] != 0 &amp;&amp; mian.bfzuobiao[i][1] != 0)</span><br><span class="line">		&#123;</span><br><span class="line">			y2++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nian.bfzuobiao[j][0] != 0 &amp;&amp; nian.bfzuobiao[j][1] != 0)</span><br><span class="line">		&#123;</span><br><span class="line">			y3++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (mian.bfzuobiao[i][0] != 0 &amp;&amp; mian.bfzuobiao[i][1] != 0 &amp;&amp; nian.bfzuobiao[j][0] != 0 &amp;&amp; nian.bfzuobiao[j][1] != 0)</span><br><span class="line">		&#123;</span><br><span class="line">			y4++;//二者均患</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	//绘制坐标轴，以及显示柱形图</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">	bar(84, 419 - (y1 * 300) / 192, 84 + 70, 419);</span><br><span class="line">	sprintf(string, &quot;%.lf/192&quot;, y1);</span><br><span class="line">	outtextxy(84, 419 - (y1 * 300) / 192 - 20, string);</span><br><span class="line">	bar(84 + 100 + 70, 419 - (y2 * 300) / 192, 84 + 100, 419);</span><br><span class="line">	sprintf(string, &quot;%d/192&quot;, y2);</span><br><span class="line">	outtextxy(84 + 100, 419 - (y2 * 300) / 192 - 20, string);</span><br><span class="line">	bar(84 + 270, 419 - (y3 * 300) / 192, 84 + 200, 419);</span><br><span class="line">	sprintf(string, &quot;%d/192&quot;, y3);</span><br><span class="line">	outtextxy(84 + 200, 419 - (y3 * 300) / 192 - 20, string);</span><br><span class="line">	bar(84 + 370, 419 - (y4 * 300) / 192, 84 + 300, 419);</span><br><span class="line">	sprintf(string, &quot;%d/192&quot;, y4);</span><br><span class="line">	outtextxy(84 + 300, 419 - (y4 * 300) / 192 - 20, string);</span><br><span class="line">	//显示生长状态</span><br><span class="line">	if (y1 &gt;= 192 - 8)//8</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;健康&quot;, 16, 15, GREEN);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (y1 &gt;= 192 - 15)//15</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;正常&quot;, 16, 15, GREEN);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (y1 &gt;= 192 - 25)//25</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;病虫预防&quot;, 16, 15, GREEN);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (y1 &gt;= 192 - 35)//35</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;急需喷洒&quot;, 16, 15, GREEN);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	else if (y1 &gt;= 192 - 60)//60</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;严重病害&quot;, 16, 15, GREEN);</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(370 + 84, 50, &quot;重大病害&quot;, 16, 15, GREEN);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>看起来很复杂，其实很简单，就是一个画柱形图的功能。。。。</strong></p>
<p><strong>好累，你自己看吧</strong></p>
<h3 id="growlook"><a href="#growlook" class="headerlink" title="growlook"></a>growlook</h3><p>无人机动画核心</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line">/*===========================================</span><br><span class="line">生长检测部分1。这里仅仅只是实现了动画效果。</span><br><span class="line">如，无人机的动画，植物范围的变色，不同的颜色代表了</span><br><span class="line">不同的病虫害。</span><br><span class="line">具体数据要到结果查看部分。</span><br><span class="line">=============================================*/</span><br><span class="line">void grow(void)//将两个农田的无人机运动合为一体化</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	if (getpixel(20, 65) == BROWN)//根据这个判断两个农田.这个是平地农田</span><br><span class="line">	&#123;</span><br><span class="line">		dronemove1();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	else// (getpixel(20,65) == WHITE) //这个是小农田</span><br><span class="line">	&#123;</span><br><span class="line">		dronemove2();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//小农田无人机动画</span><br><span class="line">void move21(int points[][2], int num_points, int x, int y, int* buffer)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	int i;</span><br><span class="line">	int barrier[2][2] = &#123; 0 &#125;;//障碍物</span><br><span class="line">	int barrier1[2][2] = &#123; 0 &#125;;</span><br><span class="line">	int barrier2[2][2] = &#123; 0 &#125;;</span><br><span class="line">	int xiao[103][2];</span><br><span class="line">	int yu[68][2];</span><br><span class="line">	int mian[68][2];</span><br><span class="line">	getxtxiao(xiao);</span><br><span class="line">	getxtyumi(yu);</span><br><span class="line">	getxtmianhua(mian);</span><br><span class="line">	barrier[0][0] = 249;</span><br><span class="line">	barrier[0][1] = 239;</span><br><span class="line">	barrier[1][0] = 278;</span><br><span class="line">	barrier[1][1] = 324;</span><br><span class="line">	barrier1[0][0] = 480;</span><br><span class="line">	barrier1[0][1] = 326 - 10;</span><br><span class="line">	barrier1[1][0] = 519;</span><br><span class="line">	barrier1[1][1] = 415 ;</span><br><span class="line">	barrier2[0][0] = 549;</span><br><span class="line">	barrier2[0][1] = 49;</span><br><span class="line">	barrier2[1][0] = 589;</span><br><span class="line">	barrier2[1][1] = 141;</span><br><span class="line">	srand(time(NULL)); // 初始化随机种子</span><br><span class="line">	for (i = 0; i &lt; num_points; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		int target_x = points[i][0]; // 获取当前目标点的x坐标</span><br><span class="line">		int target_y = points[i][1]; // 获取当前目标点的y坐标</span><br><span class="line">		int j;</span><br><span class="line">		int dx = 0;</span><br><span class="line">		int dy = 0;</span><br><span class="line">		int xxx = 2;</span><br><span class="line">		int yyy = 2;</span><br><span class="line">		int judge;</span><br><span class="line">		int xmax, ymax, xmin, ymin;</span><br><span class="line">		int randx[400] = &#123; 0 &#125;;</span><br><span class="line">		int randy[400] = &#123; 0 &#125;;</span><br><span class="line">		int randfuzhi;</span><br><span class="line">		int rand_numbers[400] = &#123; 0 &#125;; // 数组用于存储生成的随机数</span><br><span class="line">		int canshu1;</span><br><span class="line">		int canshu2;</span><br><span class="line">		int judgee;</span><br><span class="line">		int movebar[2][2] = &#123; 0 &#125;;</span><br><span class="line">		if ((target_x - x) &gt;= 0)//判断目标点</span><br><span class="line">		&#123;</span><br><span class="line">			xxx = 0;</span><br><span class="line">		&#125;</span><br><span class="line">		else if ((target_x - x) &lt; 0)</span><br><span class="line">		&#123;</span><br><span class="line">			xxx = 1;</span><br><span class="line">		&#125;</span><br><span class="line">		if ((target_y - y) &gt;= 0)</span><br><span class="line">		&#123;</span><br><span class="line">			yyy = 0;</span><br><span class="line">		&#125;</span><br><span class="line">		else if ((target_y - y) &lt; 0)</span><br><span class="line">		&#123;</span><br><span class="line">			yyy = 1;</span><br><span class="line">		&#125;</span><br><span class="line">		if (abs(target_x - x) &gt;= abs(target_y - y))</span><br><span class="line">		&#123;</span><br><span class="line">			for (randfuzhi = 0; randfuzhi &lt; abs((target_x - x) / 2); randfuzhi++)</span><br><span class="line">			&#123;</span><br><span class="line">				randx[randfuzhi] = 2;//控制速度 ======================================</span><br><span class="line">				randy[randfuzhi] = 0;</span><br><span class="line">			&#125;</span><br><span class="line">			for (randfuzhi = 0; randfuzhi &lt; abs((target_y - y) / 2); randfuzhi++)</span><br><span class="line">			&#123;</span><br><span class="line">				while (1)</span><br><span class="line">				&#123;</span><br><span class="line">					judgee = 1;</span><br><span class="line">					canshu1 = rand() % (abs(target_y - y) / 2) + 1;</span><br><span class="line">					for (j = 0; j &lt; randfuzhi; j++)</span><br><span class="line">					&#123;</span><br><span class="line">						if (rand_numbers[j] == canshu1)</span><br><span class="line">						&#123;</span><br><span class="line">							judgee = 0;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					if (judgee == 1)</span><br><span class="line">					&#123;</span><br><span class="line">						break;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				rand_numbers[randfuzhi] = canshu1; // 将生成的随机数标记为已使用</span><br><span class="line">				randy[canshu1 - 1] = 2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (abs(target_x - x) &lt; abs(target_y - y))</span><br><span class="line">		&#123;</span><br><span class="line">			for (randfuzhi = 0; randfuzhi &lt; abs((target_y - y) / 2); randfuzhi++)</span><br><span class="line">			&#123;</span><br><span class="line">				randx[randfuzhi] = 0;//控制速度 ======================================</span><br><span class="line">				randy[randfuzhi] = 2;</span><br><span class="line">			&#125;</span><br><span class="line">			for (randfuzhi = 0; randfuzhi &lt; abs((target_x - x) / 2); randfuzhi++)</span><br><span class="line">			&#123;</span><br><span class="line">				while (1)</span><br><span class="line">				&#123;</span><br><span class="line">					judgee = 1;</span><br><span class="line"></span><br><span class="line">					canshu2 = rand() % (abs(target_x - x) / 2) + 1;</span><br><span class="line">					for (j = 0; j &lt; randfuzhi; j++)</span><br><span class="line">					&#123;</span><br><span class="line">						if (rand_numbers[j] == canshu2)</span><br><span class="line">						&#123;</span><br><span class="line">							judgee = 0;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					if (judgee == 1)</span><br><span class="line">					&#123;</span><br><span class="line">						break;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				rand_numbers[randfuzhi] = canshu2; // 将生成的随机数标记为已使用</span><br><span class="line">				randx[canshu2 - 1] = 2;</span><br><span class="line">				randx[randfuzhi] = 2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		while (x != target_x || y != target_y)</span><br><span class="line">		&#123;</span><br><span class="line">			int jj = 0;</span><br><span class="line">			int aa, bb, cc, dd;</span><br><span class="line">			judge = rand() % 2;</span><br><span class="line">			movebar[0][0] = x - 25;</span><br><span class="line">			movebar[0][1] = y - 44;</span><br><span class="line">			movebar[1][0] = x + 50;</span><br><span class="line">			movebar[1][1] = y;</span><br><span class="line">			if (abs(target_x - x) &lt; 10 || abs(target_y - y) &lt; 10)</span><br><span class="line">			&#123;</span><br><span class="line">				if (x != target_x)//</span><br><span class="line">				&#123;</span><br><span class="line">					if (judge == 0)</span><br><span class="line">					&#123;</span><br><span class="line">						dx = 1;</span><br><span class="line">						dy = 0;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				if (y != target_y)//</span><br><span class="line">				&#123;</span><br><span class="line">					if (judge == 1)</span><br><span class="line">					&#123;</span><br><span class="line">						dx = 0;</span><br><span class="line">						dy = 1;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				dx = randx[jj];</span><br><span class="line">				dy = randy[jj];</span><br><span class="line">				jj++;</span><br><span class="line">			&#125;</span><br><span class="line">			if (x != target_x &amp;&amp; y == target_y &amp;&amp; abs(target_x - x) &lt; 10)</span><br><span class="line">			&#123;</span><br><span class="line">				dx = 1;</span><br><span class="line">				dy = 0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if (x != target_x &amp;&amp; y == target_y &amp;&amp; abs(target_x - x) &gt;= 10)</span><br><span class="line">			&#123;</span><br><span class="line">				dx = 2;</span><br><span class="line">				dy = 0;</span><br><span class="line">			&#125;</span><br><span class="line">			if (y != target_y &amp;&amp; x == target_x &amp;&amp; abs(target_y - y) &lt; 10)</span><br><span class="line">			&#123;</span><br><span class="line">				dx = 0;</span><br><span class="line">				dy = 1;</span><br><span class="line">			&#125;</span><br><span class="line">			else if (y != target_y &amp;&amp; x == target_x &amp;&amp; abs(target_y - y) &gt;= 10)</span><br><span class="line">			&#123;</span><br><span class="line">				dx = 0;</span><br><span class="line">				dy = 2;</span><br><span class="line">			&#125;</span><br><span class="line">			aa = skipthing(barrier, movebar, &amp;dx, &amp;dy);</span><br><span class="line">			bb = skipthing(barrier1, movebar, &amp;dx, &amp;dy);</span><br><span class="line">			cc = skipthing(barrier2, movebar, &amp;dx, &amp;dy);</span><br><span class="line">			if (aa == 1 &amp;&amp; bb == 1 &amp;&amp; cc == 1)</span><br><span class="line">			&#123;</span><br><span class="line">				if ((target_x - x) &gt;= 0)</span><br><span class="line">				&#123;</span><br><span class="line">					xxx = 0;</span><br><span class="line">				&#125;</span><br><span class="line">				else if ((target_x - x) &lt; 0)</span><br><span class="line">				&#123;</span><br><span class="line">					xxx = 1;</span><br><span class="line">				&#125;</span><br><span class="line">				if ((target_y - y) &gt;= 0)</span><br><span class="line">				&#123;</span><br><span class="line">					yyy = 0;</span><br><span class="line">				&#125;</span><br><span class="line">				else if ((target_y - y) &lt; 0)</span><br><span class="line">				&#123;</span><br><span class="line">					yyy = 1;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			xmax = (x + 50) &gt; 639 ? 639 : (x + 50);</span><br><span class="line">			ymax = (y + 0) &gt; 479 ? 479 : (y + 0);</span><br><span class="line">			xmin = (x - 25) &lt; 0 ? 0 : (x - 25);</span><br><span class="line">			ymin = (y - 44) &lt; 20 ? 0 : (y - 44);</span><br><span class="line">			showheight(x, y, xiao, yu, mian);</span><br><span class="line">			getimage(xmin, ymin, xmax, ymax, buffer);</span><br><span class="line">			drtdrone(x, y - 44);</span><br><span class="line">			//无人机速度控制</span><br><span class="line">			delay(15);//15</span><br><span class="line">			if (abs(x - target_x) &lt; 2 &amp;&amp; abs(y - target_y) &lt; 2)</span><br><span class="line">			&#123;</span><br><span class="line">				delay(50);//100</span><br><span class="line">			&#125;</span><br><span class="line">			putimage(xmin, ymin, buffer, COPY_PUT);</span><br><span class="line">			if (xxx == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				x += dx; // 更新x坐标</span><br><span class="line">			&#125;</span><br><span class="line">			else if (xxx == 1)</span><br><span class="line">			&#123;</span><br><span class="line">				x -= dx; // 更新x坐标</span><br><span class="line">			&#125;</span><br><span class="line">			if (yyy == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				y += dy; // 更新y坐标</span><br><span class="line">			&#125;</span><br><span class="line">			else if (yyy == 1)</span><br><span class="line">			&#123;</span><br><span class="line">				y -= dy; // 更新y坐标</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">int skipthing(int barrier[][2], int movebar[][2], int* dx, int* dy)</span><br><span class="line">&#123;</span><br><span class="line">	//barrier 储存的是障碍物坐标，movebar 是无人机坐标。dx,dy是运动的 值。targetxy是终点坐标。</span><br><span class="line">	if (barrier[0][0] - 5 &lt;= movebar[1][0] &amp;&amp;</span><br><span class="line">		barrier[1][0] - 5 &gt;= movebar[0][0] &amp;&amp;</span><br><span class="line">		barrier[0][1] + 5 &lt;= movebar[1][1] &amp;&amp;</span><br><span class="line">		barrier[1][1] + 5 &gt;= movebar[0][1]</span><br><span class="line">		)//障碍物与无人机 相交：：：判断两矩形是否相交。，这里扩充了障碍物，边界+10</span><br><span class="line"> 	&#123;</span><br><span class="line">		if (abs(movebar[0][1] - barrier[1][1]) &lt; 4)//无人机 上边与 障碍物下边 相交</span><br><span class="line">		&#123;//无人机从 上方碰见障碍物</span><br><span class="line">			*dy = 0;// 1;</span><br><span class="line">			*dx = 1;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (abs(movebar[1][1] - barrier[0][1]) &lt; 4)//无人机 下边与 障碍物上边 相交</span><br><span class="line">		&#123;//无人机从 下方碰见障碍物</span><br><span class="line">			*dy = 0;// 1;</span><br><span class="line">			*dx = 1;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (abs(movebar[0][0] - barrier[1][0]) &lt; 4)//无人机 左边与 障碍物右边 相交</span><br><span class="line">		&#123;//无人机从 右方碰见障碍物</span><br><span class="line">			*dx = 0;//  1;				</span><br><span class="line">			*dy = -1;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (abs(movebar[1][0] - barrier[0][0]) &lt; 4)//无人机 右边与 障碍物左边 相交</span><br><span class="line">		&#123;//无人机从 左方碰见障碍物</span><br><span class="line">			*dx = 0; //   -1;</span><br><span class="line">			*dy = 1;</span><br><span class="line">		&#125;</span><br><span class="line">		return 0;</span><br><span class="line">	&#125;</span><br><span class="line">	return 1;</span><br><span class="line">&#125;</span><br><span class="line">void dronemove2(void)</span><br><span class="line">&#123;</span><br><span class="line">	void* buffer1 = malloc(imagesize(0, 0, 75, 44));//定义缓存区</span><br><span class="line">	int x1, y1;</span><br><span class="line">	int a[239][2];</span><br><span class="line">	int i, j, k;</span><br><span class="line">	int temp[2];</span><br><span class="line">	int quyu[12] = &#123; 77,110,137,157,185,219,265,316,355,384,417,480 &#125;;//将农田分成11区域，有12个分界线无人机扫描11次</span><br><span class="line">	int count[11] = &#123; 0 &#125;;//计算每个区域有多少植物</span><br><span class="line">	int ii[11] = &#123; 0 &#125;;</span><br><span class="line">	int barrier[2][2] = &#123; 0 &#125;;</span><br><span class="line">	int barrier1[2][2] = &#123; 0 &#125;;</span><br><span class="line">	int barrier2[2][2] = &#123; 0 &#125;;</span><br><span class="line">	getxtxiao(a);</span><br><span class="line">	getxtyumi(&amp;a[103]);</span><br><span class="line">	getxtmianhua(&amp;a[171]);</span><br><span class="line">	barrier[0][0] = 249;</span><br><span class="line">	barrier[0][1] = 239;</span><br><span class="line">	barrier[1][0] = 278;</span><br><span class="line">	barrier[1][1] = 324;</span><br><span class="line">	barrier1[0][0] = 480;</span><br><span class="line">	barrier1[0][1] = 326 - 10;</span><br><span class="line">	barrier1[1][0] = 519;</span><br><span class="line">	barrier1[1][1] = 415 - 10;</span><br><span class="line">	barrier2[0][0] = 549;</span><br><span class="line">	barrier2[0][1] = 49;</span><br><span class="line">	barrier2[1][0] = 589;</span><br><span class="line">	barrier2[1][1] = 141;</span><br><span class="line">	paipai(a, barrier2);</span><br><span class="line">	paipai(a, barrier1);</span><br><span class="line">	paipai(a, barrier);</span><br><span class="line">	for (i = 0; i &lt; 238; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for (j = i + 1; j &lt; 239; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (a[i][1] &gt; a[j][1])</span><br><span class="line">			&#123;</span><br><span class="line">				temp[0] = a[i][0];</span><br><span class="line">				temp[1] = a[i][1];</span><br><span class="line">				a[i][0] = a[j][0];</span><br><span class="line">				a[i][1] = a[j][1];</span><br><span class="line">				a[j][0] = temp[0];</span><br><span class="line">				a[j][1] = temp[1];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for (i = 0; i &lt; 239; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for (k = 0; k &lt; 11; k++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (a[i][1] &gt;= quyu[k] &amp;&amp; a[i][1] &lt; quyu[k + 1])//判断植物在第几区域内部</span><br><span class="line">			&#123;</span><br><span class="line">				count[k]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for (i = 1; i &lt; 11; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for (j = 0; j &lt; i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			ii[i] += count[j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	ii[0] = 0;</span><br><span class="line">	i = 0;</span><br><span class="line">	for (k = 0; k &lt; 11; k++)</span><br><span class="line">	&#123;</span><br><span class="line">		if ((k % 2) == 0)//向右移动，x小的 在前</span><br><span class="line">		&#123;</span><br><span class="line">			for (i = ii[k]; i &lt; ii[k] + count[k] - 1; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				for (j = i + 1; j &lt; ii[k] + count[k]; j++)</span><br><span class="line">				&#123;</span><br><span class="line">					if (a[i][0] &gt; a[j][0])</span><br><span class="line">					&#123;</span><br><span class="line">						temp[0] = a[i][0];</span><br><span class="line">						temp[1] = a[i][1];</span><br><span class="line">						a[i][0] = a[j][0];</span><br><span class="line">						a[i][1] = a[j][1];</span><br><span class="line">						a[j][0] = temp[0];</span><br><span class="line">						a[j][1] = temp[1];</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			for (i = ii[k]; i &lt; ii[k] + count[k] - 1; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				for (j = i + 1; j &lt; ii[k] + count[k]; j++)</span><br><span class="line">				&#123;</span><br><span class="line">					if (a[i][0] &lt; a[j][0])</span><br><span class="line">					&#123;</span><br><span class="line">						temp[0] = a[i][0];</span><br><span class="line">						temp[1] = a[i][1];</span><br><span class="line">						a[i][0] = a[j][0];</span><br><span class="line">						a[i][1] = a[j][1];</span><br><span class="line">						a[j][0] = temp[0];</span><br><span class="line">						a[j][1] = temp[1];</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	x1 = 0;//初始化无人机坐标</span><br><span class="line">	y1 = 60;</span><br><span class="line">	move21(a, 239, x1, y1, buffer1);</span><br><span class="line">	free(buffer1);</span><br><span class="line">	setcolor(WHITE);</span><br><span class="line">	setfillstyle(SOLID_FILL, WHITE);</span><br><span class="line">	bar(100, 56, 250, 88);  // 清除时间显示区域</span><br><span class="line">	delay(100);</span><br><span class="line">&#125;</span><br><span class="line">void paipai(int a[][2], int barrier2[][2])//排序</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	for (i = 0; i &lt; 238; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if (a[i][0] &gt;= barrier2[0][0] - 52 &amp;&amp; a[i][0] &lt;= barrier2[1][0] + 26 &amp;&amp; a[i][1] &gt;= barrier2[0][1] &amp;&amp; a[i][1] &lt;= barrier2[1][1] + 46)</span><br><span class="line">		&#123;</span><br><span class="line">			if (a[i][0] &lt;= ((barrier2[1][0] + barrier2[0][1]) / 2))</span><br><span class="line">			&#123;</span><br><span class="line">				a[i][0] = barrier2[1][0] - 53;</span><br><span class="line">				a[i][1] = barrier2[0][1];</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				a[i][0] = barrier2[1][0] + 27;</span><br><span class="line">				a[i][1] = barrier2[1][1];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//大农田的无人机运动</span><br><span class="line">void dronemove1(void)</span><br><span class="line">&#123;</span><br><span class="line">	//-========================================================</span><br><span class="line">	void* buffer1 = malloc(imagesize(0, 0, 25, 25));</span><br><span class="line">	int* x1 = malloc(sizeof(int));</span><br><span class="line">	int* y1 = malloc(sizeof(int));</span><br><span class="line">	int* judge = malloc(sizeof(int));</span><br><span class="line">	int i;</span><br><span class="line">	*x1 = 0;</span><br><span class="line">	*judge = 65;</span><br><span class="line">	*y1 = 65;</span><br><span class="line">	//====================================</span><br><span class="line">	//整个运动的实现</span><br><span class="line">	for (i = 0; i &lt; 7; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		move11(x1, y1, buffer1);</span><br><span class="line">		move12(x1, y1, buffer1, judge);</span><br><span class="line">		move13(x1, y1, buffer1);</span><br><span class="line">		move12(x1, y1, buffer1, judge);</span><br><span class="line">		//这三个运动为一个循环。。。</span><br><span class="line">	&#125;</span><br><span class="line">	move11(x1, y1, buffer1);</span><br><span class="line">	move12(x1, y1, buffer1, judge);</span><br><span class="line">	for (; *x1 &gt; 0; *x1 = *x1 - 2)//运动到了最左端。。</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x1, *y1, *x1 + 25, *y1 + 25, buffer1);//保存image到buffer</span><br><span class="line">		drfdrone(*x1, *y1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x1, *y1, buffer1, COPY_PUT);//恢复图像</span><br><span class="line">	&#125;</span><br><span class="line">	for (; *y1 &gt; 65; *y1 = *y1 - 1)//运动到了最左端。。</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x1, *y1, *x1 + 25, *y1 + 25, buffer1);//保存image到buffer</span><br><span class="line">		drfdrone(*x1, *y1);</span><br><span class="line">		delay(5);</span><br><span class="line">		putimage(*x1, *y1, buffer1, COPY_PUT);//恢复图像</span><br><span class="line">	&#125;</span><br><span class="line">	free(buffer1);</span><br><span class="line">	free(x1);</span><br><span class="line">	free(y1);</span><br><span class="line">	free(judge);</span><br><span class="line">	delay(100);</span><br><span class="line">&#125;</span><br><span class="line">void showheight(int x, int y, int xiao[][2], int yu[][2], int mian[][2])//显示无人机高度</span><br><span class="line">&#123;</span><br><span class="line">	char string[20];</span><br><span class="line">	int high = 0;</span><br><span class="line">	int i;</span><br><span class="line">	int judge = 0;</span><br><span class="line">	int randshu;</span><br><span class="line"></span><br><span class="line">	if (x &gt; 1 &amp;&amp; x &lt; 203 &amp;&amp; y &lt; 278 &amp;&amp; y&gt;76)//梯田区域</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; 103; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (abs(x - xiao[i][0]) &lt; 4 &amp;&amp; abs(y - xiao[i][1]) &lt; 4)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 30 + 150 + 300;</span><br><span class="line">				judge = 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		for (i = 0; i &lt; 68; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (abs(x - yu[i][0]) &lt; 4 &amp;&amp; abs(y - yu[i][1]) &lt; 4)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 50 + 330 + 300;</span><br><span class="line">				judge = 1;</span><br><span class="line">			&#125;</span><br><span class="line">			if (abs(x - mian[i][0]) &lt; 4 &amp;&amp; abs(y - mian[i][1]) &lt; 4)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 50 + 210 + 300;</span><br><span class="line">				judge = 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; 103; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (abs(x - xiao[i][0]) &lt; 4 &amp;&amp; abs(y - xiao[i][1]) &lt; 4)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 30 + 150;</span><br><span class="line">				judge = 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		for (i = 0; i &lt; 68; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (abs(x - yu[i][0]) &lt; 4 &amp;&amp; abs(y - yu[i][1]) &lt; 4)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 50 + 330;</span><br><span class="line">				judge = 1;</span><br><span class="line">			&#125;</span><br><span class="line">			if (abs(x - mian[i][0]) &lt; 4 &amp;&amp; abs(y - mian[i][1]) &lt; 4)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 50 + 210;</span><br><span class="line">				judge = 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (judge == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		randshu = rand() % 100;</span><br><span class="line">		if (randshu == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			if (getpixel(x, y) == BLUE)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 40 + 300;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			else if (x &gt; 1 &amp;&amp; x &lt; 203 &amp;&amp; y &lt; 278 &amp;&amp; y&gt;76)//梯田区域</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 40 + 100+300;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			else if (high &lt; 150)</span><br><span class="line">			&#123;</span><br><span class="line">				high = rand() % 40 + 200;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		else high = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	if (high &gt;= 150)</span><br><span class="line">	&#123;</span><br><span class="line">		setcolor(WHITE);</span><br><span class="line">		setfillstyle(SOLID_FILL, WHITE);</span><br><span class="line">		bar(177, 56, 230, 88);  // 清除高度</span><br><span class="line">		setcolor(GREEN);</span><br><span class="line">		settextstyle(1, HORIZ_DIR, 1);</span><br><span class="line">		sprintf(string, &quot;height: %d cm&quot;, high);</span><br><span class="line">		outtextxy(107, 57, string);//显示字符串</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这段代码小农田的不用细看，因为这个避障和斜线运动功能确实很难做，所以当时也是乱凑，凑出来了个半成品。。。。显示高度可以看看。自己看吧，打算一口气结束这个C课设拯救计划了。太累了了了了了</strong></p>
<h2 id="队友写的"><a href="#队友写的" class="headerlink" title="队友写的"></a>队友写的</h2><p><strong>反正我当时没看多久，也没看懂，现在更加不想看了，有兴趣可以自己分析。</strong></p>
<h3 id="zpjm-h"><a href="#zpjm-h" class="headerlink" title="zpjm.h"></a>zpjm.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _ZPJM_H_</span><br><span class="line">#define _ZPJM_H_</span><br><span class="line"></span><br><span class="line">int zpjiemian(int* a9, int nongyao[6]);</span><br><span class="line">void chejian(void);//绘画车间图像</span><br><span class="line">void nongdu(int judge);//浓度显示</span><br><span class="line">void jizhan(void);//无人机基站图像</span><br><span class="line">void xiangzi(int x, int y , int num,int judge2);//农药储存箱图像</span><br><span class="line">void drcar(int x, int y,int judge1);//小车</span><br><span class="line">void nydrone(int x, int y ,int judge4);//车间内无人机图像</span><br><span class="line">void fushitu(int x, int y);//小农田农药无人机图</span><br><span class="line">void suofangtu(int x, int y , int judge4);//大农田农药无人机缩放图</span><br><span class="line">void zpdh(int judge3);//农药装配动画</span><br><span class="line">void moveps0(int judge1, int* x, int* y, int* buffer2);//向左特殊运动</span><br><span class="line">void moveps1(int judge1, int* x, int* y, int* buffer2);//向右特殊运动</span><br><span class="line">void moveps2(int judge1, int* x, int* y, int* buffer2);//向右进一区</span><br><span class="line">void moveps3(int judge1, int* x, int* y, int* buffer2);//向上进一区</span><br><span class="line">void moveps4(int judge1, int* x, int* y, int* buffer2);//向下进一区</span><br><span class="line">void moveps6(int judge1, int* x, int* y, int* buffer2);//向左进一区</span><br><span class="line">void moveps7(int judge1, int* x, int* y, int* buffer2);//向下取药</span><br><span class="line">void moveps8(int judge1, int* x, int* y, int* buffer2);//向上回位</span><br><span class="line">void moveps9(int judge1, int* x, int* y, int* buffer2);//向上装药</span><br><span class="line">#endif </span><br></pre></td></tr></table></figure>

<h3 id="zpjm-c"><a href="#zpjm-c" class="headerlink" title="zpjm.c"></a>zpjm.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br></pre></td><td class="code"><pre><span class="line"> #include &quot;common.h&quot;</span><br><span class="line"></span><br><span class="line">int zpjiemian(int* a9, int nongyao[6])</span><br><span class="line">&#123;</span><br><span class="line">	if (*a9 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		chejian();</span><br><span class="line">		*a9 = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	if (*a9 == 0 || (*a9 &gt; 1 &amp;&amp; *a9 &lt; 10))</span><br><span class="line">		if (mouse_press(20, 95, 110, 135) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			if (*a9 == 0)</span><br><span class="line">				*a9 = 2;</span><br><span class="line">			else if (*a9 &gt; 1 &amp;&amp; *a9 &lt; 10)</span><br><span class="line">				*a9 = *a9 + 1;</span><br><span class="line">			nongdu(*a9);</span><br><span class="line">			delay(400);</span><br><span class="line">		&#125;</span><br><span class="line">	if (*a9 &gt; 1 &amp;&amp; *a9 &lt; 11)</span><br><span class="line">		if (mouse_press(130, 95, 220, 135) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			if (*a9 == 2)</span><br><span class="line">				*a9 = 0;</span><br><span class="line">			else if (*a9 &gt; 2 &amp;&amp; *a9 &lt; 11)</span><br><span class="line">				*a9 = *a9 - 1;</span><br><span class="line">			nongdu(*a9);</span><br><span class="line">			delay(400);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	if (mouse_press(220, 200, 370, 300) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (nongyao[0] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			nongyao[0] = 2;</span><br><span class="line">			zpdh(0);</span><br><span class="line">			*a9 = 1;</span><br><span class="line">			return 9;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[0] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			return 8;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	else if (mouse_press(420, 200, 570, 300) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (nongyao[1] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			nongyao[1] = 2;</span><br><span class="line">			zpdh(1);</span><br><span class="line">			*a9 = 1;</span><br><span class="line">			return 9;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[1] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			return 8;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(20, 350, 170, 450) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (nongyao[2] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			nongyao[2] = 2;</span><br><span class="line">			zpdh(2);</span><br><span class="line">			*a9 = 1;</span><br><span class="line">			return 9;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[2] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			return 8;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	else if (mouse_press(220, 350, 370, 450) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (nongyao[3] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			nongyao[3] = 2;</span><br><span class="line">			zpdh(3);</span><br><span class="line">			*a9 = 1;</span><br><span class="line">			return 9;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[3] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			return 8;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	else if (mouse_press(420, 350, 570, 450) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (nongyao[4] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			nongyao[4] = 2;</span><br><span class="line">			zpdh(4);</span><br><span class="line">			*a9 = 1;</span><br><span class="line">			return 9;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[4] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			return 8;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		return -1;//关闭BC。</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		*a9 = 1;</span><br><span class="line">		return 7;//返回前一个界面</span><br><span class="line">	&#125;</span><br><span class="line">	showbiankuang(600, 0, 640, 40);</span><br><span class="line">	showbiankuang(0, 0, 80, 40);</span><br><span class="line"></span><br><span class="line">	return 8;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void chejian(void)//绘画车间图像</span><br><span class="line">&#123;</span><br><span class="line">	cleardevice();</span><br><span class="line">	clrmous(MouseX, MouseY);</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	rectangle(600, 0, 640, 40);</span><br><span class="line">	line(600, 0, 640, 40);</span><br><span class="line">	line(640, 0, 600, 40);</span><br><span class="line"></span><br><span class="line">	rectangle(0, 0, 80, 40);</span><br><span class="line">	puthz(5, 5, &quot;返回&quot;, 32, 40, GREEN);</span><br><span class="line"></span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	bar(20, 150, 620, 200);</span><br><span class="line">	bar(20, 300, 620, 350);</span><br><span class="line">	bar(170, 200, 220, 450);</span><br><span class="line">	bar(370, 200, 420, 450);</span><br><span class="line">	bar(570, 200, 620, 450);</span><br><span class="line">	bar(370, 20, 420, 150);</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	line(370, 20, 370, 150);</span><br><span class="line">	line(420, 20, 420, 150);</span><br><span class="line">	line(20, 150, 370, 150);</span><br><span class="line">	line(20, 200, 170, 200);</span><br><span class="line">	line(420, 150, 620, 150);</span><br><span class="line">	line(620, 150, 620, 450);</span><br><span class="line">	line(170, 200, 170, 300);</span><br><span class="line">	line(20, 300, 170, 300);</span><br><span class="line">	jizhan();</span><br><span class="line"></span><br><span class="line">	xiangzi(220, 200, 0, nongyao[0]);</span><br><span class="line">	xiangzi(420, 200, 1, nongyao[1]);</span><br><span class="line">	xiangzi(20, 350, 2, nongyao[2]);</span><br><span class="line">	xiangzi(220, 350, 3, nongyao[3]);</span><br><span class="line">	xiangzi(420, 350, 4, nongyao[4]);</span><br><span class="line">	drcar(20, 150,0);</span><br><span class="line">	nydrone(265, 40, 0);</span><br><span class="line">	setfillstyle(1, YELLOW);</span><br><span class="line">	bar(20, 55, 220, 135);</span><br><span class="line">	setfillstyle(1, RED);</span><br><span class="line">	bar(20, 95, 220, 135);</span><br><span class="line">	setfillstyle(1, WHITE);</span><br><span class="line">	bar(60, 95, 70, 135);</span><br><span class="line">	bar(45, 110, 85, 120);</span><br><span class="line">	bar(150, 108, 200, 122);</span><br><span class="line">	rectangle(20, 55, 220, 135);</span><br><span class="line">	line(20, 95, 220, 95);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(110, 95, 130, 135);</span><br><span class="line">	puthz(25, 60, &quot;浓度&quot;, 24, 30, GREEN);</span><br><span class="line">	settextstyle(1, HORIZ_DIR, 2);</span><br><span class="line">	setcolor(GREEN);</span><br><span class="line">	outtextxy(85, 56, &quot;:&quot;);</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	outtextxy(140, 58, &quot;%&quot;);</span><br><span class="line">	nongdu(0);</span><br><span class="line">&#125;</span><br><span class="line">void nongdu(int judge)//浓度显示</span><br><span class="line">&#123;</span><br><span class="line">	char a[3];</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	setfillstyle(1, YELLOW);</span><br><span class="line">	bar(100, 58, 138, 94);</span><br><span class="line">	if(judge==0)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 10);</span><br><span class="line">	if (judge == 2)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 20);</span><br><span class="line">	if (judge == 3)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 30);</span><br><span class="line">	if (judge == 4)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 40);</span><br><span class="line">	if (judge == 5)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 50);</span><br><span class="line">	if (judge == 6)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 60);</span><br><span class="line">	if (judge == 7)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 70);</span><br><span class="line">	if (judge == 8)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 80);</span><br><span class="line">	if (judge == 9)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 90);</span><br><span class="line">	if (judge == 10)</span><br><span class="line">		sprintf(a, &quot;%d&quot;, 100);</span><br><span class="line"></span><br><span class="line">	outtextxy(100, 58, a);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void jizhan(void)//无人机基站图像</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(290, 45, 370, 50);</span><br><span class="line">	bar(330, 55, 335, 80);</span><br><span class="line">	bar(320, 80, 345, 82);</span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	bar(320, 40, 345, 55);</span><br><span class="line">	rectangle(320, 40, 345, 55);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void xiangzi(int x, int y ,int num,int judge2)//农药储存箱图像</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1,LIGHTGRAY);</span><br><span class="line">	bar(x, y, x + 150, y + 100);</span><br><span class="line">	bar(x+125, y-10, x+145 , y);</span><br><span class="line">	rectangle(x + 125, y - 10, x + 145, y);</span><br><span class="line">	rectangle(x, y, x + 150, y + 100);</span><br><span class="line">	line(x, y + 1, x + 150, y + 1);</span><br><span class="line">	line(x, y + 99, x + 150, y + 99);</span><br><span class="line">	line(x + 149, y, x + 149, y + 100);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(x + 125, y -10, x + 150, y - 4);</span><br><span class="line"></span><br><span class="line">	if (judge2 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (num == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			puthz(x + 5, y + 35, &quot;氯铃胺&quot;, 24, 30, DARKGRAY);</span><br><span class="line">		&#125;</span><br><span class="line">		else if (num == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			puthz(x + 5, y + 35, &quot;甲胺磷&quot;, 24, 30, DARKGRAY);</span><br><span class="line">		&#125;</span><br><span class="line">		else if (num == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			puthz(x + 5, y + 35, &quot;氯氰菊酯&quot;, 24, 30, DARKGRAY);</span><br><span class="line">		&#125;</span><br><span class="line">		else if (num == 3)</span><br><span class="line">		&#123;</span><br><span class="line">			puthz(x + 5, y + 35, &quot;甲维盐&quot;, 24, 30, DARKGRAY);</span><br><span class="line">		&#125;</span><br><span class="line">		else if (num == 4)</span><br><span class="line">		&#123;</span><br><span class="line">			puthz(x + 5, y + 35, &quot;菌酯&quot;, 24, 30, DARKGRAY);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		line(x, y, x + 150, y + 100);</span><br><span class="line">		line(x+150, y, x , y + 100);</span><br><span class="line">		line(x+1, y, x + 151 ,y + 100);</span><br><span class="line">		line(x + 151, y, x+1, y + 100);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void drcar(int x, int y,int judge1)//小车</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	bar(x, y + 20, x + 50, y + 40);</span><br><span class="line">	rectangle(x, y + 20, x + 50, y + 40);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(x + 35, y, x + 45, y + 20);</span><br><span class="line">	bar(x, y, x + 40, y + 6);</span><br><span class="line">	bar(x + 5, y + 35, x + 20, y + 50);</span><br><span class="line">	bar(x + 30, y + 35, x + 45, y + 50);</span><br><span class="line">	setfillstyle(1, WHITE);</span><br><span class="line">	bar(x + 10, y + 40, x + 15, y + 45);</span><br><span class="line">	bar(x + 35, y + 40, x + 40, y + 45);</span><br><span class="line">	if (judge1 == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(x + 35, y + 25, x + 40, y + 30);</span><br><span class="line">		rectangle(x + 35, y + 25, x + 40, y + 30);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (judge1 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, GREEN);</span><br><span class="line">		bar(x + 35, y + 25, x + 40, y + 30);</span><br><span class="line">		rectangle(x + 35, y + 25, x + 40, y + 30);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void nydrone(int x , int y , int judge4)//车间内无人机图像</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	bar(x, y - 5, x + 25, y + 30);</span><br><span class="line">	rectangle (x, y - 5, x + 25, y + 30);</span><br><span class="line">	line(x + 5, y - 5, x + 5, y + 30);</span><br><span class="line">	line(x + 6, y - 5, x + 6, y + 30);</span><br><span class="line">	line(x + 20, y - 5, x + 20, y + 30);</span><br><span class="line">	line(x + 19, y - 5, x + 19, y + 30);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(x - 5, y - 5, x, y);</span><br><span class="line">	bar(x - 10, y - 10, x - 5, y - 5);</span><br><span class="line">	bar(x + 25, y - 5, x + 30, y);</span><br><span class="line">	bar(x + 30, y - 10, x + 35, y-5);</span><br><span class="line">	bar(x - 5, y +25, x, y+30);</span><br><span class="line">	bar(x - 10, y + 30, x-5, y + 35);</span><br><span class="line">	bar(x + 25, y + 25, x + 30, y + 30);</span><br><span class="line">	bar(x + 30, y + 30, x + 35, y + 35);</span><br><span class="line">	bar(x - 15, y - 20, x - 10, y + 45);</span><br><span class="line">	bar(x + 35 , y - 20, x + 40, y + 45);</span><br><span class="line"></span><br><span class="line">	if (judge4 == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(x + 10,y+10 , x + 15, y+15);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (judge4 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, GREEN);</span><br><span class="line">		bar(x + 10, y + 10, x + 15, y + 15);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fushitu(int x, int y)//小农田农药无人机图</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, BLUE);</span><br><span class="line">	bar(x+6, y, x + 14, y + 10);</span><br><span class="line">    rectangle(x+6 , y, x + 14, y + 10);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(x , y, x + 20, y + 2);</span><br><span class="line">	bar(x , y, x +2, y + 5);</span><br><span class="line">	bar(x + 18, y, x + 20, y + 5);</span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	bar(x+5, y, x + 15, y + 5);</span><br><span class="line">	rectangle(x+5, y, x + 15, y + 5);</span><br><span class="line">&#125;</span><br><span class="line">void suofangtu(int x, int y,  int judge4)//大农田农药无人机缩放图</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	bar(x, y - 2, x + 10, y + 12);</span><br><span class="line">	rectangle(x, y - 2, x + 10, y + 12);</span><br><span class="line">	line(x + 2, y - 2, x + 2, y + 12);</span><br><span class="line">	line(x + 3, y - 2, x + 3, y + 12);</span><br><span class="line">	line(x + 8, y - 2, x + 8, y + 12);</span><br><span class="line">	line(x + 7, y - 2, x + 7, y + 12);</span><br><span class="line">	setfillstyle(1, DARKGRAY);</span><br><span class="line">	bar(x - 2, y - 2, x, y);</span><br><span class="line">	bar(x - 4, y - 4, x - 2, y - 2);</span><br><span class="line">	bar(x + 10, y - 2, x + 12, y);</span><br><span class="line">	bar(x + 12, y - 4, x + 14, y - 2);</span><br><span class="line">	bar(x - 2, y + 10, x, y + 12);</span><br><span class="line">	bar(x - 4, y + 12, x - 2, y + 14);</span><br><span class="line">	bar(x + 10, y + 10, x + 12, y + 12);</span><br><span class="line">	bar(x + 12, y + 12, x + 14, y + 14);</span><br><span class="line">	bar(x - 6, y - 8, x - 4, y + 18);</span><br><span class="line">	bar(x + 14, y - 8, x + 16, y + 18);</span><br><span class="line"></span><br><span class="line">	if (judge4 == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(x + 4, y + 4, x + 6, y + 6);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (judge4 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, GREEN);</span><br><span class="line">		bar(x + 4, y + 4, x + 6, y + 6);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void zpdh(int judge3)//农药装配动画</span><br><span class="line">&#123;</span><br><span class="line">	void* buffer2 = malloc(imagesize(0, 0, 50, 50));</span><br><span class="line">	int* x2 = malloc(sizeof(int)); </span><br><span class="line">	int* y2 = malloc(sizeof(int)); </span><br><span class="line">	int i; </span><br><span class="line">	*x2 = 20;</span><br><span class="line">	*y2 = 150;</span><br><span class="line">	setcolor(DARKGRAY);</span><br><span class="line">	setfillstyle(1, LIGHTGRAY);</span><br><span class="line">	bar(20, 150, 70, 200);</span><br><span class="line">	line(20, 150, 370, 150);</span><br><span class="line">	line(20, 200, 170, 200);</span><br><span class="line">	moveps1(0, x2, y2, buffer2);</span><br><span class="line">	if (judge3 == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		moveps2(0, x2, y2, buffer2);</span><br><span class="line">		moveps7(0, x2, y2, buffer2);</span><br><span class="line">		moveps8(1, x2, y2, buffer2);</span><br><span class="line">		moveps9(1, x2, y2, buffer2);</span><br><span class="line">		moveps0(0, x2, y2, buffer2);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (judge3 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		moveps2(0, x2, y2, buffer2);		</span><br><span class="line">		moveps2(0, x2, y2, buffer2);</span><br><span class="line">		moveps7(0, x2, y2, buffer2);</span><br><span class="line">		moveps8(1, x2, y2, buffer2);</span><br><span class="line">		moveps6(1, x2, y2, buffer2);</span><br><span class="line">		moveps9(1, x2, y2, buffer2);</span><br><span class="line">		moveps0(0, x2, y2, buffer2);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (judge3 == 2)</span><br><span class="line">	&#123;</span><br><span class="line">		moveps4(0, x2, y2, buffer2);</span><br><span class="line">		moveps7(0, x2, y2, buffer2);</span><br><span class="line">		moveps8(1, x2, y2, buffer2);</span><br><span class="line">		moveps3(1, x2, y2, buffer2);</span><br><span class="line">		moveps2(1, x2, y2, buffer2);</span><br><span class="line">		moveps9(1, x2, y2, buffer2);</span><br><span class="line">		moveps0(0, x2, y2, buffer2);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (judge3 == 3)</span><br><span class="line">	&#123;</span><br><span class="line">		moveps4(0, x2, y2, buffer2);</span><br><span class="line">		moveps2(0, x2, y2, buffer2);</span><br><span class="line">		moveps7(0, x2, y2, buffer2);</span><br><span class="line">		moveps8(1, x2, y2, buffer2);</span><br><span class="line">		moveps3(1, x2, y2, buffer2);</span><br><span class="line">		moveps9(1, x2, y2, buffer2);</span><br><span class="line">		moveps0(0, x2, y2, buffer2);</span><br><span class="line">	&#125;</span><br><span class="line">	else if (judge3 == 4)</span><br><span class="line">	&#123;</span><br><span class="line">		moveps4(0, x2, y2, buffer2);</span><br><span class="line">		moveps2(0, x2, y2, buffer2);</span><br><span class="line">		moveps2(0, x2, y2, buffer2);</span><br><span class="line">		moveps7(0, x2, y2, buffer2);</span><br><span class="line">		moveps8(1, x2, y2, buffer2);</span><br><span class="line">		moveps3(1, x2, y2, buffer2);</span><br><span class="line">		moveps6(1, x2, y2, buffer2);</span><br><span class="line">		moveps9(1, x2, y2, buffer2);</span><br><span class="line">		moveps0(0, x2, y2, buffer2);</span><br><span class="line">	&#125;</span><br><span class="line">	drcar(20, 150, 0);</span><br><span class="line"></span><br><span class="line">	free(buffer2);</span><br><span class="line">	free(x2);</span><br><span class="line">	free(y2);</span><br><span class="line">	delay(100);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps0(int judge1, int* x, int* y, int* buffer2)//向左特殊运动</span><br><span class="line">&#123;</span><br><span class="line">	for (; *x &gt;20; *x = *x - 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps1(int judge1, int* x, int* y, int* buffer2)//向右特殊运动</span><br><span class="line">&#123;</span><br><span class="line">	for (; *x &lt;170; *x = *x + 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y,judge1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps2(int judge1, int* x, int* y, int* buffer2)//向右进一区</span><br><span class="line">&#123;</span><br><span class="line">	int xx;</span><br><span class="line">	xx = *x;</span><br><span class="line">	for (; *x-xx &lt; 200; *x = *x + 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps3(int judge1, int* x, int* y, int* buffer2)//向上进一区</span><br><span class="line">&#123;</span><br><span class="line">	int yy;</span><br><span class="line">	yy = *y;</span><br><span class="line">	for (; yy - *y &lt; 150; *y = *y - 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps4(int judge1, int* x, int* y, int* buffer2)//向下进一区</span><br><span class="line">&#123;</span><br><span class="line">	int yy;</span><br><span class="line">	yy = *y;</span><br><span class="line">	for (; *y - yy &lt; 150; *y = *y + 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps6(int judge1, int* x, int* y, int* buffer2)//向左进一区</span><br><span class="line">&#123;</span><br><span class="line">	int xx;</span><br><span class="line">	xx = *x;</span><br><span class="line">	for (; xx - *x &lt; 200; *x = *x - 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps7(int judge1, int* x, int* y, int* buffer2)//向下取药</span><br><span class="line">&#123;</span><br><span class="line">	int yy;</span><br><span class="line">	yy = *y;</span><br><span class="line">	for (; *y - yy &lt; 40; *y = *y + 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(20);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">	getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">	drcar(*x, *y, judge1);</span><br><span class="line">	delay(200);</span><br><span class="line">	drcar(*x, *y, 1);</span><br><span class="line">	delay(200);</span><br><span class="line">	putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps8(int judge1, int* x, int* y, int* buffer2)//向上回位</span><br><span class="line">&#123;</span><br><span class="line">	int yy;</span><br><span class="line">	yy = *y;</span><br><span class="line">	for (; yy-*y &lt; 40; *y = *y - 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(8);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void moveps9(int judge1, int* x, int* y, int* buffer2)//装药，回位</span><br><span class="line">&#123;</span><br><span class="line">	int yy;</span><br><span class="line">	yy = *y;</span><br><span class="line">	for (; yy - *y &lt; 50; *y = *y - 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(16);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	for (; yy - *y &lt; 105; *y = *y - 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, judge1);</span><br><span class="line">		delay(20);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">	getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">	drcar(*x, *y, judge1);</span><br><span class="line">	delay(200);</span><br><span class="line">	drcar(*x, *y, 0);</span><br><span class="line">	nydrone(265, 40, 1);</span><br><span class="line">	delay(200);</span><br><span class="line">	putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line"></span><br><span class="line">	for (; yy - *y &gt;50; *y = *y + 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, 0);</span><br><span class="line">		delay(20);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	for (; yy - *y &gt;0; *y = *y + 2)</span><br><span class="line">	&#123;</span><br><span class="line">		getimage(*x, *y, *x + 50, *y + 50, buffer2);</span><br><span class="line">		drcar(*x, *y, 0);</span><br><span class="line">		delay(16);</span><br><span class="line">		putimage(*x, *y, buffer2, COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="pssj-h"><a href="#pssj-h" class="headerlink" title="pssj.h"></a>pssj.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _PSSJ_H</span><br><span class="line">#define _PSSJ_H</span><br><span class="line">int moveint2(int (*hanshu)(int*, int*), int* a, int b[6]);</span><br><span class="line">int moveint3(int (*hanshu)(int*, int*, unsigned char(*)[49], unsigned char(*)[49], unsigned char(*)[49], int(*)[2], int*), int* a, int b[6], unsigned char c[384][49], unsigned char d[192][49], unsigned char e[192][49], int f[386][2], int* g);</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="pssj-c"><a href="#pssj-c" class="headerlink" title="pssj.c"></a>pssj.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;pssj.h&quot;</span><br><span class="line">#include &quot;common.h&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int moveint2(int (*hanshu)(int*,int* ), int* a, int b[6])</span><br><span class="line">&#123;</span><br><span class="line">	int bbbb;</span><br><span class="line"></span><br><span class="line">	if (*a == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	bbbb = hanshu(a, b);</span><br><span class="line"></span><br><span class="line">	if (*a != -10)</span><br><span class="line">	&#123;</span><br><span class="line">		newmouse(&amp;MouseX, &amp;MouseY, &amp;press);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return bbbb;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int moveint3(int (*hanshu)(int*, int*, unsigned char(*)[49], unsigned char(*)[49], unsigned char(*)[49], int(*)[2], int*), int* a, int b[6], unsigned char c[384][49], unsigned char d[192][49], unsigned char e[192][49],int f[386][2], int* g)</span><br><span class="line">&#123;</span><br><span class="line">	int bbbbbb;</span><br><span class="line"></span><br><span class="line">	if (*a == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	bbbbbb = hanshu(a, b, c, d, e,f,g);</span><br><span class="line"></span><br><span class="line">	if (*a != -10)</span><br><span class="line">	&#123;</span><br><span class="line">		newmouse(&amp;MouseX, &amp;MouseY, &amp;press);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return bbbbbb;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="pensadh-h"><a href="#pensadh-h" class="headerlink" title="pensadh.h"></a>pensadh.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _PENSADH_H_</span><br><span class="line">#define _PENSADH_H_</span><br><span class="line"></span><br><span class="line">int psdonghua(int *a10,int nongyao[6], unsigned char diannian[384][49], unsigned char dianbai[192][49], unsigned char dianmian[192][49], int rount[386][2],int* amtjudge);</span><br><span class="line">void ljgh(int grandjudge, int *judge, int ny0[384][2], int ny1[192][2], int ny2[192][2], int ny3[192][2], int ny4[192][2], int rount[386][2]);//路径规划</span><br><span class="line">void therount(int rount[386][2], int *amtjudge);//路径画面</span><br><span class="line">void huigui(void);//未发现病害，回归</span><br><span class="line">void huigui2(int i);//喷洒农药后回归</span><br><span class="line">void nyphoto(int x, int y);//农药图像</span><br><span class="line">void anima1(int rount[386][2], int* amtjudge);//大农田路径动画</span><br><span class="line">void anima2(int rount[386][2], int* amtjudge);//小农田路径动画</span><br><span class="line">int linemove1(int* x, int* y, int* buffer1);//大农田沿线段运动</span><br><span class="line">int linemove21(int judge1 ,int* x, int* y, int* buffer1);//小农田沿线段运动(顺时针)  21，22合并后，动画卡顿且容易把系统卡爆</span><br><span class="line">int linemove22(int judge1 ,int* x, int* y, int* buffer1);//小农田沿线段运动(逆时针)</span><br><span class="line"></span><br><span class="line">#endif </span><br></pre></td></tr></table></figure>

<h3 id="pensadh-c"><a href="#pensadh-c" class="headerlink" title="pensadh.c"></a>pensadh.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;common.h&quot;</span><br><span class="line"></span><br><span class="line">int psdonghua(int* a10, int nongyao[6], unsigned char diannian[384][49], unsigned char dianbai[192][49], unsigned char dianmian[192][49], int rount[386][2],int* amtjudge)</span><br><span class="line">&#123;</span><br><span class="line">	FILE* filePointer1;</span><br><span class="line">	FILE* filePointer2;</span><br><span class="line">	FILE* filePointer3;</span><br><span class="line">	FILE* filePointer4;</span><br><span class="line">	FILE* filePointer5;</span><br><span class="line">	FILE* filePointer6;</span><br><span class="line">	int i,j;</span><br><span class="line">	int grandjudge = 0, jg0=0, jg1 = 0, jg2 = 0, jg3 = 0, jg4 = 0;//granjudge:确定农药使用，jg用于贮存相应得病植株数量</span><br><span class="line">	int ny0[384][2] = &#123;0&#125;;//ny用于贮存坐标</span><br><span class="line">	int ny1[192][2] = &#123; 0 &#125;;</span><br><span class="line">	int ny2[192][2] = &#123; 0 &#125;;</span><br><span class="line">	int ny3[192][2] = &#123; 0 &#125;;</span><br><span class="line">    int ny4[192][2] = &#123; 0 &#125;;</span><br><span class="line">	if (*a10==1)</span><br><span class="line">	&#123;</span><br><span class="line">		rount[0][0] = 20;</span><br><span class="line">		rount[0][1] = 465;</span><br><span class="line">		cleardevice();</span><br><span class="line">		clrmous(MouseX, MouseY);</span><br><span class="line">		setcolor(RED);</span><br><span class="line">		setfillstyle(1, GREEN);</span><br><span class="line">		rectangle(600, 0, 640, 40);</span><br><span class="line">		line(600, 0, 640, 40);</span><br><span class="line">		line(640, 0, 600, 40);</span><br><span class="line">		bar(260, 5, 400, 50);</span><br><span class="line">		puthz(270, 10, &quot;喷洒农药&quot;, 32, 30, WHITE);</span><br><span class="line">		bar(100, 5, 240, 50);</span><br><span class="line">			puthz(110, 10, &quot;路径规划&quot;, 32, 30, WHITE);</span><br><span class="line">		rectangle(0, 0, 80, 40);</span><br><span class="line">		puthz(5, 5, &quot;返回&quot;, 32, 40, GREEN);</span><br><span class="line">		if (nongyao[5] == 0)//大农田，已经排除了棉花用的农药，关注0，2，4</span><br><span class="line">		&#123;</span><br><span class="line">			farmfield();</span><br><span class="line">			for (i = 0; i &lt; 192; i++)//小麦，黏虫</span><br><span class="line">			&#123;</span><br><span class="line">				if (nian.bfzuobiao[i][0] != 0 &amp;&amp; nian.bfzuobiao[i][1] != 0) </span><br><span class="line">				&#123;</span><br><span class="line">					nianchong(nian.bfzuobiao[i][0], nian.bfzuobiao[i][1], diannian[i]);</span><br><span class="line">					ny0[jg0][0] = nian.bfzuobiao[i][0];</span><br><span class="line">					ny0[jg0][1] = nian.bfzuobiao[i][1];</span><br><span class="line">					jg0++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			for (i = 192; i &lt; 384; i++)//玉米，黏虫</span><br><span class="line">			&#123;</span><br><span class="line">				if (nian.bfzuobiao[i][0] != 0 &amp;&amp; nian.bfzuobiao[i][1] != 0) </span><br><span class="line">				&#123;</span><br><span class="line">					nianchong(nian.bfzuobiao[i][0], nian.bfzuobiao[i][1], diannian[i]);</span><br><span class="line">					ny2[jg2][0] = nian.bfzuobiao[i][0];</span><br><span class="line">					ny2[jg2][1] = nian.bfzuobiao[i][1];</span><br><span class="line">					jg2++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			for (i = 0; i &lt; 192; i++)//玉米，棉铃虫</span><br><span class="line">			&#123;</span><br><span class="line">				if (mian.bfzuobiao[i][0] != 0 &amp;&amp; mian.bfzuobiao[i][1] != 0) </span><br><span class="line">				&#123;</span><br><span class="line">					mianling(mian.bfzuobiao[i][0], mian.bfzuobiao[i][1], dianmian[i]);</span><br><span class="line">					ny0[jg0][0] = mian.bfzuobiao[i][0];</span><br><span class="line">					ny0[jg0][1] = mian.bfzuobiao[i][1];</span><br><span class="line">					jg0++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			for (i = 0; i &lt; 192; i++)//小麦，白粉病</span><br><span class="line">			&#123;</span><br><span class="line">				if (bai.bfzuobiao[i][0] != 0 &amp;&amp; bai.bfzuobiao[i][1] != 0)  </span><br><span class="line">				&#123;</span><br><span class="line">					baifen(bai.bfzuobiao[i][0], bai.bfzuobiao[i][1], dianbai[i]);</span><br><span class="line">					ny4[jg4][0] = bai.bfzuobiao[i][0];</span><br><span class="line">					ny4[jg4][1] = bai.bfzuobiao[i][1];</span><br><span class="line">					jg4++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (nongyao[5] == 1)//小农田</span><br><span class="line">		&#123;</span><br><span class="line">			bmp_convert(&quot;5.bmp&quot;, &quot;5.dbm&quot;);</span><br><span class="line">			open_display();</span><br><span class="line">			show_dbm(0, 100, &quot;5.dbm&quot;, 0);</span><br><span class="line">			tian();</span><br><span class="line">			bmp_convert(&quot;stone.bmp&quot;, &quot;stone.dbm&quot;);</span><br><span class="line">			open_display();</span><br><span class="line">			drawPlants();</span><br><span class="line">			drawdxg(250, 240);</span><br><span class="line">			show_dbm(194, 447, &quot;stone.dbm&quot;, 0);</span><br><span class="line">			drawScarecrow(570, 61);</span><br><span class="line">			drawScarecrow(500, 325);</span><br><span class="line">			binghai();</span><br><span class="line"></span><br><span class="line">			filePointer1 = fopen(&quot;data//xtxmnian.dat&quot;, &quot;r&quot;);</span><br><span class="line">			for (i = 0; i &lt; 192; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				if (fscanf(filePointer1, &quot;%d %d&quot;, &amp;ny0[jg0][0], &amp;ny0[jg0][1]) != -1)</span><br><span class="line">					jg0++;</span><br><span class="line">				else</span><br><span class="line">					break;</span><br><span class="line">			&#125;</span><br><span class="line">			fclose(filePointer1);</span><br><span class="line"></span><br><span class="line">			filePointer2 = fopen(&quot;data//xtymmian.dat&quot;, &quot;r&quot;);</span><br><span class="line">			for (i = 0; i &lt; 192; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				if (fscanf(filePointer2, &quot;%d %d&quot;, &amp;ny0[jg0][0], &amp;ny0[jg0][1]) != -1)</span><br><span class="line">					jg0++;</span><br><span class="line">				else</span><br><span class="line">					break;</span><br><span class="line">			&#125;</span><br><span class="line">			fclose(filePointer2);</span><br><span class="line"></span><br><span class="line">			filePointer3 = fopen(&quot;data//xtmhmian.dat&quot;, &quot;r&quot;);</span><br><span class="line">			for (i = 0; i &lt; 192; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				if (fscanf(filePointer3, &quot;%d %d&quot;, &amp;ny1[jg1][0], &amp;ny1[jg1][1]) != -1)</span><br><span class="line">					jg1++;</span><br><span class="line">				else</span><br><span class="line">					break;</span><br><span class="line">			&#125;</span><br><span class="line">			fclose(filePointer3);</span><br><span class="line"></span><br><span class="line">			filePointer4 = fopen(&quot;data//xtymnian.dat&quot;, &quot;r&quot;);</span><br><span class="line">			for (i = 0; i &lt; 192; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				if (fscanf(filePointer4, &quot;%d %d&quot;, &amp;ny2[jg2][0], &amp;ny2[jg2][1]) != -1)</span><br><span class="line">					jg2++;</span><br><span class="line">				else</span><br><span class="line">					break;</span><br><span class="line">			&#125;</span><br><span class="line">			fclose(filePointer4);</span><br><span class="line"></span><br><span class="line">			filePointer5 = fopen(&quot;data//xtmhxiu.dat&quot;, &quot;r&quot;);</span><br><span class="line">			for (i = 0; i &lt; 192; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				if (fscanf(filePointer5, &quot;%d %d&quot;, &amp;ny3[jg3][0], &amp;ny3[jg3][1]) != -1)</span><br><span class="line">					jg3++;</span><br><span class="line">				else</span><br><span class="line">					break;</span><br><span class="line">			&#125;</span><br><span class="line">			fclose(filePointer5);</span><br><span class="line"></span><br><span class="line">			filePointer6 = fopen(&quot;data//xtxmbai.dat&quot;, &quot;r&quot;);</span><br><span class="line">			for (i = 0; i &lt; 192; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				if (fscanf(filePointer6, &quot;%d %d&quot;, &amp;ny4[jg4][0], &amp;ny4[jg4][1]) != -1)</span><br><span class="line">					jg4++;</span><br><span class="line">				else</span><br><span class="line">					break;</span><br><span class="line">			&#125;</span><br><span class="line">			fclose(filePointer6);</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[0] == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			if (jg0 == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				nongyao[0] = 0;</span><br><span class="line">				huigui();</span><br><span class="line">				return 7;</span><br><span class="line">			&#125;</span><br><span class="line">			if (jg0 &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				grandjudge = 0;</span><br><span class="line">				*amtjudge = jg0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[1] == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			if (jg1 == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				nongyao[1] = 0;</span><br><span class="line">				huigui();</span><br><span class="line">				return 7;</span><br><span class="line">			&#125;</span><br><span class="line">			if (jg1 &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				grandjudge = 1;</span><br><span class="line">				*amtjudge = jg1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[2] == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			if (jg2 == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				nongyao[2] = 0;</span><br><span class="line">				huigui();</span><br><span class="line">				return 7;</span><br><span class="line">			&#125;</span><br><span class="line">			if (jg2 &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				grandjudge = 2;</span><br><span class="line">				*amtjudge = jg2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[3] == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			if (jg3 == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				nongyao[3] = 0;</span><br><span class="line">				huigui();</span><br><span class="line">				return 7;</span><br><span class="line">			&#125;</span><br><span class="line">			if (jg3 &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				grandjudge = 3;</span><br><span class="line">				*amtjudge = jg3;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[4] == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			if (jg4 == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				nongyao[4] = 0;</span><br><span class="line">				huigui();</span><br><span class="line">				return 7;</span><br><span class="line">			&#125;</span><br><span class="line">			if (jg4 &gt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				grandjudge = 4;</span><br><span class="line">				*amtjudge = jg4;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		ljgh(grandjudge, amtjudge, ny0, ny1, ny2, ny3, ny4, rount);</span><br><span class="line">		*a10 = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	if (*a10 == 2)</span><br><span class="line">	&#123;</span><br><span class="line">		therount(rount, amtjudge);</span><br><span class="line">		*a10 = 3;</span><br><span class="line">	&#125;</span><br><span class="line">	if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		return -1;//关闭BC。</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		*a10 = 1;</span><br><span class="line">		for (i = 0; i &lt; 5; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if (nongyao[i] &gt; 1)</span><br><span class="line">			&#123;</span><br><span class="line">				nongyao[i] = 0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		showbiankuang(600, 0, 640, 40);</span><br><span class="line">		showbiankuang(0, 0, 80, 40);</span><br><span class="line">		return 8;//返回农药选择界面</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	if (*a10 == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(100, 5, 240, 50) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			*a10 = 2;</span><br><span class="line">		&#125;</span><br><span class="line">		showbiankuang(100, 5, 240, 50);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	if (*a10 == 3)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(260, 5, 400, 50) == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			if (nongyao[5] == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				clrmous(MouseX, MouseY);</span><br><span class="line">				anima1(rount, amtjudge);</span><br><span class="line">				*a10 = 4;</span><br><span class="line">			&#125;</span><br><span class="line">			else if (nongyao[5] == 1)</span><br><span class="line">			&#123;</span><br><span class="line">				clrmous(MouseX, MouseY);</span><br><span class="line">				anima2(rount, amtjudge);</span><br><span class="line">				*a10 = 5;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		showbiankuang(260, 5, 400, 50);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	if (*a10 == 4)</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; 5; i++)</span><br><span class="line">			if (nongyao[i] == 2)</span><br><span class="line">				break;</span><br><span class="line">		if (i == 0)</span><br><span class="line">			for (j = 0; j &lt; 192; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				nian.bfzuobiao[j][0] = 0;</span><br><span class="line">				nian.bfzuobiao[j][1] = 0;</span><br><span class="line">				mian.bfzuobiao[j][0] = 0;</span><br><span class="line">				mian.bfzuobiao[j][1] = 0;</span><br><span class="line">			&#125;</span><br><span class="line">		if (i == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			for (j =192; j &lt; 384; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				nian.bfzuobiao[j][0] = 0;</span><br><span class="line">				nian.bfzuobiao[j][1] = 0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (i == 4)</span><br><span class="line">		&#123;</span><br><span class="line">			for (j = 0; j &lt; 192; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				bai.bfzuobiao[j][0] = 0;</span><br><span class="line">				bai.bfzuobiao[j][1] = 0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">			nongyao[i] = 0;</span><br><span class="line">		*a10 = 1;</span><br><span class="line">		huigui2(i);</span><br><span class="line">		return 2;</span><br><span class="line">	&#125;</span><br><span class="line">	if(*a10==5)</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; 5; i++)</span><br><span class="line">			if (nongyao[i] == 2)</span><br><span class="line">				break;</span><br><span class="line">		if (i == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			filePointer1 = fopen(&quot;data//xtxmnian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer1);</span><br><span class="line">			filePointer1 = fopen(&quot;data//xmncdian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer1);</span><br><span class="line"></span><br><span class="line">			filePointer2 = fopen(&quot;data//xtymmian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer2);</span><br><span class="line">			filePointer2 = fopen(&quot;data//ymmldian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer2);</span><br><span class="line">		&#125;</span><br><span class="line">		if (i == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			filePointer3 = fopen(&quot;data//xtmhmian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer3);</span><br><span class="line">			filePointer3 = fopen(&quot;data//mhmldian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer3);</span><br><span class="line">		&#125;</span><br><span class="line">		if (i == 2)</span><br><span class="line">		&#123;</span><br><span class="line">			filePointer4 = fopen(&quot;data//xtymnian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer4);</span><br><span class="line">			filePointer4 = fopen(&quot;data//ymncdian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer4);</span><br><span class="line">		&#125;</span><br><span class="line">		if (i == 3)</span><br><span class="line">		&#123;</span><br><span class="line">			filePointer5 = fopen(&quot;data//xtmhxiu.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer5);</span><br><span class="line">			filePointer5 = fopen(&quot;data//mhxbdian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer5);</span><br><span class="line">		&#125;</span><br><span class="line">		if (i == 4)</span><br><span class="line">		&#123;</span><br><span class="line">			filePointer6 = fopen(&quot;data//xtxmbai.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer6);</span><br><span class="line">			filePointer6 = fopen(&quot;data//xmbfdian.dat&quot;, &quot;w&quot;);</span><br><span class="line">			fclose(filePointer6);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">			nongyao[i] = 0;</span><br><span class="line">		*a10 = 1;</span><br><span class="line">		huigui2(i);</span><br><span class="line">		return 3;</span><br><span class="line">	&#125;</span><br><span class="line">	return 9;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ljgh(int grandjudge, int *judge, int ny0[384][2], int ny1[192][2], int ny2[192][2], int ny3[192][2], int ny4[192][2],int rount[386][2])//路径规划</span><br><span class="line">&#123;</span><br><span class="line">	int i = 0, j = 0, k = *judge-1,K = 1 + *judge;</span><br><span class="line">	int len1 = 0, len2 = 0;</span><br><span class="line">    int  dist1 = 0, dist2 = 0;</span><br><span class="line">	int temp0 = 0, temp1 = 0;</span><br><span class="line">	if (grandjudge == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; *judge; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			j = i + 1;</span><br><span class="line">			rount[j][0] = ny0[i][0];</span><br><span class="line">			rount[j][1] = ny0[i][1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (grandjudge == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; *judge; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			j = i + 1;</span><br><span class="line">			rount[j][0] = ny1[i][0];</span><br><span class="line">			rount[j][1] = ny1[i][1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (grandjudge == 2)</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; *judge; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			j = i + 1;</span><br><span class="line">			rount[j][0] = ny2[i][0];</span><br><span class="line">			rount[j][1] = ny2[i][1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (grandjudge == 3)</span><br><span class="line">	&#123;</span><br><span class="line">		for (i = 0; i &lt; *judge; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			j = i + 1;</span><br><span class="line">			rount[j][0] = ny3[i][0];</span><br><span class="line">			rount[j][1] = ny3[i][1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (grandjudge == 4)</span><br><span class="line">	&#123;</span><br><span class="line">		j = 1;</span><br><span class="line">		for (i = 0; i &lt; *judge; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			j = i + 1;</span><br><span class="line">			rount[j][0] = ny4[i][0];</span><br><span class="line">			rount[j][1] = ny4[i][1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	rount[K][0] = rount[0][0];</span><br><span class="line">	rount[K][1] = rount[0][1];</span><br><span class="line">	for (i = 0; i &lt; k; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		len1 = rount[i + 1][0] - rount[i][0];</span><br><span class="line">		len2 = rount[i + 1][1] - rount[i][1];</span><br><span class="line">		len1 = len1 / 25;</span><br><span class="line">		len2 = len2 / 25;</span><br><span class="line">		dist1 = len1 * len1 + len2 * len2;</span><br><span class="line">		for (j = i + 2; j &lt; K; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			len1 = rount[j][0] - rount[i][0];</span><br><span class="line">			len2 = rount[j][1] - rount[i][1];</span><br><span class="line">			len1 = len1 / 25;</span><br><span class="line">			len2 = len2 / 25;</span><br><span class="line">			dist2 = len1 * len1 + len2 * len2;</span><br><span class="line">			if (dist2 &lt; dist1)</span><br><span class="line">			&#123;</span><br><span class="line">				dist1 = dist2;</span><br><span class="line">				temp0 = rount[j][0];</span><br><span class="line">				temp1 = rount[j][1];</span><br><span class="line">				rount[j][0] = rount[i + 1][0];</span><br><span class="line">				rount[j][1] = rount[i + 1][1];</span><br><span class="line">				rount[i+1][0] = temp0;</span><br><span class="line">				rount[i+1][1] = temp1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">void therount(int rount[386][2], int * amtjudge)//路径画面</span><br><span class="line">&#123;</span><br><span class="line">	int i = 0;</span><br><span class="line"></span><br><span class="line">	for (i=0;i&lt;* amtjudge+1;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		setcolor(RED);</span><br><span class="line">		line(rount[i][0], rount[i][1], rount[i + 1][0], rount[i + 1][1]);</span><br><span class="line">	&#125;</span><br><span class="line">	line(rount[*amtjudge][0], rount[*amtjudge][1], rount[0][0], rount[0][1]);</span><br><span class="line">&#125;</span><br><span class="line">void huigui(void)//回归</span><br><span class="line">&#123;</span><br><span class="line">	cleardevice();</span><br><span class="line">	clrmous(MouseX, MouseY);</span><br><span class="line">    puthz(150, 200, &quot;未发现相关病状&quot;, 32, 40, RED);	</span><br><span class="line">	setcolor(BLUE);</span><br><span class="line">	rectangle(110, 300, 530, 380);</span><br><span class="line">	puthz(125, 322, &quot;回归中&quot;, 32, 50, RED);</span><br><span class="line">	setfillstyle(1, BLUE);</span><br><span class="line">	bar(265, 320, 305, 360);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(315, 320, 355, 360);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(365, 320, 405, 360);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(415, 320, 455, 360);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(465, 320, 505, 360);</span><br><span class="line">	delay(1000);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void huigui2(int i)//喷洒农药后回归</span><br><span class="line">&#123;</span><br><span class="line">	cleardevice();</span><br><span class="line">	clrmous(MouseX, MouseY);</span><br><span class="line">	puthz(100, 150, &quot;已清除下列植物的下列病状&quot;, 32, 40, BLUE);</span><br><span class="line">	if (i == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		puthz(100, 250, &quot;小麦黏虫&quot;, 32, 40, RED);</span><br><span class="line">		puthz(300, 250, &quot;玉米棉铃虫&quot;, 32, 40, RED);</span><br><span class="line">	&#125;</span><br><span class="line">	if (i == 1)</span><br><span class="line">		puthz(100, 250, &quot;棉花棉铃虫&quot;, 32, 40, RED);</span><br><span class="line">	if (i == 2)</span><br><span class="line">		puthz(100, 250, &quot;玉米黏虫&quot;, 32, 40, RED);</span><br><span class="line">	if (i == 3)</span><br><span class="line">		puthz(100, 250, &quot;棉花锈病&quot;, 32, 40, RED);</span><br><span class="line">	if (i == 4)</span><br><span class="line">		puthz(100, 250, &quot;小麦白粉病&quot;, 32, 40, RED);</span><br><span class="line"></span><br><span class="line">	setcolor(BLUE);</span><br><span class="line">	rectangle(90, 350, 550, 430);</span><br><span class="line">	puthz(100, 372, &quot;回归农田&quot;, 32, 50, RED);</span><br><span class="line">	setfillstyle(1, BLUE);</span><br><span class="line">	bar(285, 370, 325, 410);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(335, 370, 375, 410);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(385, 370, 425, 410);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(435, 370, 475, 410);</span><br><span class="line">	delay(400);</span><br><span class="line">	bar(485, 370, 525, 410);</span><br><span class="line">	delay(1000);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void nyphoto(int x, int y)//农药图像</span><br><span class="line">&#123;</span><br><span class="line">	setfillstyle(1, LIGHTBLUE);</span><br><span class="line">	bar(x, y+2, x + 3, y + 5);</span><br><span class="line">	bar(x + 10, y + 7, x + 13, y + 10);</span><br><span class="line">	bar(x + 20, y+3, x + 23, y + 6);</span><br><span class="line">	bar(x, y + 10, x + 3, y + 13);</span><br><span class="line">	bar(x + 20, y + 5, x + 23, y + 8);</span><br><span class="line">	bar(x + 20, y+15, x + 23, y + 18);</span><br><span class="line">	bar(x, y + 19, x + 3, y + 22);</span><br><span class="line">	bar(x + 12, y + 22, x + 15, y + 25);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void anima1(int rount[386][2], int* amtjudge)//大农田路径动画</span><br><span class="line">&#123;</span><br><span class="line">	void* buffer1 = malloc(imagesize(0, 0, 22, 26));</span><br><span class="line">	int* x1 = malloc(sizeof(int));</span><br><span class="line">	int* y1 = malloc(sizeof(int));</span><br><span class="line">	int i,k;</span><br><span class="line">	*x1 = rount[0][0];</span><br><span class="line">	*y1 = rount[0][1];</span><br><span class="line">	for (i = 0; i &lt; *amtjudge+1; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		setcolor(CYAN);</span><br><span class="line">		line(rount[i][0], rount[i][1], rount[i + 1][0], rount[i + 1][1]);</span><br><span class="line">		do</span><br><span class="line">		&#123;</span><br><span class="line">			 k = linemove1(x1, y1, buffer1);</span><br><span class="line">		&#125; while (k == 1);</span><br><span class="line">		getimage(*x1 - 6, *y1 - 8, *x1 + 16, *y1 + 18, buffer1);</span><br><span class="line">		suofangtu(*x1, *y1, 1);</span><br><span class="line">		delay(100);</span><br><span class="line">		putimage(*x1 - 6, *y1 - 8, buffer1, COPY_PUT);</span><br><span class="line">		if (i &lt; *amtjudge)</span><br><span class="line">			nyphoto(rount[i + 1][0], rount[i + 1][1]);</span><br><span class="line">	&#125;		</span><br><span class="line">	getimage(*x1 - 6, *y1 - 8, *x1 + 16, *y1 + 18, buffer1);</span><br><span class="line">	suofangtu(*x1, *y1, 1);</span><br><span class="line">	delay(500);</span><br><span class="line">	putimage(*x1 - 6, *y1 - 8, buffer1, COPY_PUT);</span><br><span class="line">	free(buffer1);</span><br><span class="line">	free(x1);</span><br><span class="line">	free(y1);</span><br><span class="line">&#125;</span><br><span class="line">void anima2(int rount[386][2], int* amtjudge)//小农田路径动画</span><br><span class="line">&#123;</span><br><span class="line">	void* buffer1 = malloc(imagesize(0, 0, 20, 10));</span><br><span class="line">	int* x1 = malloc(sizeof(int));</span><br><span class="line">	int* y1 = malloc(sizeof(int));</span><br><span class="line">	int i, k ;</span><br><span class="line">	for (i = 0; i &lt; *amtjudge + 1; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		*x1 = rount[i][0];</span><br><span class="line">		*y1 = rount[i][1];</span><br><span class="line">		setcolor(CYAN);</span><br><span class="line">		rectangle(185, 443, 233, 480);</span><br><span class="line">		rectangle(184, 444, 234, 479);</span><br><span class="line">		rectangle(245, 225, 287, 323);</span><br><span class="line">		rectangle(244, 226, 288, 322);</span><br><span class="line">		rectangle(553, 43, 582, 136);</span><br><span class="line">		rectangle(552, 44, 583, 135);</span><br><span class="line">		rectangle(483, 307, 512, 400);</span><br><span class="line">		rectangle(482, 308, 513, 399);</span><br><span class="line">		line(rount[i][0], rount[i][1], rount[i + 1][0], rount[i + 1][1]);</span><br><span class="line">		setcolor(BLUE);</span><br><span class="line">		rectangle(185, 444, 233, 479);</span><br><span class="line">		rectangle(245, 226, 287, 322);</span><br><span class="line">		rectangle(553, 44, 582, 135);</span><br><span class="line">		rectangle(483, 308, 512, 399);</span><br><span class="line"></span><br><span class="line">		if (rount[i][0] &lt; rount[i + 1][0]&amp;&amp; rount[i][1] &gt;= rount[i + 1][1])//第一象限</span><br><span class="line">		&#123;</span><br><span class="line">			do</span><br><span class="line">			&#123;</span><br><span class="line">				k = linemove21(6,x1, y1, buffer1);</span><br><span class="line">			&#125; while (k == 1);</span><br><span class="line">		&#125;</span><br><span class="line">		else if (rount[i][0] &gt;= rount[i + 1][0] &amp;&amp; rount[i][1] &gt; rount[i + 1][1])//第二象限</span><br><span class="line">		&#123;</span><br><span class="line">			do</span><br><span class="line">			&#123;</span><br><span class="line">				k = linemove22(6, x1, y1, buffer1);</span><br><span class="line">			&#125; while (k == 1);</span><br><span class="line">		&#125;</span><br><span class="line">		else if (rount[i][0] &gt; rount[i + 1][0] &amp;&amp; rount[i][1] &lt;= rount[i + 1][1])//第三象限</span><br><span class="line">		&#123;</span><br><span class="line">			do</span><br><span class="line">			&#123;</span><br><span class="line">				k = linemove22(0, x1, y1, buffer1);</span><br><span class="line">			&#125; while (k == 1);</span><br><span class="line">		&#125;</span><br><span class="line">		else if (rount[i][0] &lt;= rount[i + 1][0] &amp;&amp; rount[i][1] &lt; rount[i + 1][1])//第三象限</span><br><span class="line">		&#123;</span><br><span class="line">			do</span><br><span class="line">			&#123;</span><br><span class="line">				k = linemove21(0, x1, y1, buffer1);</span><br><span class="line">			&#125; while (k == 1);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		getimage(*x1, *y1, *x1 + 20, *y1 + 10, buffer1);</span><br><span class="line">		fushitu(*x1, *y1);</span><br><span class="line">		delay(100);</span><br><span class="line">		putimage(*x1 , *y1 , buffer1, COPY_PUT);</span><br><span class="line">		setcolor(RED);</span><br><span class="line">		line(rount[i][0], rount[i][1], rount[i + 1][0], rount[i + 1][1]);</span><br><span class="line">		if (i &lt; *amtjudge)</span><br><span class="line">			nyphoto(rount[i + 1][0], rount[i + 1][1]);</span><br><span class="line">	&#125;</span><br><span class="line">	getimage(*x1, *y1, *x1 + 20, *y1 +10, buffer1);</span><br><span class="line">	fushitu(*x1, *y1);</span><br><span class="line">	delay(500);</span><br><span class="line">	putimage(*x1 , *y1, buffer1, COPY_PUT);</span><br><span class="line">	free(buffer1);</span><br><span class="line">	free(x1);</span><br><span class="line">	free(y1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int linemove1( int* x, int* y, int* buffer1)//大农田沿线段运动</span><br><span class="line">&#123;</span><br><span class="line">	int a[10][2] = &#123; &#123;-1,0&#125;, &#123;-1,-1&#125;,&#123;0,-1&#125;,&#123;1,-1&#125;,&#123;1,0&#125;,&#123;1,1&#125;,&#123;0,1&#125;,&#123;-1,1&#125;,&#123;-1,0&#125;, &#123;-1,-1&#125; &#125;;</span><br><span class="line">	int b, judge = 0;</span><br><span class="line">	int i;</span><br><span class="line">	int x0 = 0, y0 = 0;</span><br><span class="line">	for (i = 1; i &lt; 9; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		b = getpixel(a[i][0] + *x, a[i][1] + *y);</span><br><span class="line">		if (b == CYAN)</span><br><span class="line">		&#123;</span><br><span class="line">			x0 = a[i][0];</span><br><span class="line">			y0 = a[i][1];</span><br><span class="line">			judge = 1;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	getimage(*x-6, *y-8, *x + 16, *y + 18, buffer1);</span><br><span class="line">	suofangtu(*x, *y,1);</span><br><span class="line">	delay(8);</span><br><span class="line">	putimage(*x-6, *y-8, buffer1, COPY_PUT);</span><br><span class="line">	if (judge == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		putpixel(*x + a[i-1][0], *y + a[i-1][1], RED);</span><br><span class="line">		putpixel(*x + a[i][0], *y + a[i][1], RED);</span><br><span class="line">		putpixel(*x + a[i+1][0], *y + a[i+1][1], RED);</span><br><span class="line">		putpixel(*x , *y , RED);</span><br><span class="line"></span><br><span class="line">		*x = *x + x0;</span><br><span class="line">		*y = *y + y0;</span><br><span class="line">		putpixel(*x,*y, RED);</span><br><span class="line">	&#125;</span><br><span class="line">	return judge;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int linemove21(int judge1, int* x, int* y, int* buffer1)//小农田沿线段运动(顺时针)</span><br><span class="line">&#123;</span><br><span class="line">	int a[17][2] = &#123; &#123;0,-1&#125;,&#123;1,-1&#125;,&#123;1,0&#125;,&#123;1,1&#125;,&#123;0,1&#125;,&#123;-1,1&#125;,&#123;-1,0&#125;, &#123;-1,-1&#125;,&#123;0,-1&#125;,&#123;1,-1&#125;,&#123;1,0&#125;,&#123;1,1&#125;,&#123;0,1&#125;,&#123;-1,1&#125;,&#123;-1,0&#125;, &#123;-1,-1&#125;,&#123;0,-1&#125; &#125;;</span><br><span class="line">	int b, judge = 0;</span><br><span class="line">	int i;</span><br><span class="line">	int x0 = 0, y0 = 0;</span><br><span class="line">	for (i = judge1; i &lt; judge1+8; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		b = getpixel(a[i][0] + *x, a[i][1] + *y);</span><br><span class="line">		if (b == CYAN)</span><br><span class="line">		&#123;</span><br><span class="line">			x0 = a[i][0];</span><br><span class="line">			y0 = a[i][1];</span><br><span class="line">			judge = 1;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	getimage(*x, *y, *x + 20, *y + 10, buffer1);</span><br><span class="line">	fushitu(*x, *y);</span><br><span class="line">	delay(8);</span><br><span class="line">	putimage(*x, *y, buffer1, COPY_PUT);</span><br><span class="line">	if (judge == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		putpixel(*x + a[i][0], *y + a[i][1], RED);</span><br><span class="line">		putpixel(*x + a[i+1][0], *y + a[i+1][1], RED);</span><br><span class="line">		putpixel(*x , *y , RED);</span><br><span class="line"></span><br><span class="line">		*x = *x + x0;</span><br><span class="line">		*y = *y + y0;</span><br><span class="line">		putpixel(*x,*y, RED);</span><br><span class="line">	&#125;</span><br><span class="line">	return judge;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int linemove22(int judge1, int* x, int* y, int* buffer1)//小农田沿线段运动(逆时针)</span><br><span class="line">&#123;</span><br><span class="line">	int a[17][2] = &#123; &#123;0,-1&#125;, &#123;-1,-1&#125;, &#123;-1,0&#125;, &#123;-1,1&#125;, &#123;0,1&#125; , &#123;1,1&#125;, &#123;1,0&#125;, &#123;1,-1&#125;, &#123;0,-1&#125;, &#123;-1,-1&#125;, &#123;-1,0&#125;, &#123;-1,1&#125;, &#123;0,1&#125; , &#123;1,1&#125;, &#123;1,0&#125;, &#123;1,-1&#125;,&#123;0,-1&#125; &#125;;</span><br><span class="line">	int b, judge = 0;</span><br><span class="line">	int i;</span><br><span class="line">	int x0 = 0, y0 = 0;</span><br><span class="line">	for (i = judge1; i &lt; judge1+8; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		b = getpixel(a[i][0] + *x, a[i][1] + *y);</span><br><span class="line">		if (b == CYAN)</span><br><span class="line">		&#123;</span><br><span class="line">			x0 = a[i][0];</span><br><span class="line">			y0 = a[i][1];</span><br><span class="line">			judge = 1;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	getimage(*x, *y, *x + 20, *y + 10, buffer1);</span><br><span class="line">	fushitu(*x, *y);</span><br><span class="line">	delay(8);</span><br><span class="line">	putimage(*x, *y, buffer1, COPY_PUT);</span><br><span class="line">	if (judge == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		putpixel(*x + a[i][0], *y + a[i][1], RED);</span><br><span class="line">		putpixel(*x + a[i+1][0], *y + a[i+1][1], RED);</span><br><span class="line">		putpixel(*x, *y, RED);</span><br><span class="line"></span><br><span class="line">		*x = *x + x0;</span><br><span class="line">		*y = *y + y0;</span><br><span class="line">		putpixel(*x, *y, RED);</span><br><span class="line">	&#125;</span><br><span class="line">	return judge;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="pensa-h"><a href="#pensa-h" class="headerlink" title="pensa.h"></a>pensa.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _PENSA_H_</span><br><span class="line">#define _PENSA_H_</span><br><span class="line"></span><br><span class="line">int zhuzhan(int* a8,int nongyao[6]);</span><br><span class="line">void peizhi(void);</span><br><span class="line">void drhook(int x, int y);</span><br><span class="line">void cross(int x, int y);</span><br><span class="line">void drline(int x, int y);</span><br><span class="line"></span><br><span class="line">#endif </span><br></pre></td></tr></table></figure>

<h3 id="pensa-c"><a href="#pensa-c" class="headerlink" title="pensa.c"></a>pensa.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br></pre></td><td class="code"><pre><span class="line"> #include &quot;common.h&quot;</span><br><span class="line"></span><br><span class="line">int zhuzhan(int* a8,int nongyao[6])</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	if (*a8 == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		peizhi();</span><br><span class="line">		*a8 = 0;</span><br><span class="line">	&#125;</span><br><span class="line">	showbiankuang(600, 0, 640, 40);</span><br><span class="line">	showbiankuang(0, 0, 80, 40);</span><br><span class="line">	showbiankuang(370, 0, 580, 60);</span><br><span class="line">	if (mouse_press(600, 0, 640, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		return -1;//关闭BC。</span><br><span class="line">	&#125;</span><br><span class="line">	else if (mouse_press(0, 0, 80, 40) == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		*a8 = 1;</span><br><span class="line">		if (nongyao[5] == 0)</span><br><span class="line">			return 2;</span><br><span class="line">		else if (nongyao[5] == 1)</span><br><span class="line">			return 3;</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[0] == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(300, 145, 440, 225) == 1 || mouse_press(160, 225, 300, 305) == 1)//氟铃脲</span><br><span class="line">		&#123;</span><br><span class="line">			*a8 = 1;</span><br><span class="line">			nongyao[0] = 1;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[2] == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(300, 225, 440, 305) == 1)//氯氰菊酯</span><br><span class="line">		&#123;</span><br><span class="line">			*a8 = 1;</span><br><span class="line">			nongyao[2] = 1;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[4] == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(160, 305, 300, 385) == 1)//菌酯</span><br><span class="line">		&#123;</span><br><span class="line">			*a8 = 1;</span><br><span class="line">			nongyao[4] = 1;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[5] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (nongyao[1] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			if (mouse_press(440, 145, 580, 225) == 1)//甲胺磷</span><br><span class="line">			&#123;</span><br><span class="line">				*a8 = 1;</span><br><span class="line">				nongyao[1] = 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[3] == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			if (mouse_press(440, 385, 580, 465) == 1)//甲维盐</span><br><span class="line">			&#123;</span><br><span class="line">				*a8 = 1;</span><br><span class="line">				nongyao[3] = 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	if (nongyao[0] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(410, 145, 440, 175) == 1 || mouse_press(270, 225, 300, 255) == 1)//氟铃脲</span><br><span class="line">		&#123;</span><br><span class="line">			*a8 = 1;</span><br><span class="line">			nongyao[0] = 0;</span><br><span class="line">			delay(400);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[2] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(410, 225, 440, 255) == 1)//氯氰菊酯</span><br><span class="line">		&#123;</span><br><span class="line">			*a8 = 1;</span><br><span class="line">			nongyao[2] = 0;</span><br><span class="line">			delay(400);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[4] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (mouse_press(270, 305, 300, 335) == 1)//菌酯</span><br><span class="line">		&#123;</span><br><span class="line">			*a8 = 1;</span><br><span class="line">			nongyao[4] = 0;</span><br><span class="line">			delay(400);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[5] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		if (nongyao[1] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			if (mouse_press(550, 145, 580, 175) == 1)//甲胺磷</span><br><span class="line">			&#123;</span><br><span class="line">				*a8 = 1;</span><br><span class="line">				nongyao[1] = 0;</span><br><span class="line">				delay(400);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (nongyao[3] == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			if (mouse_press(550, 385, 580, 415) == 1)//甲维盐</span><br><span class="line">			&#123;</span><br><span class="line">				*a8 = 1;</span><br><span class="line">				nongyao[3] = 0;</span><br><span class="line">				delay(400);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	if (mouse_press(370, 0, 580, 60) == 1)//装配农药</span><br><span class="line">	&#123;</span><br><span class="line">		*a8 = 1;</span><br><span class="line">		return 8;</span><br><span class="line">	&#125;</span><br><span class="line">	return 7;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void peizhi(void)//配置界面绘画</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int x,y;</span><br><span class="line">	cleardevice();</span><br><span class="line">	clrmous(MouseX, MouseY);</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	rectangle(600, 0, 640, 40);</span><br><span class="line">	line(600, 0, 640, 40);</span><br><span class="line">	line(640, 0, 600, 40);//关闭按钮</span><br><span class="line"></span><br><span class="line">	rectangle(0, 0, 80, 40);</span><br><span class="line">	puthz(5, 5, &quot;返回&quot;, 32, 40, GREEN);</span><br><span class="line">	setfillstyle(1, BLUE);</span><br><span class="line">	bar(20, 65, 580, 465);</span><br><span class="line">	bar(370, 0, 580, 60);</span><br><span class="line">	puthz(390, 10, &quot;装配农药&quot;, 32, 40, WHITE);</span><br><span class="line">	puthz(100, 10, &quot;选择配置农药&quot;, 32, 40, BLUE);</span><br><span class="line">	setcolor(LIGHTGRAY);</span><br><span class="line">	rectangle(370, 0, 580, 60);</span><br><span class="line">	line(20, 65, 160, 145);</span><br><span class="line">	for (i = 0; i &lt; 6; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		x = 20 + 140 * i;</span><br><span class="line">		line(x, 65, x, 465);</span><br><span class="line">		line(x+1, 65, x+1, 465);</span><br><span class="line">		y = 65 + 80 * i;</span><br><span class="line">		line(20, y, 580, y);</span><br><span class="line">		line(20, y+1, 580, y+1);</span><br><span class="line">	&#125;</span><br><span class="line">	puthz(80, 70, &quot;植株种类&quot;, 16, 20, WHITE);</span><br><span class="line">	puthz(30, 120, &quot;病害种类&quot;, 16, 20, WHITE);</span><br><span class="line">	puthz(25, 170, &quot;棉铃虫&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(25, 250, &quot;黏虫&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(25, 330, &quot;白粉病&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(25, 410, &quot;锈病&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(165, 90, &quot;小麦&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(165, 255, &quot;氟铃脲&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(165, 335, &quot;菌酯&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(305, 90, &quot;玉米&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(305, 175, &quot;氟铃脲&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(305, 255, &quot;氯氰菊酯&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(445, 90, &quot;棉花&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(445, 175, &quot;甲胺磷&quot;, 24, 30, WHITE);</span><br><span class="line">	puthz(445, 415, &quot;甲维盐&quot;, 24, 30, WHITE);</span><br><span class="line">	drline(160, 145);</span><br><span class="line">	drline(160, 385);</span><br><span class="line">	drline(300, 305);</span><br><span class="line">	drline(300, 385);</span><br><span class="line">	drline(440, 225);</span><br><span class="line">	drline(440, 305);</span><br><span class="line"></span><br><span class="line">	if (nongyao[0] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, WHITE);</span><br><span class="line">		bar(300, 145, 440, 225);</span><br><span class="line">		bar(160, 225, 300, 305);</span><br><span class="line">		puthz(165, 255, &quot;氟铃脲&quot;, 24, 30, BLUE);</span><br><span class="line">		puthz(305, 175, &quot;氟铃脲&quot;, 24, 30, BLUE);</span><br><span class="line">		drhook(300, 145);</span><br><span class="line">		drhook(160, 225);</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(410, 145, 440, 175);</span><br><span class="line">		bar(270, 225, 300, 255);</span><br><span class="line">		cross(410, 145);</span><br><span class="line">		cross(270, 225);</span><br><span class="line">		rectangle(300, 145, 440, 225);</span><br><span class="line">		rectangle(160, 225, 300, 305);</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[1] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, WHITE);</span><br><span class="line">		bar(440, 145, 580, 225);</span><br><span class="line">		puthz(445, 175, &quot;甲胺磷&quot;, 24, 30, BLUE);</span><br><span class="line">		drhook(440, 145);</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(550, 145, 580, 175);</span><br><span class="line">		cross(550, 145);</span><br><span class="line">		rectangle(440, 145, 580, 225);</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[2] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, WHITE);</span><br><span class="line">		bar(300, 225, 440, 305);</span><br><span class="line">		puthz(305, 255, &quot;氯氰菊酯&quot;, 24, 30, BLUE);</span><br><span class="line">		drhook(300, 225);</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(410, 225, 440, 255);</span><br><span class="line">		cross(410, 225);</span><br><span class="line">		rectangle(300, 225, 440, 305);</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[3] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, WHITE);</span><br><span class="line">		bar(440, 385, 580, 465);</span><br><span class="line">		puthz(445, 415, &quot;甲维盐&quot;, 24, 30, BLUE);</span><br><span class="line">		drhook(440, 385);</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(550, 385, 580, 415);</span><br><span class="line">		cross(550, 385);</span><br><span class="line">		rectangle(440, 385, 580, 465);</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[4] == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, WHITE);</span><br><span class="line">		bar(160, 305, 300, 385);</span><br><span class="line">		puthz(165, 335, &quot;菌酯&quot;, 24, 30, BLUE);</span><br><span class="line">		drhook(160, 305);</span><br><span class="line">		setfillstyle(1, RED);</span><br><span class="line">		bar(270, 305, 300, 335);</span><br><span class="line">		cross(270, 305);</span><br><span class="line">		rectangle(160, 305, 300, 385);</span><br><span class="line">	&#125;</span><br><span class="line">	if (nongyao[5] == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		setfillstyle(1, BLUE);</span><br><span class="line">		bar(442, 147, 578, 223);</span><br><span class="line">		bar(442, 387, 578, 463);</span><br><span class="line">		drline(440, 145);</span><br><span class="line">		drline(440, 385);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void drhook(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(RED);</span><br><span class="line">	line(x + 110, y + 70, x + 125, y + 80);</span><br><span class="line">	line(x + 111, y + 70, x + 126, y + 80);</span><br><span class="line">	line(x + 124, y + 80, x + 139, y + 50);</span><br><span class="line">	line(x + 125, y + 80, x + 140, y + 50);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void cross(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(WHITE);</span><br><span class="line">	line(x, y, x + 30, y + 30);</span><br><span class="line">	line(x, y + 1, x + 29, y + 30);</span><br><span class="line">	line(x + 1, y, x + 30, y + 29);</span><br><span class="line">	line(x, y + 30, x + 30, y);</span><br><span class="line">	line(x, y + 29, x + 29, y);</span><br><span class="line">	line(x + 1, y + 30, x + 30, y + 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void drline(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">	setcolor(LIGHTGRAY);</span><br><span class="line">	line(x, y, x + 140, y + 80);</span><br><span class="line">	line(x+1, y, x + 141, y + 80);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="借用祖传"><a href="#借用祖传" class="headerlink" title="借用祖传"></a>借用祖传</h2><h3 id="hz-h"><a href="#hz-h" class="headerlink" title="hz.h"></a>hz.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#ifndef __HZ_H__</span><br><span class="line">#define __HZ_H__</span><br><span class="line"></span><br><span class="line">void puthz(int x, int y,char *s,int flag,int part,int color);</span><br><span class="line">#endif</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="hz-c"><a href="#hz-c" class="headerlink" title="hz.c"></a>hz.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;graphics.h&gt;</span><br><span class="line">#include&lt;conio.h&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">#include&lt;string.h&gt;</span><br><span class="line">#include&quot;hz.h&quot;</span><br><span class="line"></span><br><span class="line">void puthz(int x, int y,char *s,int flag,int part,int color)</span><br><span class="line">&#123;</span><br><span class="line">	FILE *hzk_p=NULL;                                       //定义汉字库文件指针</span><br><span class="line">	unsigned char quma,weima;                 //定义汉字的区码和位码</span><br><span class="line">	unsigned long offset;                          //定义汉字在字库中的偏移量</span><br><span class="line">	unsigned char mask[] = &#123;0x80,0x40,0x20,0x10,0x08,0x04,0x02,0x01&#125;;  //功能数组，用于显示汉字点阵中的亮点</span><br><span class="line">	int i,j,pos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	switch(flag)    //不同的flag对应不同的汉字库，实现了汉字的大小可根据需要改变</span><br><span class="line">	&#123;</span><br><span class="line">		case 16 :</span><br><span class="line">				  &#123;</span><br><span class="line">					 char mat[32];   //16*16的汉字需要32个字节的数组来存储</span><br><span class="line">					int y0=y;</span><br><span class="line">					int x0=x;</span><br><span class="line">					 hzk_p = fopen(&quot;HZK\\HZ16&quot;,&quot;rb&quot;);            //使用相对路径</span><br><span class="line">					 if(hzk_p==NULL)</span><br><span class="line">					 &#123;</span><br><span class="line">						settextjustify(LEFT_TEXT,TOP_TEXT);          //左部对齐，顶部对齐</span><br><span class="line">						settextstyle(GOTHIC_FONT,HORIZ_DIR,1);					//黑体笔划输出，水平输出，24*24点阵</span><br><span class="line">						outtextxy(10,10,&quot;Can&#x27;t open hzk16 file!Press any key to quit...&quot;);</span><br><span class="line">						 getch();</span><br><span class="line">						 exit(1);</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line">					while(*s!=NULL)</span><br><span class="line">					&#123;</span><br><span class="line">						while (x&lt;640-flag &amp;&amp; (*s!=NULL))</span><br><span class="line">						&#123;</span><br><span class="line">							y=y0;</span><br><span class="line">							quma=s[0]-0xa0;                      //求出区码</span><br><span class="line">							weima=s[1]-0xa0;                     //求出位码</span><br><span class="line">							offset=(94*(quma-1)+(weima-1))*32L;   //求出要显示的汉字在字库文件中的偏移</span><br><span class="line">							fseek(hzk_p,offset,SEEK_SET);         //重定位文件指针</span><br><span class="line">							fread (mat,32,1,hzk_p);            //读出该汉字的具体点阵数据,1为要读入的项数</span><br><span class="line"></span><br><span class="line">							for(i=0;i&lt;16;i++)</span><br><span class="line">							&#123;</span><br><span class="line">								pos=2*i;       //16*16矩阵中有每一行有两外字节</span><br><span class="line">								for(j=0;j&lt;16;j++)    //一行一行地扫描，将位上为了1的点显示出来</span><br><span class="line">								&#123;</span><br><span class="line">									if((mask[j%8]&amp;mat[pos+j/8])!=NULL)   //j%8只能在0—8之间循环，j/8在0，1之间循环</span><br><span class="line">									&#123;</span><br><span class="line">										putpixel(x+j,y,color);</span><br><span class="line"></span><br><span class="line">									&#125;</span><br><span class="line"></span><br><span class="line">								&#125;</span><br><span class="line">								y++;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">							&#125;</span><br><span class="line">							/*====================================================</span><br><span class="line">								以上是一个汉字显示完</span><br><span class="line">							====================================================*/</span><br><span class="line">							x+=part;        //给x 一个偏移量part</span><br><span class="line">							s+=2;           //汉字里存放的是内码，2个字节，所以要加2</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line">						x=x0;y0+=flag+10; //一行汉字显示完后,重新从左侧开始输出汉字，给y一个偏移量</span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">					break;</span><br><span class="line"></span><br><span class="line">				 &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		case 24 :</span><br><span class="line">				  &#123;</span><br><span class="line">					char mat[72];   //24*24矩阵要72个字节来存储</span><br><span class="line">					 int y0=y;</span><br><span class="line">					 int x0=x;</span><br><span class="line">					hzk_p = fopen(&quot;HZK\\Hzk24k&quot;,&quot;rb&quot;);</span><br><span class="line">					if (hzk_p==NULL)</span><br><span class="line">					&#123;</span><br><span class="line">						settextjustify(LEFT_TEXT,TOP_TEXT);          //左部对齐，顶部对齐</span><br><span class="line">						settextstyle(GOTHIC_FONT,HORIZ_DIR,3);					//黑体笔划输出，水平输出，24*24点阵</span><br><span class="line">						outtextxy(10,10,&quot;Can&#x27;t open hzk24 file!Press any key to quit...&quot;);</span><br><span class="line">						getch();</span><br><span class="line">						exit(1);</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line">					while(*s!=NULL)</span><br><span class="line">					&#123;</span><br><span class="line">						while(x&lt;640-flag &amp;&amp; (*s!=NULL))</span><br><span class="line">						&#123;</span><br><span class="line">							y=y0;</span><br><span class="line">							quma=s[0]-0xa0;                      //求出区码</span><br><span class="line">							weima=s[1]-0xa0;                     //求出位码</span><br><span class="line">							offset=(94*(quma-1)+(weima-1))*72L;</span><br><span class="line">							fseek(hzk_p,offset,SEEK_SET);</span><br><span class="line">							fread (mat,72,1,hzk_p);</span><br><span class="line">							for (i=0;i&lt;24;i++)</span><br><span class="line">							&#123;</span><br><span class="line">								pos=3*i;   //矩阵中每一行有三个字节</span><br><span class="line">								for (j=0;j&lt;24;j++)   // 每一行有24位</span><br><span class="line">								&#123;</span><br><span class="line">									if ((mask[j%8]&amp;mat[pos+j/8])!=NULL)</span><br><span class="line">										putpixel(x+j,y,color);</span><br><span class="line"></span><br><span class="line">								&#125;</span><br><span class="line">								y++;</span><br><span class="line"></span><br><span class="line">							&#125;</span><br><span class="line">							x+=part;</span><br><span class="line">							s+=2;</span><br><span class="line">						&#125;</span><br><span class="line">						x=x0;y0+=flag+10;</span><br><span class="line">					&#125;</span><br><span class="line">						break;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">		case 32 :</span><br><span class="line">				  &#123;</span><br><span class="line">					 char mat[128];   //32*32的汉字需要128个字节的数组来存储</span><br><span class="line">					int y0=y;</span><br><span class="line">					int x0=x;</span><br><span class="line">					 hzk_p = fopen(&quot;HZK\\HZK32S&quot;,&quot;rb&quot;);</span><br><span class="line">					 if(hzk_p==NULL)</span><br><span class="line">					 &#123;</span><br><span class="line">						settextjustify(LEFT_TEXT,TOP_TEXT);          //左部对齐，顶部对齐</span><br><span class="line">						settextstyle(GOTHIC_FONT,HORIZ_DIR,3);					//黑体笔划输出，水平输出，24*24点阵						</span><br><span class="line">						outtextxy(10,10,&quot;Can&#x27;t open hzk32 file!Press any key to quit...&quot;);</span><br><span class="line">						 getch();</span><br><span class="line">						 exit(1);</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line">					while(*s!=NULL)</span><br><span class="line">					&#123;</span><br><span class="line">						while (x&lt;640-flag &amp;&amp; (*s!=NULL))</span><br><span class="line">						&#123;</span><br><span class="line">							y=y0;</span><br><span class="line">							quma=s[0]-0xa0;                      //求出区码</span><br><span class="line">							weima=s[1]-0xa0;                     //求出位码</span><br><span class="line">							offset=(94*(quma-1)+(weima-1))*128L;</span><br><span class="line">							fseek(hzk_p,offset,SEEK_SET);</span><br><span class="line">							fread (mat,128,1,hzk_p);</span><br><span class="line">							for(i=0;i&lt;32;i++)</span><br><span class="line">							&#123;</span><br><span class="line">								pos=4*i;       //32*32矩阵中有每一行有两外字节</span><br><span class="line">								for(j=0;j&lt;32;j++)</span><br><span class="line">								&#123;</span><br><span class="line">									if((mask[j%8]&amp;mat[pos+j/8])!=NULL)</span><br><span class="line">									&#123;</span><br><span class="line">										putpixel(x+j,y,color);</span><br><span class="line"></span><br><span class="line">									&#125;</span><br><span class="line"></span><br><span class="line">								&#125;</span><br><span class="line">								y++;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">							&#125;</span><br><span class="line">								//以上是一个汉字显示完</span><br><span class="line">							x+=part;    //给x 一个偏移量part</span><br><span class="line">							s+=2;          //汉字里存放的是内码，2个字节，所以要加2</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line">						x=x0;y0+=flag+10;   //一行汉字显示完后，给y一个偏移量</span><br><span class="line">					&#125;</span><br><span class="line">						break;</span><br><span class="line"></span><br><span class="line">				 &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		case 48:</span><br><span class="line">				  &#123;</span><br><span class="line">					char mat[288];   //48*48的汉字需要288个字节的数组来存储</span><br><span class="line">					int y0=y;</span><br><span class="line">					int x0=x;</span><br><span class="line">					 hzk_p = fopen(&quot;HZK\\Hzk48k&quot;,&quot;rb&quot;);</span><br><span class="line">					 if(hzk_p==NULL)</span><br><span class="line">					 &#123;</span><br><span class="line">						settextjustify(LEFT_TEXT,TOP_TEXT);          //左部对齐，顶部对齐</span><br><span class="line">						settextstyle(GOTHIC_FONT,HORIZ_DIR,3);					//黑体笔划输出，水平输出，24*24点阵</span><br><span class="line">						outtextxy(10,10,&quot;Can&#x27;t open hzk48 file!Press any key to quit...&quot;);</span><br><span class="line">						 getch();</span><br><span class="line">						 exit(1);</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line">					while(*s!=NULL)</span><br><span class="line">					&#123;</span><br><span class="line">						while (x&lt;640-flag &amp;&amp; (*s!=NULL))</span><br><span class="line">						&#123;</span><br><span class="line">							y=y0;</span><br><span class="line">							quma=s[0]-0xa0;                      //求出区码</span><br><span class="line">							weima=s[1]-0xa0;                     //求出位码</span><br><span class="line">							offset=(94*(quma-1)+(weima-1))*288L;   //求出要显示的汉字在字库文件中的偏移</span><br><span class="line">							fseek(hzk_p,offset,SEEK_SET);         //重定位文件指针</span><br><span class="line">							fread (mat,288,1,hzk_p);            //读出该汉字的具体点阵数据,1为要读入的项数</span><br><span class="line"></span><br><span class="line">							for(i=0;i&lt;48;i++)</span><br><span class="line">							&#123;</span><br><span class="line">								pos=6*i;</span><br><span class="line">								for(j=0;j&lt;48;j++)    //一行一行地扫描，将位上为了1的点显示出来</span><br><span class="line">								&#123;</span><br><span class="line">									if((mask[j%8]&amp;mat[pos+j/8])!=NULL)   //j%8只能在0—8之间循环，j/8在0，1之间循环</span><br><span class="line">									&#123;</span><br><span class="line">										putpixel(x+j,y,color);</span><br><span class="line"></span><br><span class="line">									&#125;</span><br><span class="line"></span><br><span class="line">								&#125;</span><br><span class="line">								y++;</span><br><span class="line">							&#125;</span><br><span class="line">								//以上是一个汉字显示完</span><br><span class="line">							x+=part;    //给x 一个偏移量part</span><br><span class="line">							s+=2;          //汉字里存放的是内码，2个字节，所以要加2</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line">						x=x0;y0+=flag+10;   //一行汉字显示完后，给y一个偏移量</span><br><span class="line">					&#125;</span><br><span class="line">						break;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">		default:</span><br><span class="line">				  break;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fclose(hzk_p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="IMAGE-h"><a href="#IMAGE-h" class="headerlink" title="IMAGE.h"></a>IMAGE.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#ifndef IMAGE_H</span><br><span class="line">#define IMAGE_H</span><br><span class="line"></span><br><span class="line">int bmp_convert(char *bmp,char *dbm);	//将 *.bmp 变为 *.dbm,字符串bmp中为bmp所在地址，字dbmp为输出地址</span><br><span class="line">int show_dbm(int x,int y,char *dbm,int nowpage);	//输入dbmp的路径,在(x,y)输出图片(x需为8的倍数)</span><br><span class="line">void cir_bar(int x1,int y1,int x2,int y2,int color);	//在指定位置画出一个圆角矩形框 </span><br><span class="line">void movetopage(int x1, int y1, int x2, int y2,int page1);</span><br><span class="line">void set_color(int color_no,int red,int green,int blue); //指定颜色编号，修改其对应的rgb值 </span><br><span class="line">int quick_move_2(int Start, int End, int Size);</span><br><span class="line">int quick_move_1(int Start, int End, int Size);</span><br><span class="line">void close_display(void);		//关闭屏幕显示</span><br><span class="line">void open_display(void);		//打开屏幕显示</span><br><span class="line"> </span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="IMAGE-c"><a href="#IMAGE-c" class="headerlink" title="IMAGE.c"></a>IMAGE.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br></pre></td><td class="code"><pre><span class="line">/***********************</span><br><span class="line"></span><br><span class="line">该图像转换及输出函数，要求输入的图片分辨率在640*480之内</span><br><span class="line"></span><br><span class="line">***********************/</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;dos.h&gt;</span><br><span class="line">#include &quot;image.h&quot;</span><br><span class="line">#include &lt;graphics.h&gt;</span><br><span class="line">#include &lt;conio.h&gt;</span><br><span class="line"></span><br><span class="line">int bmp_convert(char *bmp,char *dbm)	//将 *.bmp 变为 *.dbm,字符串bmp中为bmp所在地址，字dbmp为输出地址</span><br><span class="line">&#123;</span><br><span class="line">//	static int color[16]=&#123;0,4,2,6,1,5,3,7,8,12,10,14,9,13,11,15&#125;; 上win下ps </span><br><span class="line">	static int color[16]=&#123;0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15&#125;;//索引与bc内颜色序号对应转换（建议用win画图转化）</span><br><span class="line">	unsigned char dbmline[640],bmpline[640],pixel[8],Vbyte;</span><br><span class="line">	int ImageW,ImageH,i,j,k,n,now,bmpcom,gg ;</span><br><span class="line">	long hangsize;</span><br><span class="line">	FILE *fbmp,*fdbm;</span><br><span class="line">	union &#123;</span><br><span class="line">		unsigned char val;</span><br><span class="line">		struct &#123;</span><br><span class="line">			unsigned cl:4;</span><br><span class="line">			unsigned ch:4;</span><br><span class="line">		&#125;color;	//用位域储存颜色信息，分拆颜色信息 </span><br><span class="line">	&#125;MyColor;</span><br><span class="line">	if((fbmp=fopen(bmp,&quot;rb&quot;))==NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%s\n&quot;,bmp);</span><br><span class="line">		printf(&quot;Open bmp error!&quot;);</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;</span><br><span class="line">	fseek(fbmp,18,SEEK_SET);	//bmp图像的宽高在文件头18字节后</span><br><span class="line">	fread(&amp;gg,4,1,fbmp);</span><br><span class="line">   //	fread(&amp;ImageW,4,1,fbmp);</span><br><span class="line">	fread(&amp;ImageH,4,1,fbmp);</span><br><span class="line">	ImageW=gg;</span><br><span class="line"> //	ImageH*=2;</span><br><span class="line">  //	printf(&quot;%d &quot;,ImageW);</span><br><span class="line">  //	printf(&quot;%d&quot;,ImageH);</span><br><span class="line">	if(ImageW==0||ImageH==0||ImageW&gt;641||ImageH&gt;481)/////注意注意！！根据实际修改/</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;The image is too large!Please input image below 640*480.&quot;);</span><br><span class="line">		fclose(fbmp);</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;</span><br><span class="line">	if((fdbm=fopen(dbm,&quot;wb&quot;))==NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;Creat \&quot;%s\&quot; error!&quot;,dbm);</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;</span><br><span class="line">	bmpcom=(ImageW-1)/8+1;	//行处理单元数</span><br><span class="line">	hangsize=bmpcom*4;	//每行字节数（DIB数据要求每行字节为4整数倍，已计算补零）</span><br><span class="line">	fwrite(&amp;ImageW,sizeof(int),1,fdbm);</span><br><span class="line">	fwrite(&amp;ImageH,sizeof(int),1,fdbm);</span><br><span class="line">	fseek(fbmp,-hangsize,SEEK_END);</span><br><span class="line">	for(i=0;i&lt;ImageH;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		now=0;</span><br><span class="line">		fread(bmpline,hangsize,1,fbmp);</span><br><span class="line">		fseek(fbmp,-hangsize*2,SEEK_CUR);</span><br><span class="line">		for(n=3;n&gt;=0;n--)	//每行拆成四个位面的数据输出</span><br><span class="line">	  // for(n=0;n&lt;=3;n++)</span><br><span class="line">		&#123;</span><br><span class="line">			for(j=0;j&lt;bmpcom;j++)</span><br><span class="line">			&#123;</span><br><span class="line">				Vbyte=0;</span><br><span class="line">				for(k=0;k&lt;4;k++)</span><br><span class="line">				&#123;</span><br><span class="line">					MyColor.val=bmpline[j*4+k];</span><br><span class="line">					pixel[k*2]=color[MyColor.color.ch];</span><br><span class="line">					pixel[k*2+1]=color[MyColor.color.cl];</span><br><span class="line">				&#125;</span><br><span class="line">				for(k=0;k&lt;8;k++)</span><br><span class="line">				&#123;</span><br><span class="line">					Vbyte+=(pixel[k]&gt;&gt;n&amp;1)&lt;&lt;(7-k);</span><br><span class="line">				&#125;</span><br><span class="line">				dbmline[now++]=Vbyte;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		fwrite(dbmline,hangsize,1,fdbm);</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fdbm);</span><br><span class="line">	fclose(fbmp);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int show_dbm(int x,int y,char *dbm,int nowpage)	//输入dbmp的路径,在(x,y)输出图片(x需为8的倍数)</span><br><span class="line">&#123;					</span><br><span class="line">	int ImageW,ImageH,n,i,j;</span><br><span class="line">	long hangsize;</span><br><span class="line">	FILE * fdbm;</span><br><span class="line">	char far * per;</span><br><span class="line">	</span><br><span class="line">	if(nowpage==0)</span><br><span class="line">		per=(char far *)0xA0000000L;</span><br><span class="line">	else</span><br><span class="line">		per=(char far *)0xA8000000L;</span><br><span class="line">	</span><br><span class="line">//	_VideoBusy=YES;			//hanenv系统内的显示寄存器保护变量 </span><br><span class="line">	</span><br><span class="line">	if((fdbm=fopen(dbm,&quot;rb&quot;))==NULL)</span><br><span class="line">	&#123;</span><br><span class="line">	//	printf(&quot;%s&quot;,dbm);</span><br><span class="line">	//	getchar();</span><br><span class="line">	//	printf(&quot;Open Error!&quot;);</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;</span><br><span class="line">	fread(&amp;ImageW,sizeof(int),1,fdbm);</span><br><span class="line">	fread(&amp;ImageH,sizeof(int),1,fdbm);</span><br><span class="line">  //	printf(&quot;%d %d&quot;,ImageW,ImageH);</span><br><span class="line">	hangsize=(ImageW-1)/8;</span><br><span class="line">	per=per+x/8+y*80;</span><br><span class="line">	if((ImageH+y)&gt;480)	ImageH=480-y; 	//VGAMED  640*480</span><br><span class="line">	for(i=0;i&lt;ImageH;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for(n=8;n&gt;=1;n&gt;&gt;=1)	//从第三位颜色平面写到第0</span><br><span class="line">		&#123;</span><br><span class="line">			outportb(0x3c4,2);</span><br><span class="line">			outportb(0x3c5,n);</span><br><span class="line">			fread(per,hangsize,1,fdbm);</span><br><span class="line">			fseek(fdbm,1,SEEK_CUR);</span><br><span class="line">		&#125;</span><br><span class="line">	   //	fseek(fdbm,hangsize*2,SEEK_CUR);</span><br><span class="line">		per+=80;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fdbm);</span><br><span class="line">	</span><br><span class="line">//	_VideoBusy=NO;	</span><br><span class="line">	</span><br><span class="line">	outportb(0x3c5,0xf);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void cir_bar(int x1,int y1,int x2,int y2,int color)	//在指定位置画出一个圆角矩形框 </span><br><span class="line">&#123;</span><br><span class="line">	int w=x2-x1,h=y2-y1;</span><br><span class="line">	setcolor(color);</span><br><span class="line">    setlinestyle(SOLID_LINE,0,THICK_WIDTH);</span><br><span class="line">    ellipse(5+x1,10+y1,90,180,5,10);</span><br><span class="line">    line(0+x1,10+y1,0+x1,10+h-20+y1);</span><br><span class="line">    ellipse(5+x1,10+h-20+y1,180,270,5,10);</span><br><span class="line">    line(5+x1,0+y1,5+w-10+x1,0+y1);</span><br><span class="line">    ellipse(5+w-10+x1+1,10+y1,0,90,5,10);</span><br><span class="line">    line(w+x1,10+y1,w+x1,y2-10);</span><br><span class="line">    ellipse(w-5+x1+1,10+h-20+y1,270,360,5,10);</span><br><span class="line">    line(5+x1,h+y1,5+w-10+x1,h+y1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void movetopage(int x1, int y1, int x2, int y2,int page1)	//显示页间局部图像数据传输，输入左上角坐标及右上角坐标，从page1移动到page2</span><br><span class="line">&#123;	</span><br><span class="line">	int per1, per2;</span><br><span class="line">	int hangsize = (x2 - x1) / 8;</span><br><span class="line">	int high = y2 - y1 + 1;</span><br><span class="line">	register int i, p1, p2;</span><br><span class="line">	if (page1 == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		per2 = 0xA0000000L;</span><br><span class="line">		per1 = 0xA8000000L;</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		per1 = 0xA0000000L;</span><br><span class="line">		per2 = 0xA8000000L;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	per1 = per1 + (x1) / 8 + (y1 ) * 80;</span><br><span class="line">	per2 = per2 + (x1) / 8 + (y1 ) * 80;</span><br><span class="line">	for (i = 0; i &lt;high; i++)		//传输视频图像 </span><br><span class="line">	&#123;</span><br><span class="line">		for (p1 = 8, p2 = 3; p1 &gt;= 1; p1 &gt;&gt;= 1, p2--)	//从第三位颜色平面写到第0</span><br><span class="line">		&#123;</span><br><span class="line">			outportb(0x3c4, 2);		//颜色位面写寄存器 </span><br><span class="line">			outportb(0x3c5, p1);</span><br><span class="line">			outportb(0x3ce, 4);		//颜色位面读寄存器 </span><br><span class="line">			outportb(0x3cf, p2);</span><br><span class="line">			if (page1 == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				quick_move_2(per2, per1, hangsize);</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				quick_move_1(per2, per1, hangsize);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		per1 += 80;</span><br><span class="line">		per2 += 80;</span><br><span class="line">	&#125;</span><br><span class="line">	outportb(0x3cf,0);		//恢复设置 </span><br><span class="line">	outportb(0x3c5,0xf);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void set_color(int color_no,int red,int green,int blue)	//指定颜色编号，修改其对应的rgb值 </span><br><span class="line">&#123;</span><br><span class="line">	if(color_no&lt;16)</span><br><span class="line">	&#123;</span><br><span class="line">		_AX=0x1007;	//选择10H显示中断中的第7号功能</span><br><span class="line">		_BL=color_no;</span><br><span class="line">		geninterrupt(0x10);</span><br><span class="line">		color_no=_BH; </span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">		color_no = 0xff;	//将屏幕边缘色指向调色板255 </span><br><span class="line">		</span><br><span class="line">	//修改调色板寄存器 </span><br><span class="line">	_DH=red;</span><br><span class="line">	_CH=green;</span><br><span class="line">	_CL=blue;</span><br><span class="line">	_BX=color_no;</span><br><span class="line">	_AX=0x1010;</span><br><span class="line">	geninterrupt(0x10);</span><br><span class="line">	</span><br><span class="line">	//处理屏幕边缘颜色</span><br><span class="line">	if(color_no==0xff)</span><br><span class="line">	&#123;</span><br><span class="line">		_BH=0xff;</span><br><span class="line">		_AX=0x1001;</span><br><span class="line">		geninterrupt(0x10);</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*此为用汇编编写的支持跨段寻址的数据传输函数，来自《VGA页面图形数据移动技术在特殊显示效果中的应用》一文*/</span><br><span class="line">int quick_move_1(int Start,int End,int Size)	//Start为原处首地址，End为目标位置首地址 	(1 to 0)</span><br><span class="line">&#123;</span><br><span class="line">	asm&#123;</span><br><span class="line">		push es</span><br><span class="line">		push ds</span><br><span class="line">		push di</span><br><span class="line">		push si</span><br><span class="line">		push ax</span><br><span class="line">		push cx</span><br><span class="line">		push dx</span><br><span class="line">		mov ax,0a800h</span><br><span class="line">		mov ds,ax</span><br><span class="line">		mov ax,Start</span><br><span class="line">		mov si,ax</span><br><span class="line">		mov ax,0a000h</span><br><span class="line">		mov es,ax</span><br><span class="line">		mov ax,End</span><br><span class="line">		mov di,ax</span><br><span class="line">		mov cx,Size</span><br><span class="line">		rep movsb</span><br><span class="line">		pop dx</span><br><span class="line">		pop cx</span><br><span class="line">		pop ax</span><br><span class="line">		pop si</span><br><span class="line">		pop di</span><br><span class="line">		pop ds</span><br><span class="line">		pop es</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int quick_move_2(int Start,int End,int Size)	//Start为原处首地址，End为目标位置首地址 	(0 to 1)</span><br><span class="line">&#123;</span><br><span class="line">	asm&#123;</span><br><span class="line">		push es</span><br><span class="line">		push ds</span><br><span class="line">		push di</span><br><span class="line">		push si</span><br><span class="line">		push ax</span><br><span class="line">		push cx</span><br><span class="line">		push dx</span><br><span class="line">		mov ax,0a000h</span><br><span class="line">		mov ds,ax</span><br><span class="line">		mov ax,Start</span><br><span class="line">		mov si,ax</span><br><span class="line">		mov ax,0a800h</span><br><span class="line">		mov es,ax</span><br><span class="line">		mov ax,End</span><br><span class="line">		mov di,ax</span><br><span class="line">		mov cx,Size</span><br><span class="line">		rep movsb</span><br><span class="line">		pop dx</span><br><span class="line">		pop cx</span><br><span class="line">		pop ax</span><br><span class="line">		pop si</span><br><span class="line">		pop di</span><br><span class="line">		pop ds</span><br><span class="line">		pop es</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void close_display(void)	//关闭屏幕显示</span><br><span class="line">&#123;</span><br><span class="line">	_BL=0x32;</span><br><span class="line">	_AH=0x12;</span><br><span class="line">	_AL=0x01;</span><br><span class="line">	geninterrupt(0x10);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void open_display(void)		//打开屏幕显示</span><br><span class="line">&#123;</span><br><span class="line">	_BL=0x32;</span><br><span class="line">	_AH=0x12;</span><br><span class="line">	_AL=0x00;</span><br><span class="line">	geninterrupt(0x10);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="mouse-h"><a href="#mouse-h" class="headerlink" title="mouse.h"></a>mouse.h</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _mouse_h_</span><br><span class="line">#define _mouse_h_</span><br><span class="line">int mouse_press(int x1, int y1, int x2, int y2);//如果在框中点击，则返回1；在框中未点击，则返回2；不在框中则返回0</span><br><span class="line">void mouse(int,int);//设计鼠标</span><br><span class="line">void mouseinit(void);//初始化</span><br><span class="line">void mou_pos(int*,int*,int*);//更改鼠标位置</span><br><span class="line">void mread(int *,int *,int*);//改坐标不画</span><br><span class="line">void save_bk_mou(int x,int y);//存鼠标背景</span><br><span class="line">void clrmous(int x,int y);//清除鼠标</span><br><span class="line">void drawmous(int x,int y);//画鼠标</span><br><span class="line">void newmouse(int *nx,int *ny,int *nbuttons);   //更新鼠标</span><br><span class="line"></span><br><span class="line">extern int MouseX;</span><br><span class="line">extern int MouseY;</span><br><span class="line">extern int MouseS;</span><br><span class="line">extern int press;</span><br><span class="line">extern union REGS regs;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="mouse-c"><a href="#mouse-c" class="headerlink" title="mouse.c"></a>mouse.c</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;conio.h&gt;</span><br><span class="line">#include&lt;graphics.h&gt;</span><br><span class="line">#include&lt;dos.h&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">#include &quot;mouse.h&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**************************</span><br><span class="line">MOUSE.c</span><br><span class="line">UPDATER: dengshuumin</span><br><span class="line">FUNCTION: mouse action</span><br><span class="line">ABSTRACT:</span><br><span class="line">		A.mread</span><br><span class="line">		B.newmouse</span><br><span class="line">VERSION: 3.0</span><br><span class="line">***************************/</span><br><span class="line">int MouseX;</span><br><span class="line">int MouseY;</span><br><span class="line">int MouseS;</span><br><span class="line">int press;//形状用 &amp;press</span><br><span class="line">void *buffer;//</span><br><span class="line">union REGS regs;</span><br><span class="line">int flag=0;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void mouseinit()//初始化</span><br><span class="line">&#123;</span><br><span class="line">	int retcode;</span><br><span class="line">	int xmin,xmax,ymin,ymax,x_max=625,y_max=480;</span><br><span class="line">	int size;</span><br><span class="line"></span><br><span class="line">	xmin=2;</span><br><span class="line">	xmax=x_max-1;</span><br><span class="line">	ymin=8;</span><br><span class="line">	ymax=y_max-2;</span><br><span class="line">	regs.x.ax=0;</span><br><span class="line">	int86(51,&amp;regs,&amp;regs);</span><br><span class="line">	retcode=regs.x.ax;</span><br><span class="line">	if(retcode==0)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;Mouse or Mouse Driver Obsent,Please Install!&quot;);</span><br><span class="line">		delay(5000);</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		regs.x.ax=7;</span><br><span class="line">		regs.x.cx=xmin;</span><br><span class="line">		regs.x.dx=xmax;</span><br><span class="line">		int86(51,&amp;regs,&amp;regs);</span><br><span class="line">		regs.x.ax=8;</span><br><span class="line">		regs.x.cx=ymin;</span><br><span class="line">		regs.x.dx=ymax;</span><br><span class="line">		int86(51,&amp;regs,&amp;regs);</span><br><span class="line">	&#125;</span><br><span class="line">	MouseS = 0;</span><br><span class="line">	MouseX=320,MouseY=240;</span><br><span class="line">	save_bk_mou(320,240);</span><br><span class="line">	mouse(MouseX,MouseY);</span><br><span class="line">	flag=1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*****************************</span><br><span class="line">FUNCTION: mouse</span><br><span class="line">DESCRIPTION: 画不同形态的鼠标</span><br><span class="line">INPUT: x,y</span><br><span class="line">RETURN: 无</span><br><span class="line">******************************/</span><br><span class="line">void mouse(int x,int y)</span><br><span class="line">&#123;</span><br><span class="line">	</span><br><span class="line">	switch(MouseS)</span><br><span class="line">	&#123;</span><br><span class="line">		case 1:                                  //手势鼠标</span><br><span class="line">		&#123;</span><br><span class="line">				setcolor(WHITE);</span><br><span class="line">				setlinestyle(0,0,1);</span><br><span class="line">				line(x-1,y+9,x-1,y+8);</span><br><span class="line">				line(x,y+7,x,y+11);</span><br><span class="line">				line(x+1,y+6,x+1,y+13);</span><br><span class="line">				line(x+2,y+8,x+2,y+14);</span><br><span class="line">				line(x+3,y-1,x+3,y+15);</span><br><span class="line">				arc(x+4,y-1,0,180,1);</span><br><span class="line">				line(x+4,y-2,x+4,y+15);</span><br><span class="line">				line(x+5,y-1,x+5,y+16);</span><br><span class="line">				arc(x+6,y+3,0,180,1);</span><br><span class="line">				line(x+6,y+2,x+6,y+16);</span><br><span class="line">				line(x+7,y+3,x+7,y+17);</span><br><span class="line">				arc(x+8,y+5,0,180,1);</span><br><span class="line">				line(x+8,y+4,x+8,y+17);</span><br><span class="line">				line(x+9,y+5,x+9,y+16);</span><br><span class="line">				arc(x+10,y+7,0,180,1);</span><br><span class="line">				line(x+10,y+6,x+10,y+16);</span><br><span class="line">				line(x+11,y+7,x+11,y+13);</span><br><span class="line"></span><br><span class="line">				setcolor(DARKGRAY);</span><br><span class="line">				line(x-1,y+9,x-1,y+8);</span><br><span class="line">				line(x-1,y+8,x+1,y+6);</span><br><span class="line">				line(x+1,y+6,x+3,y+10);</span><br><span class="line">				line(x+3,y+10,x+3,y-1);</span><br><span class="line">				arc(x+4,y-1,0,180,1);</span><br><span class="line">				line(x+5,y-1,x+5,y+5);</span><br><span class="line">				arc(x+6,y+3,0,180,1);</span><br><span class="line">				line(x+7,y+3,x+7,y+7);</span><br><span class="line">				arc(x+8,y+5,0,180,1);</span><br><span class="line">				line(x+9,y+5,x+9,y+9);</span><br><span class="line">				arc(x+10,y+7,0,180,1);</span><br><span class="line">				line(x+11,y+7,x+11,y+13);</span><br><span class="line">				arc(x+7,y+13,-90,0,4);</span><br><span class="line">				line(x+7,y+17,x+3,y+15);</span><br><span class="line">				line(x+3,y+15,x+1,y+13);</span><br><span class="line">				line(x+1,y+13,x-1,y+9);</span><br><span class="line">		&#125;</span><br><span class="line">			break;</span><br><span class="line">		case 2:                        //光标</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(DARKGRAY);</span><br><span class="line">			setlinestyle(0,0,1);</span><br><span class="line">			line(x+1,y-1,x+9,y-1);</span><br><span class="line">			line(x+1,y+15,x+9,y+15);</span><br><span class="line">			line(x+5,y-1,x+5,y+15);</span><br><span class="line">		&#125;</span><br><span class="line">			break;</span><br><span class="line">		case 3:                        //十字</span><br><span class="line">		&#123;</span><br><span class="line">			setcolor(WHITE);</span><br><span class="line">			setlinestyle(0,0,1);</span><br><span class="line">			line(x-1,y+7,x+11,y+7);</span><br><span class="line">			line(x+5,y-1,x+5,y+15);</span><br><span class="line">		&#125;</span><br><span class="line">			break;</span><br><span class="line">		default:              //默认鼠标</span><br><span class="line">		&#123;</span><br><span class="line">			setlinestyle(0,0,1);</span><br><span class="line">			setcolor(WHITE);</span><br><span class="line">			line(x,y,x,y+13);</span><br><span class="line">			line(x+1,y+1,x+1,y+12);</span><br><span class="line">			line(x+2,y+2,x+2,y+11);</span><br><span class="line">			line(x+3,y+3,x+3,y+10);</span><br><span class="line">			line(x+4,y+4,x+4,y+12);</span><br><span class="line">			line(x+5,y+5,x+5,y+9);</span><br><span class="line">			line(x+5,y+11,x+5,y+14);</span><br><span class="line">			line(x+6,y+6,x+6,y+9);</span><br><span class="line">			line(x+6,y+13,x+6,y+15);</span><br><span class="line">			line(x+7,y+7,x+7,y+9);</span><br><span class="line">			line(x+8,y+8,x+8,y+9);</span><br><span class="line">			line(x+9,y+9,x+9,y+9);</span><br><span class="line">			setcolor(DARKGRAY);</span><br><span class="line">			line(x-1,y-1,x-1,y+14);</span><br><span class="line">			line(x-1,y+14,x+3,y+11);</span><br><span class="line">			line(x+3,y+11,x+3,y+12);</span><br><span class="line">			line(x+3,y+12,x+4,y+13);</span><br><span class="line">			line(x+4,y+13,x+4,y+14);</span><br><span class="line">			line(x+4,y+14,x+7,y+17);</span><br><span class="line">			line(x+7,y+17,x+7,y+13);</span><br><span class="line">			line(x+7,y+13,x+6,y+12);</span><br><span class="line">			line(x+6,y+12,x+6,y+11);</span><br><span class="line">			line(x+6,y+11,x+5,y+10);</span><br><span class="line">			line(x+5,y+10,x+11,y+10);</span><br><span class="line">			line(x+11,y+10,x-1,y-2);</span><br><span class="line">		&#125;</span><br><span class="line">		break;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void mou_pos(int *nx,int *ny,int*nbuttons)//更改鼠标位置</span><br><span class="line">&#123;</span><br><span class="line">	int x0=*nx,y0=*ny;</span><br><span class="line"></span><br><span class="line">	mread(nx,ny,nbuttons);</span><br><span class="line">	clrmous(x0,y0);</span><br><span class="line">	save_bk_mou(*nx,*ny);</span><br><span class="line">	drawmous(*nx,*ny);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void mread(int *nx,int *ny,int*nbuttons)//改坐标不画</span><br><span class="line">&#123;</span><br><span class="line">	int x0=*nx,y0=*ny,buttons0=*nbuttons;</span><br><span class="line">	int xnew,ynew,buttonsnew;</span><br><span class="line"></span><br><span class="line">	do&#123;</span><br><span class="line">	regs.x.ax=3;</span><br><span class="line">	int86(51,&amp;regs,&amp;regs);</span><br><span class="line">	buttonsnew=regs.x.bx;</span><br><span class="line">	delay(10);</span><br><span class="line">	regs.x.ax=3;</span><br><span class="line">	int86(51,&amp;regs,&amp;regs);</span><br><span class="line">	if(regs.x.bx==buttonsnew)</span><br><span class="line">		*nbuttons=regs.x.bx;</span><br><span class="line">	else</span><br><span class="line">		*nbuttons=buttons0;</span><br><span class="line">	xnew=regs.x.cx;</span><br><span class="line">	ynew=regs.x.dx;</span><br><span class="line">	&#125;while(xnew==x0&amp;&amp;ynew==y0&amp;&amp;*nbuttons==0);</span><br><span class="line">	*nx=xnew;</span><br><span class="line">	*ny=ynew;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/***************************************</span><br><span class="line">FUNCTION: mread</span><br><span class="line">DESCRIPTION: 获取新的寄存器信息</span><br><span class="line">INPUT: nx,ny,nbuttons</span><br><span class="line">RETURN: 无</span><br><span class="line">****************************************/</span><br><span class="line">//void mread(int *nx,int *ny,int *nbuttons)  </span><br><span class="line">//&#123;</span><br><span class="line">//	regs.x.ax=3;</span><br><span class="line">//	int86(51,&amp;regs,&amp;regs);</span><br><span class="line">//	*nx = regs.x.cx;</span><br><span class="line">//	*ny = regs.x.dx;</span><br><span class="line">//	*nbuttons = regs.x.bx;</span><br><span class="line">//&#125;</span><br><span class="line"></span><br><span class="line">/*******************************************</span><br><span class="line">FUNCTION: newmouse</span><br><span class="line">DESCRIPTION: 鼠标状态发生变化则更新鼠标</span><br><span class="line">INPUT: nx,ny,nbuttons</span><br><span class="line">RETURN: 无</span><br><span class="line">********************************************/</span><br><span class="line">void newmouse(int *nx,int *ny,int *nbuttons)</span><br><span class="line">&#123;</span><br><span class="line">	int xn,yn,buttonsn;</span><br><span class="line">	int x0=*nx,y0=*ny,buttons0=*nbuttons;</span><br><span class="line">	mread(&amp;xn,&amp;yn,&amp;buttonsn);</span><br><span class="line">	*nx = xn;</span><br><span class="line">	*ny = yn;</span><br><span class="line">	*nbuttons = buttonsn;</span><br><span class="line">	if(buttons0 == *nbuttons)</span><br><span class="line">		*nbuttons = 0;    //使得能连续按键</span><br><span class="line">	if(xn == x0 &amp;&amp; yn == y0 &amp;&amp; buttonsn == buttons0)</span><br><span class="line">		return;            //鼠标状态不变则直接返回S</span><br><span class="line">	clrmous(x0,y0);        //说明鼠标状态发生了改变</span><br><span class="line">	save_bk_mou(*nx,*ny);</span><br><span class="line">	drawmous(*nx,*ny);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void save_bk_mou(int nx,int ny)//存鼠标背景</span><br><span class="line">&#123;</span><br><span class="line">	int size;</span><br><span class="line"></span><br><span class="line">	size=imagesize(nx-1,ny-2,nx+11,ny+17);</span><br><span class="line">	buffer=malloc(size);</span><br><span class="line">	if(buffer!=NULL)</span><br><span class="line">		getimage(nx-1,ny-2,nx+11,ny+17,buffer);</span><br><span class="line">	else</span><br><span class="line">		printf(&quot;Error&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void clrmous(int nx,int ny)//清除鼠标</span><br><span class="line">&#123;</span><br><span class="line">	if(flag==1)</span><br><span class="line">	&#123;</span><br><span class="line">		setwritemode(XOR_PUT); </span><br><span class="line">		mouse(nx,ny);</span><br><span class="line">		putimage(nx-1,ny-2,buffer,COPY_PUT);</span><br><span class="line">		free(buffer);</span><br><span class="line">		flag=0;</span><br><span class="line">		setwritemode(COPY_PUT);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void drawmous(int nx,int ny)</span><br><span class="line">&#123;</span><br><span class="line">	if(flag==0)</span><br><span class="line">	&#123;</span><br><span class="line">		setwritemode(COPY_PUT);</span><br><span class="line">	    mouse(nx,ny);</span><br><span class="line">		flag=1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//如果在框中点击，则返回1；在框中未点击，则返回2；不在框中则返回0</span><br><span class="line">int mouse_press(int x1, int y1, int x2, int y2)</span><br><span class="line">&#123;</span><br><span class="line">	//在框中点击，则返回1</span><br><span class="line">	if(MouseX &gt; x1 </span><br><span class="line">	&amp;&amp;MouseX &lt; x2</span><br><span class="line">	&amp;&amp;MouseY &gt; y1</span><br><span class="line">	&amp;&amp;MouseY &lt; y2</span><br><span class="line">	&amp;&amp;press == 1)</span><br><span class="line">	&#123;</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	//在框中未点击，则返回2</span><br><span class="line">	else if(MouseX &gt; x1 </span><br><span class="line">	&amp;&amp;MouseX &lt; x2</span><br><span class="line">	&amp;&amp;MouseY &gt; y1</span><br><span class="line">	&amp;&amp;MouseY &lt; y2</span><br><span class="line">	&amp;&amp;press == 0)</span><br><span class="line">	&#123;</span><br><span class="line">		return 2;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	//在框中点击右键，则返回3</span><br><span class="line">	else if(MouseX &gt; x1 </span><br><span class="line">	&amp;&amp;MouseX &lt; x2</span><br><span class="line">	&amp;&amp;MouseY &gt; y1</span><br><span class="line">	&amp;&amp;MouseY &lt; y2</span><br><span class="line">	&amp;&amp;press == 2)</span><br><span class="line">	&#123;</span><br><span class="line">		return 3;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return 0;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="后续补充（完结撒花"><a href="#后续补充（完结撒花" class="headerlink" title="后续补充（完结撒花"></a>后续补充（完结撒花</h1><p>&emsp;<strong>整个程序的源代码。需要解压密码，可以通过邮件获取，或者自己蒙。什么？你问我为什么要解压密码，当然是因为知识产权了，毕竟不是我一个编写的，还是不能随意传播，而且用处不大，你只需要学习就可以了，而且❀可A院这个爆烂的C应该不久会淘汰吧？或许会换新的爆烂。</strong></p>
<p><strong><a href="/download/%E5%86%9C%E7%94%B0%E6%97%A0%E4%BA%BA%E6%9C%BA%E5%96%B7%E6%B4%92%E5%86%9C%E8%8D%AF.7z">点击下载源代码</a></strong></p>
<p><strong>如果不出意外，这个系列更新应该是无了。如果以后有幸帮<del><em>学妹</em></del>学弟搞这玩意，又有了新的东西和新的羁绊，我或许会再加一点东西。现在已经不想更了，因为这一切都和我没关系了（doge），我写的时候可没有像我这么好的人专门花大量时间搞这个。。。</strong></p>
<p><strong>愿世上再无C课设——7.29.2024</strong></p>
<p><strong>完结散花</strong></p>
<hr>
<img src="/2024/03/14/00/11.jpg" class="" title="这是一张图片">

<hr>
<p><strong>10.26.2024——最终删减修改。（这种东西，过了就行，没必要花过多时间在这上面</strong></p>

    </div>

    
    
    
        <div class="reward-container">
  <div>留下万分之一点，采得孤人所笑言</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.png" alt="孑瓜子 微信支付">
        <p>微信支付</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>孑瓜子   
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://zywifeliuying.top/2024/03/14/00/" title="C课设拯救计划">https://zywifeliuying.top/2024/03/14/00/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！

  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/C%E8%AF%BE%E8%AE%BE/" rel="tag"># C课设</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/2024/08/01/02/" rel="next" title="自制作简易扫雷">
      自制作简易扫雷 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC81OTUzNS8zNTk5Nw=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>




        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#C%E8%AF%BE%E8%AE%BE%E6%8B%AF%E6%95%91%E8%AE%A1%E5%88%92"><span class="nav-number">1.</span> <span class="nav-text">C课设拯救计划</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#BC%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5"><span class="nav-number">1.1.</span> <span class="nav-text">BC下载链接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BC%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%9A%84%E7%94%A8%E6%B3%95"><span class="nav-number">1.2.</span> <span class="nav-text">BC最基本的用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E7%BC%96%E5%86%99"><span class="nav-number">1.3.</span> <span class="nav-text">头文件的编写</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B4%B4%E5%9B%BE%E7%9A%84%E5%B7%A5%E5%8E%82%E5%8C%96%E5%AE%9E%E7%8E%B0%EF%BC%88%E5%B7%B2%E5%AE%8C%E5%96%84%EF%BC%89"><span class="nav-number">1.4.</span> <span class="nav-text">贴图的工厂化实现（已完善）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%A5%E5%91%8A%E7%9A%84%E5%80%9F%E9%89%B4%E4%BB%A5%E5%8F%8A%E9%AA%8C%E6%94%B6%E8%BF%87%E7%A8%8B"><span class="nav-number">1.5.</span> <span class="nav-text">报告的借鉴以及验收过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8B%B1%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95"><span class="nav-number">1.6.</span> <span class="nav-text">英文输入法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%96%E7%A8%8B%E7%9A%84%E5%BC%80%E5%A7%8B"><span class="nav-number">2.</span> <span class="nav-text">编程的开始</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E8%B7%AF%E5%8E%86%E7%A8%8B"><span class="nav-number">2.1.</span> <span class="nav-text">思路历程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E8%A1%A5"><span class="nav-number">2.2.</span> <span class="nav-text">后补</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%BA%90%E4%BB%A3%E7%A0%81%E9%80%90%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90"><span class="nav-number">3.</span> <span class="nav-text">源代码逐文件分析</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%91%E7%BC%96%E5%86%99%E7%9A%84%E9%83%A8%E5%88%86"><span class="nav-number">3.1.</span> <span class="nav-text">我编写的部分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#commom-h"><span class="nav-number">3.1.1.</span> <span class="nav-text">commom.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#welcome"><span class="nav-number">3.1.2.</span> <span class="nav-text">welcome</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#main-c"><span class="nav-number">3.1.3.</span> <span class="nav-text">main.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D%EF%BC%881%EF%BC%89"><span class="nav-number">3.1.4.</span> <span class="nav-text">函数介绍（1）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#setbkcolor"><span class="nav-number">3.1.4.1.</span> <span class="nav-text">setbkcolor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#setcolor"><span class="nav-number">3.1.4.2.</span> <span class="nav-text">setcolor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#setfillstyle"><span class="nav-number">3.1.4.3.</span> <span class="nav-text">setfillstyle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bar"><span class="nav-number">3.1.4.4.</span> <span class="nav-text">bar</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#delay"><span class="nav-number">3.1.4.5.</span> <span class="nav-text">delay</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#initgraph%E5%92%8Cclosegraph"><span class="nav-number">3.1.4.6.</span> <span class="nav-text">initgraph和closegraph</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#usehelp"><span class="nav-number">3.1.5.</span> <span class="nav-text">usehelp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#move"><span class="nav-number">3.1.6.</span> <span class="nav-text">move</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#showtime"><span class="nav-number">3.1.7.</span> <span class="nav-text">showtime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mainpage"><span class="nav-number">3.1.8.</span> <span class="nav-text">mainpage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#drzhiwu"><span class="nav-number">3.1.9.</span> <span class="nav-text">drzhiwu</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#abdrone"><span class="nav-number">3.1.10.</span> <span class="nav-text">abdrone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shuju-c"><span class="nav-number">3.1.11.</span> <span class="nav-text">shuju.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shuju-h"><span class="nav-number">3.1.12.</span> <span class="nav-text">shuju.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mainfunc"><span class="nav-number">3.1.13.</span> <span class="nav-text">mainfunc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#illness-h"><span class="nav-number">3.1.14.</span> <span class="nav-text">illness.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#illness-c"><span class="nav-number">3.1.15.</span> <span class="nav-text">illness.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#recover"><span class="nav-number">3.1.16.</span> <span class="nav-text">recover</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#elsetian"><span class="nav-number">3.1.17.</span> <span class="nav-text">elsetian</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#outcome-h"><span class="nav-number">3.1.18.</span> <span class="nav-text">outcome.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#outcome-c"><span class="nav-number">3.1.19.</span> <span class="nav-text">outcome.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#growlook"><span class="nav-number">3.1.20.</span> <span class="nav-text">growlook</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%9F%E5%8F%8B%E5%86%99%E7%9A%84"><span class="nav-number">3.2.</span> <span class="nav-text">队友写的</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#zpjm-h"><span class="nav-number">3.2.1.</span> <span class="nav-text">zpjm.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#zpjm-c"><span class="nav-number">3.2.2.</span> <span class="nav-text">zpjm.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pssj-h"><span class="nav-number">3.2.3.</span> <span class="nav-text">pssj.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pssj-c"><span class="nav-number">3.2.4.</span> <span class="nav-text">pssj.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pensadh-h"><span class="nav-number">3.2.5.</span> <span class="nav-text">pensadh.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pensadh-c"><span class="nav-number">3.2.6.</span> <span class="nav-text">pensadh.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pensa-h"><span class="nav-number">3.2.7.</span> <span class="nav-text">pensa.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pensa-c"><span class="nav-number">3.2.8.</span> <span class="nav-text">pensa.c</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%80%9F%E7%94%A8%E7%A5%96%E4%BC%A0"><span class="nav-number">3.3.</span> <span class="nav-text">借用祖传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hz-h"><span class="nav-number">3.3.1.</span> <span class="nav-text">hz.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hz-c"><span class="nav-number">3.3.2.</span> <span class="nav-text">hz.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IMAGE-h"><span class="nav-number">3.3.3.</span> <span class="nav-text">IMAGE.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IMAGE-c"><span class="nav-number">3.3.4.</span> <span class="nav-text">IMAGE.c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mouse-h"><span class="nav-number">3.3.5.</span> <span class="nav-text">mouse.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mouse-c"><span class="nav-number">3.3.6.</span> <span class="nav-text">mouse.c</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E7%BB%AD%E8%A1%A5%E5%85%85%EF%BC%88%E5%AE%8C%E7%BB%93%E6%92%92%E8%8A%B1"><span class="nav-number">4.</span> <span class="nav-text">后续补充（完结撒花</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="孑瓜子"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">孑瓜子</p>
  <div class="site-description" itemprop="description">冷眼旁观，热心如火</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">孑瓜子</span>
</div>
  <div class="powered-by">
    <!--由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动 -->
  </div>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共56.8k字</span>
  <span class="post-meta-divider">|</span>
  本站总访问量<span id="busuanzi_value_site_pv"></span>次
  <span class="post-meta-divider">|</span>
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
  <span class="post-meta-divider">|</span>
  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
</div>







<div>
<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt = new Date("02/20/2024 10:00:00"); //此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒.";
    }
setInterval("createtime()",250);
</script>
</div>



        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>


  <script async src="/js/cursor/love.min.js"></script>


    </div>
</body>
</html>
